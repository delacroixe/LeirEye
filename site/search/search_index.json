{"config":{"lang":["es"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"LeirEye - Analizador de Red Educativo con IA","text":""},{"location":"#leireye","title":"\ud83c\udf10 LeirEye","text":""},{"location":"#el-analizador-de-red-que-te-ensena-mientras-capturas","title":"El analizador de red que te ense\u00f1a mientras capturas","text":"<p>Herramienta educativa de an\u00e1lisis de tr\u00e1fico de red con IA local. Captura, visualiza, y entiende qu\u00e9 est\u00e1 pasando en tu red.</p> <p>Empezar  GitHub </p>"},{"location":"#caracteristicas-principales","title":"\u2728 Caracter\u00edsticas Principales","text":"<ul> <li> <p> Captura en Tiempo Real</p> <p>Captura paquetes TCP, UDP e ICMP directamente desde tus interfaces de red. Streaming v\u00eda WebSocket para actualizaciones instant\u00e1neas.</p> <p> Ver m\u00e1s</p> </li> <li> <p> IA Explicativa</p> <p>Ollama integrado explica cada paquete en lenguaje simple. \"\u00bfQu\u00e9 est\u00e1 haciendo mi red?\" \u2014 Ahora lo sabr\u00e1s.</p> <p> Ver m\u00e1s</p> </li> <li> <p> Mapa de Red Interactivo</p> <p>Visualiza conexiones como un grafo. Geolocalizaci\u00f3n de IPs p\u00fablicas. Identifica patrones de comunicaci\u00f3n de un vistazo.</p> <p> Ver m\u00e1s</p> </li> <li> <p> Estad\u00edsticas Visuales</p> <p>Gr\u00e1ficos de protocolos, top IPs, puertos m\u00e1s usados. Timeline de actividad y an\u00e1lisis por proceso.</p> <p> Ver m\u00e1s</p> </li> <li> <p> 100% Local y Seguro</p> <p>Todo corre en tu m\u00e1quina. Sin cloud, sin telemetr\u00eda. Tus datos de red nunca salen de tu equipo.</p> <p> Seguridad</p> </li> <li> <p> Dise\u00f1ado para Aprender</p> <p>Documentaci\u00f3n conceptual: qu\u00e9 es TCP, c\u00f3mo funciona DNS,  qu\u00e9 son los puertos... Aprende mientras usas.</p> <p> Conceptos</p> </li> </ul>"},{"location":"#empezar-en-5-minutos","title":"\ud83d\ude80 Empezar en 5 Minutos","text":"Con Docker (Recomendado)Manual <pre><code># 1. Clonar repositorio\ngit clone https://github.com/yourusername/leireye.git\ncd leireye\n\n# 2. Iniciar servicios\ndocker-compose up -d\n\n# 3. Iniciar backend\ncd backend\nalembic upgrade head\npython run.py\n\n# 4. Iniciar frontend (nueva terminal)\ncd frontend\nnpm install &amp;&amp; npm start\n</code></pre> <pre><code># Requisitos: Python 3.11+, Node.js 18+, PostgreSQL\n\n# Backend\ncd backend\npython -m venv venv\nsource venv/bin/activate\npip install -r requirements.txt\nalembic upgrade head\npython run.py\n\n# Frontend (nueva terminal)\ncd frontend\nnpm install\nnpm start\n</code></pre> <p>Abre tu navegador en http://localhost:3001 y reg\u00edstrate.</p> <p>Primer usuario = Admin</p> <p>El primer usuario registrado obtiene rol de ADMIN autom\u00e1ticamente.</p> <p> Gu\u00eda completa de instalaci\u00f3n</p>"},{"location":"#para-quien-es-leireye","title":"\ud83c\udfaf \u00bfPara qui\u00e9n es LeirEye?","text":"Estudiantes Aprende c\u00f3mo funcionan las redes analizando tr\u00e1fico real Educadores Herramienta did\u00e1ctica para ense\u00f1ar conceptos de networking Profesionales de Seguridad An\u00e1lisis r\u00e1pido de tr\u00e1fico con explicaciones contextuales Desarrolladores Debuggea conexiones de red de tus aplicaciones"},{"location":"#stack-tecnologico","title":"Stack Tecnol\u00f3gico","text":"Componente Tecnolog\u00eda Backend FastAPI, Python 3.11+, Scapy Frontend React 19, TypeScript, Recharts Base de Datos PostgreSQL 16, SQLAlchemy IA Ollama (LLM local) Contenedores Docker, Docker Compose Autenticaci\u00f3n JWT, bcrypt, RBAC"},{"location":"#documentacion","title":"\ud83d\udcda Documentaci\u00f3n","text":"<ul> <li> <p> Empezar</p> <p>Instalaci\u00f3n, configuraci\u00f3n inicial, primer uso</p> </li> <li> <p> Gu\u00eda de Uso</p> <p>C\u00f3mo usar cada funcionalidad</p> </li> <li> <p> Conceptos</p> <p>Aprende sobre redes y protocolos</p> </li> <li> <p> API Reference</p> <p>Documentaci\u00f3n t\u00e9cnica de la API</p> </li> <li> <p> Referencia</p> <p>Comandos, troubleshooting, changelog</p> </li> <li> <p> Despliegue</p> <p>Llevar LeirEye a producci\u00f3n</p> </li> </ul>"},{"location":"#contribuir","title":"\ud83e\udd1d Contribuir","text":"<p>LeirEye es open source. \u00a1Las contribuciones son bienvenidas!</p> <ul> <li> Ver c\u00f3digo fuente</li> <li> Reportar un bug</li> <li> Sugerir mejora</li> </ul> MIT License Libre para usar, modificar y distribuir Versi\u00f3n Actual: 2.0.0 \u00daltima actualizaci\u00f3n: Enero 2026"},{"location":"api/","title":"API de LeirEye","text":"<p>Documentaci\u00f3n de la API REST de LeirEye para integraci\u00f3n y automatizaci\u00f3n.</p>"},{"location":"api/#informacion-general","title":"\ud83c\udf10 Informaci\u00f3n General","text":"Propiedad Valor Base URL <code>http://localhost:8000</code> Documentaci\u00f3n Interactiva <code>http://localhost:8000/docs</code> Formato JSON Autenticaci\u00f3n JWT Bearer Token"},{"location":"api/#secciones","title":"\ud83d\udcda Secciones","text":"<ul> <li> <p> Autenticaci\u00f3n</p> <p>Registro, login y manejo de tokens JWT</p> <p> Ver</p> </li> <li> <p> Endpoints</p> <p>Todos los endpoints disponibles</p> <p> Ver</p> </li> <li> <p> WebSocket</p> <p>Streaming de paquetes en tiempo real</p> <p> Ver</p> </li> </ul>"},{"location":"api/#inicio-rapido","title":"\ud83d\ude80 Inicio R\u00e1pido","text":""},{"location":"api/#1-registrar-usuario","title":"1. Registrar Usuario","text":"<pre><code>curl -X POST http://localhost:8000/api/auth/register \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"email\": \"user@example.com\",\n    \"username\": \"myuser\",\n    \"password\": \"Password123\",\n    \"full_name\": \"Mi Nombre\"\n  }'\n</code></pre>"},{"location":"api/#2-obtener-token","title":"2. Obtener Token","text":"<pre><code>curl -X POST http://localhost:8000/api/auth/login \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"email\": \"user@example.com\",\n    \"password\": \"Password123\"\n  }'\n\n# Respuesta:\n# {\n#   \"access_token\": \"eyJhbGci...\",\n#   \"refresh_token\": \"eyJhbGci...\",\n#   \"token_type\": \"bearer\"\n# }\n</code></pre>"},{"location":"api/#3-usar-token","title":"3. Usar Token","text":"<pre><code># Guardar token\nexport TOKEN=\"eyJhbGci...\"\n\n# Hacer petici\u00f3n autenticada\ncurl http://localhost:8000/api/capture/interfaces \\\n  -H \"Authorization: Bearer $TOKEN\"\n</code></pre>"},{"location":"api/#endpoints-principales","title":"\ud83d\udccb Endpoints Principales","text":"M\u00e9todo Endpoint Descripci\u00f3n POST <code>/api/auth/register</code> Registrar usuario POST <code>/api/auth/login</code> Obtener tokens POST <code>/api/auth/refresh</code> Renovar token GET <code>/api/capture/interfaces</code> Listar interfaces de red POST <code>/api/capture/start</code> Iniciar captura POST <code>/api/capture/stop</code> Detener captura GET <code>/api/capture/packets</code> Obtener paquetes capturados GET <code>/api/stats/summary</code> Estad\u00edsticas de tr\u00e1fico GET <code>/api/system/info</code> Informaci\u00f3n del sistema POST <code>/api/ai/explain</code> Explicar paquete con IA"},{"location":"api/#autenticacion","title":"\ud83d\udd10 Autenticaci\u00f3n","text":"<p>La API usa JWT (JSON Web Tokens):</p> <pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 Authorization: Bearer eyJhbGciOiJIUzI1NiIs... \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre> <p>Flujo de autenticaci\u00f3n:</p> <pre><code>sequenceDiagram\n    participant C as Cliente\n    participant A as API\n\n    C-&gt;&gt;A: POST /auth/login (email, password)\n    A-&gt;&gt;C: access_token + refresh_token\n\n    C-&gt;&gt;A: GET /capture/packets + Bearer Token\n    A-&gt;&gt;C: 200 OK + datos\n\n    Note over C,A: Token expira (30 min)\n\n    C-&gt;&gt;A: POST /auth/refresh + refresh_token\n    A-&gt;&gt;C: Nuevo access_token</code></pre>"},{"location":"api/#roles-y-permisos","title":"\ud83d\udd12 Roles y Permisos","text":"Rol Permisos ADMIN Todo: captura, stats, gesti\u00f3n usuarios, sistema ANALYST Captura, stats, AI, consultas VIEWER Solo lectura de datos"},{"location":"api/#codigos-de-respuesta","title":"\ud83d\udcca C\u00f3digos de Respuesta","text":"C\u00f3digo Significado 200 OK - Petici\u00f3n exitosa 201 Created - Recurso creado 400 Bad Request - Datos inv\u00e1lidos 401 Unauthorized - Token inv\u00e1lido/expirado 403 Forbidden - Sin permisos 404 Not Found - Recurso no existe 500 Server Error - Error interno"},{"location":"api/#herramientas-recomendadas","title":"\ud83d\udee0\ufe0f Herramientas Recomendadas","text":"<ul> <li>Swagger UI: <code>http://localhost:8000/docs</code></li> <li>cURL: L\u00ednea de comandos</li> <li>HTTPie: CLI m\u00e1s amigable</li> <li>Postman/Insomnia: GUI para APIs</li> <li>Python requests: Scripting</li> </ul>"},{"location":"api/#ejemplos-de-uso","title":"\ud83d\udca1 Ejemplos de Uso","text":""},{"location":"api/#python","title":"Python","text":"<pre><code>import requests\n\nBASE_URL = \"http://localhost:8000\"\n\n# Login\nresponse = requests.post(f\"{BASE_URL}/api/auth/login\", json={\n    \"email\": \"user@example.com\",\n    \"password\": \"Password123\"\n})\ntoken = response.json()[\"access_token\"]\n\n# Headers para peticiones autenticadas\nheaders = {\"Authorization\": f\"Bearer {token}\"}\n\n# Obtener interfaces\ninterfaces = requests.get(\n    f\"{BASE_URL}/api/capture/interfaces\",\n    headers=headers\n).json()\n\nprint(interfaces)\n</code></pre>"},{"location":"api/#javascripttypescript","title":"JavaScript/TypeScript","text":"<pre><code>const BASE_URL = \"http://localhost:8000\";\n\nasync function getPackets() {\n  // Login\n  const loginRes = await fetch(`${BASE_URL}/api/auth/login`, {\n    method: \"POST\",\n    headers: { \"Content-Type\": \"application/json\" },\n    body: JSON.stringify({\n      email: \"user@example.com\",\n      password: \"Password123\"\n    })\n  });\n  const { access_token } = await loginRes.json();\n\n  // Get packets\n  const packetsRes = await fetch(`${BASE_URL}/api/capture/packets`, {\n    headers: { \"Authorization\": `Bearer ${access_token}` }\n  });\n\n  return packetsRes.json();\n}\n</code></pre>"},{"location":"api/authentication/","title":"Autenticaci\u00f3n","text":"<p>LeirEye usa JWT (JSON Web Tokens) para autenticaci\u00f3n segura.</p>"},{"location":"api/authentication/#flujo-de-autenticacion","title":"\ud83d\udd10 Flujo de Autenticaci\u00f3n","text":"<pre><code>sequenceDiagram\n    participant U as Usuario\n    participant F as Frontend\n    participant B as Backend\n    participant DB as Database\n\n    U-&gt;&gt;F: 1. Ingresar credenciales\n    F-&gt;&gt;B: 2. POST /auth/login\n    B-&gt;&gt;DB: 3. Verificar usuario\n    DB-&gt;&gt;B: 4. Usuario v\u00e1lido\n    B-&gt;&gt;F: 5. access_token + refresh_token\n    F-&gt;&gt;F: 6. Guardar tokens\n\n    Note over F,B: Peticiones autenticadas\n\n    F-&gt;&gt;B: 7. GET /api/... + Bearer token\n    B-&gt;&gt;F: 8. Datos protegidos</code></pre>"},{"location":"api/authentication/#registro","title":"\ud83d\udcdd Registro","text":""},{"location":"api/authentication/#endpoint","title":"Endpoint","text":"<pre><code>POST /api/auth/register\n</code></pre>"},{"location":"api/authentication/#request","title":"Request","text":"<pre><code>{\n  \"email\": \"usuario@ejemplo.com\",\n  \"username\": \"mi_usuario\",\n  \"password\": \"Password123!\",\n  \"full_name\": \"Nombre Completo\"\n}\n</code></pre>"},{"location":"api/authentication/#validaciones","title":"Validaciones","text":"Campo Reglas <code>email</code> Formato v\u00e1lido, \u00fanico <code>username</code> 3-50 caracteres, \u00fanico, alfanum\u00e9rico <code>password</code> M\u00edn 8 chars, may\u00fascula, min\u00fascula, n\u00famero <code>full_name</code> Opcional, m\u00e1x 100 chars"},{"location":"api/authentication/#response-201-created","title":"Response (201 Created)","text":"<pre><code>{\n  \"id\": 1,\n  \"email\": \"usuario@ejemplo.com\",\n  \"username\": \"mi_usuario\",\n  \"full_name\": \"Nombre Completo\",\n  \"role\": \"ADMIN\",\n  \"is_active\": true,\n  \"created_at\": \"2024-01-15T10:30:00Z\"\n}\n</code></pre> <p>Primer Usuario</p> <p>El primer usuario registrado obtiene rol ADMIN autom\u00e1ticamente. Los siguientes obtienen rol VIEWER por defecto.</p>"},{"location":"api/authentication/#errores","title":"Errores","text":"C\u00f3digo Mensaje Causa 400 Email already registered Email duplicado 400 Username already taken Username duplicado 422 Validation error Campos inv\u00e1lidos"},{"location":"api/authentication/#login","title":"\ud83d\udd11 Login","text":""},{"location":"api/authentication/#endpoint_1","title":"Endpoint","text":"<pre><code>POST /api/auth/login\n</code></pre>"},{"location":"api/authentication/#request_1","title":"Request","text":"<pre><code>{\n  \"email\": \"usuario@ejemplo.com\",\n  \"password\": \"Password123!\"\n}\n</code></pre>"},{"location":"api/authentication/#response-200-ok","title":"Response (200 OK)","text":"<pre><code>{\n  \"access_token\": \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...\",\n  \"refresh_token\": \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...\",\n  \"token_type\": \"bearer\",\n  \"expires_in\": 1800\n}\n</code></pre>"},{"location":"api/authentication/#tokens","title":"Tokens","text":"Token Duraci\u00f3n Uso <code>access_token</code> 30 minutos Autenticar peticiones <code>refresh_token</code> 7 d\u00edas Obtener nuevo access_token"},{"location":"api/authentication/#errores_1","title":"Errores","text":"C\u00f3digo Mensaje Causa 401 Invalid credentials Email o password incorrectos 403 Account disabled Usuario desactivado"},{"location":"api/authentication/#refresh-token","title":"\ud83d\udd04 Refresh Token","text":"<p>Cuando el <code>access_token</code> expira, usa el <code>refresh_token</code> para obtener uno nuevo.</p>"},{"location":"api/authentication/#endpoint_2","title":"Endpoint","text":"<pre><code>POST /api/auth/refresh\n</code></pre>"},{"location":"api/authentication/#request_2","title":"Request","text":"<pre><code>{\n  \"refresh_token\": \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...\"\n}\n</code></pre>"},{"location":"api/authentication/#response-200-ok_1","title":"Response (200 OK)","text":"<pre><code>{\n  \"access_token\": \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...\",\n  \"token_type\": \"bearer\",\n  \"expires_in\": 1800\n}\n</code></pre>"},{"location":"api/authentication/#errores_2","title":"Errores","text":"C\u00f3digo Mensaje Causa 401 Invalid refresh token Token inv\u00e1lido o expirado"},{"location":"api/authentication/#obtener-usuario-actual","title":"\ud83d\udc64 Obtener Usuario Actual","text":""},{"location":"api/authentication/#endpoint_3","title":"Endpoint","text":"<pre><code>GET /api/auth/me\n</code></pre>"},{"location":"api/authentication/#headers","title":"Headers","text":"<pre><code>Authorization: Bearer &lt;access_token&gt;\n</code></pre>"},{"location":"api/authentication/#response-200-ok_2","title":"Response (200 OK)","text":"<pre><code>{\n  \"id\": 1,\n  \"email\": \"usuario@ejemplo.com\",\n  \"username\": \"mi_usuario\",\n  \"full_name\": \"Nombre Completo\",\n  \"role\": \"ADMIN\",\n  \"is_active\": true,\n  \"created_at\": \"2024-01-15T10:30:00Z\",\n  \"last_login\": \"2024-01-20T08:45:00Z\"\n}\n</code></pre>"},{"location":"api/authentication/#logout","title":"\ud83d\udeaa Logout","text":""},{"location":"api/authentication/#endpoint_4","title":"Endpoint","text":"<pre><code>POST /api/auth/logout\n</code></pre>"},{"location":"api/authentication/#headers_1","title":"Headers","text":"<pre><code>Authorization: Bearer &lt;access_token&gt;\n</code></pre>"},{"location":"api/authentication/#response-200-ok_3","title":"Response (200 OK)","text":"<pre><code>{\n  \"message\": \"Successfully logged out\"\n}\n</code></pre> <p>Implementaci\u00f3n</p> <p>El logout invalida el token en el servidor. El frontend tambi\u00e9n debe eliminar los tokens guardados.</p>"},{"location":"api/authentication/#usar-tokens","title":"\ud83d\udd12 Usar Tokens","text":""},{"location":"api/authentication/#en-headers-http","title":"En Headers HTTP","text":"<pre><code>curl http://localhost:8000/api/capture/packets \\\n  -H \"Authorization: Bearer eyJhbGciOiJIUzI1NiIs...\"\n</code></pre>"},{"location":"api/authentication/#en-javascript","title":"En JavaScript","text":"<pre><code>const response = await fetch('/api/capture/packets', {\n  headers: {\n    'Authorization': `Bearer ${accessToken}`\n  }\n});\n</code></pre>"},{"location":"api/authentication/#en-python","title":"En Python","text":"<pre><code>import requests\n\nheaders = {\n    'Authorization': f'Bearer {access_token}'\n}\n\nresponse = requests.get(\n    'http://localhost:8000/api/capture/packets',\n    headers=headers\n)\n</code></pre>"},{"location":"api/authentication/#estructura-del-jwt","title":"\ud83d\udee1\ufe0f Estructura del JWT","text":"<p>El token contiene informaci\u00f3n del usuario:</p> <pre><code>{\n  \"sub\": \"1\",\n  \"email\": \"usuario@ejemplo.com\",\n  \"role\": \"ADMIN\",\n  \"exp\": 1705312200,\n  \"iat\": 1705310400\n}\n</code></pre> Campo Descripci\u00f3n <code>sub</code> ID del usuario <code>email</code> Email del usuario <code>role</code> Rol (ADMIN, ANALYST, VIEWER) <code>exp</code> Timestamp de expiraci\u00f3n <code>iat</code> Timestamp de creaci\u00f3n"},{"location":"api/authentication/#roles-y-permisos","title":"\ud83d\udc65 Roles y Permisos","text":""},{"location":"api/authentication/#admin","title":"ADMIN","text":"<ul> <li>\u2705 Todo lo de ANALYST</li> <li>\u2705 Gestionar usuarios</li> <li>\u2705 Ver logs del sistema</li> <li>\u2705 Configuraci\u00f3n global</li> </ul>"},{"location":"api/authentication/#analyst","title":"ANALYST","text":"<ul> <li>\u2705 Todo lo de VIEWER</li> <li>\u2705 Iniciar/detener capturas</li> <li>\u2705 Usar explicador IA</li> <li>\u2705 Exportar datos</li> </ul>"},{"location":"api/authentication/#viewer","title":"VIEWER","text":"<ul> <li>\u2705 Ver paquetes capturados</li> <li>\u2705 Ver estad\u00edsticas</li> <li>\u2705 Ver mapa de red</li> <li>\u274c No puede capturar</li> <li>\u274c No puede modificar</li> </ul>"},{"location":"api/authentication/#ejemplo-completo","title":"\ud83d\udd27 Ejemplo Completo","text":"<pre><code>import requests\nimport time\n\nBASE_URL = \"http://localhost:8000\"\n\nclass LeirEyeClient:\n    def __init__(self):\n        self.access_token = None\n        self.refresh_token = None\n        self.token_expires = 0\n\n    def login(self, email, password):\n        response = requests.post(f\"{BASE_URL}/api/auth/login\", json={\n            \"email\": email,\n            \"password\": password\n        })\n        response.raise_for_status()\n        data = response.json()\n\n        self.access_token = data[\"access_token\"]\n        self.refresh_token = data[\"refresh_token\"]\n        self.token_expires = time.time() + data[\"expires_in\"]\n\n    def _get_headers(self):\n        # Auto-refresh si el token est\u00e1 por expirar\n        if time.time() &gt; self.token_expires - 60:\n            self._refresh()\n\n        return {\"Authorization\": f\"Bearer {self.access_token}\"}\n\n    def _refresh(self):\n        response = requests.post(f\"{BASE_URL}/api/auth/refresh\", json={\n            \"refresh_token\": self.refresh_token\n        })\n        response.raise_for_status()\n        data = response.json()\n\n        self.access_token = data[\"access_token\"]\n        self.token_expires = time.time() + data[\"expires_in\"]\n\n    def get_packets(self):\n        response = requests.get(\n            f\"{BASE_URL}/api/capture/packets\",\n            headers=self._get_headers()\n        )\n        response.raise_for_status()\n        return response.json()\n\n# Uso\nclient = LeirEyeClient()\nclient.login(\"user@example.com\", \"Password123\")\npackets = client.get_packets()\nprint(packets)\n</code></pre>"},{"location":"api/endpoints/","title":"Endpoints de la API","text":"<p>Referencia completa de todos los endpoints disponibles en LeirEye.</p>"},{"location":"api/endpoints/#autenticacion","title":"\ud83d\udd10 Autenticaci\u00f3n","text":"<p>Ver documentaci\u00f3n de autenticaci\u00f3n para detalles.</p> M\u00e9todo Endpoint Descripci\u00f3n POST <code>/api/auth/register</code> Registrar usuario POST <code>/api/auth/login</code> Iniciar sesi\u00f3n POST <code>/api/auth/refresh</code> Renovar token GET <code>/api/auth/me</code> Usuario actual POST <code>/api/auth/logout</code> Cerrar sesi\u00f3n"},{"location":"api/endpoints/#captura-de-paquetes","title":"\ud83d\udce1 Captura de Paquetes","text":""},{"location":"api/endpoints/#listar-interfaces","title":"Listar Interfaces","text":"<pre><code>GET /api/capture/interfaces\n</code></pre> <p>Response: <pre><code>{\n  \"interfaces\": [\n    {\n      \"name\": \"en0\",\n      \"description\": \"Wi-Fi\",\n      \"addresses\": [\"192.168.1.100\"],\n      \"is_up\": true\n    },\n    {\n      \"name\": \"lo0\",\n      \"description\": \"Loopback\",\n      \"addresses\": [\"127.0.0.1\"],\n      \"is_up\": true\n    }\n  ]\n}\n</code></pre></p>"},{"location":"api/endpoints/#iniciar-captura","title":"Iniciar Captura","text":"<pre><code>POST /api/capture/start\n</code></pre> <p>Request: <pre><code>{\n  \"interface\": \"en0\",\n  \"filter\": \"tcp port 80\",\n  \"packet_count\": 100\n}\n</code></pre></p> Par\u00e1metro Tipo Descripci\u00f3n <code>interface</code> string Nombre de la interfaz <code>filter</code> string Filtro BPF (opcional) <code>packet_count</code> int L\u00edmite de paquetes (opcional) <p>Response: <pre><code>{\n  \"status\": \"capturing\",\n  \"session_id\": \"abc123\",\n  \"interface\": \"en0\",\n  \"started_at\": \"2024-01-20T10:30:00Z\"\n}\n</code></pre></p>"},{"location":"api/endpoints/#detener-captura","title":"Detener Captura","text":"<pre><code>POST /api/capture/stop\n</code></pre> <p>Response: <pre><code>{\n  \"status\": \"stopped\",\n  \"packets_captured\": 156,\n  \"duration_seconds\": 45\n}\n</code></pre></p>"},{"location":"api/endpoints/#obtener-estado","title":"Obtener Estado","text":"<pre><code>GET /api/capture/status\n</code></pre> <p>Response: <pre><code>{\n  \"is_capturing\": true,\n  \"interface\": \"en0\",\n  \"packets_captured\": 89,\n  \"started_at\": \"2024-01-20T10:30:00Z\"\n}\n</code></pre></p>"},{"location":"api/endpoints/#listar-paquetes","title":"Listar Paquetes","text":"<pre><code>GET /api/capture/packets\n</code></pre> <p>Query Parameters:</p> Par\u00e1metro Tipo Default Descripci\u00f3n <code>limit</code> int 100 M\u00e1ximo de paquetes <code>offset</code> int 0 Paginaci\u00f3n <code>protocol</code> string - Filtrar por protocolo <code>src_ip</code> string - Filtrar por IP origen <code>dst_ip</code> string - Filtrar por IP destino <p>Response: <pre><code>{\n  \"packets\": [\n    {\n      \"id\": 1,\n      \"timestamp\": \"2024-01-20T10:30:01.123Z\",\n      \"src_ip\": \"192.168.1.100\",\n      \"dst_ip\": \"8.8.8.8\",\n      \"src_port\": 54321,\n      \"dst_port\": 53,\n      \"protocol\": \"UDP\",\n      \"length\": 64,\n      \"info\": \"DNS Query: google.com\"\n    }\n  ],\n  \"total\": 156,\n  \"limit\": 100,\n  \"offset\": 0\n}\n</code></pre></p>"},{"location":"api/endpoints/#detalle-de-paquete","title":"Detalle de Paquete","text":"<pre><code>GET /api/capture/packets/{packet_id}\n</code></pre> <p>Response: <pre><code>{\n  \"id\": 1,\n  \"timestamp\": \"2024-01-20T10:30:01.123Z\",\n  \"layers\": {\n    \"ethernet\": {\n      \"src_mac\": \"aa:bb:cc:dd:ee:ff\",\n      \"dst_mac\": \"11:22:33:44:55:66\",\n      \"type\": \"IPv4\"\n    },\n    \"ip\": {\n      \"version\": 4,\n      \"src\": \"192.168.1.100\",\n      \"dst\": \"8.8.8.8\",\n      \"ttl\": 64,\n      \"protocol\": \"UDP\"\n    },\n    \"udp\": {\n      \"src_port\": 54321,\n      \"dst_port\": 53,\n      \"length\": 44\n    },\n    \"dns\": {\n      \"query\": \"google.com\",\n      \"type\": \"A\"\n    }\n  },\n  \"raw_hex\": \"4500003c...\"\n}\n</code></pre></p>"},{"location":"api/endpoints/#estadisticas","title":"\ud83d\udcca Estad\u00edsticas","text":""},{"location":"api/endpoints/#resumen-general","title":"Resumen General","text":"<pre><code>GET /api/stats/summary\n</code></pre> <p>Response: <pre><code>{\n  \"total_packets\": 1567,\n  \"total_bytes\": 2345678,\n  \"capture_duration\": 300,\n  \"packets_per_second\": 5.22,\n  \"protocols\": {\n    \"TCP\": 1200,\n    \"UDP\": 300,\n    \"ICMP\": 50,\n    \"Other\": 17\n  },\n  \"top_sources\": [\n    {\"ip\": \"192.168.1.100\", \"packets\": 800},\n    {\"ip\": \"192.168.1.1\", \"packets\": 400}\n  ],\n  \"top_destinations\": [\n    {\"ip\": \"8.8.8.8\", \"packets\": 200},\n    {\"ip\": \"142.250.185.14\", \"packets\": 150}\n  ]\n}\n</code></pre></p>"},{"location":"api/endpoints/#estadisticas-por-protocolo","title":"Estad\u00edsticas por Protocolo","text":"<pre><code>GET /api/stats/protocols\n</code></pre> <p>Response: <pre><code>{\n  \"protocols\": [\n    {\n      \"name\": \"TCP\",\n      \"packets\": 1200,\n      \"bytes\": 1800000,\n      \"percentage\": 76.5\n    },\n    {\n      \"name\": \"UDP\",\n      \"packets\": 300,\n      \"bytes\": 45000,\n      \"percentage\": 19.1\n    }\n  ]\n}\n</code></pre></p>"},{"location":"api/endpoints/#estadisticas-por-ip","title":"Estad\u00edsticas por IP","text":"<pre><code>GET /api/stats/ips\n</code></pre> <p>Query Parameters:</p> Par\u00e1metro Tipo Default Descripci\u00f3n <code>direction</code> string \"both\" \"source\", \"destination\", \"both\" <code>limit</code> int 10 Top N IPs <p>Response: <pre><code>{\n  \"sources\": [\n    {\n      \"ip\": \"192.168.1.100\",\n      \"packets\": 800,\n      \"bytes\": 120000,\n      \"protocols\": [\"TCP\", \"UDP\", \"ICMP\"]\n    }\n  ],\n  \"destinations\": [\n    {\n      \"ip\": \"8.8.8.8\",\n      \"packets\": 200,\n      \"bytes\": 15000,\n      \"protocols\": [\"UDP\"]\n    }\n  ]\n}\n</code></pre></p>"},{"location":"api/endpoints/#timeline","title":"Timeline","text":"<pre><code>GET /api/stats/timeline\n</code></pre> <p>Query Parameters:</p> Par\u00e1metro Tipo Default Descripci\u00f3n <code>interval</code> string \"1m\" \"1s\", \"10s\", \"1m\", \"5m\" <code>metric</code> string \"packets\" \"packets\", \"bytes\" <p>Response: <pre><code>{\n  \"interval\": \"1m\",\n  \"metric\": \"packets\",\n  \"data\": [\n    {\"timestamp\": \"2024-01-20T10:30:00Z\", \"value\": 45},\n    {\"timestamp\": \"2024-01-20T10:31:00Z\", \"value\": 52},\n    {\"timestamp\": \"2024-01-20T10:32:00Z\", \"value\": 38}\n  ]\n}\n</code></pre></p>"},{"location":"api/endpoints/#mapa-de-red","title":"\ud83d\uddfa\ufe0f Mapa de Red","text":""},{"location":"api/endpoints/#obtener-nodos-y-conexiones","title":"Obtener Nodos y Conexiones","text":"<pre><code>GET /api/network/map\n</code></pre> <p>Response: <pre><code>{\n  \"nodes\": [\n    {\n      \"id\": \"192.168.1.100\",\n      \"label\": \"My-PC\",\n      \"type\": \"local\",\n      \"packets\": 800\n    },\n    {\n      \"id\": \"192.168.1.1\",\n      \"label\": \"Router\",\n      \"type\": \"gateway\",\n      \"packets\": 400\n    },\n    {\n      \"id\": \"8.8.8.8\",\n      \"label\": \"dns.google\",\n      \"type\": \"external\",\n      \"packets\": 200\n    }\n  ],\n  \"edges\": [\n    {\n      \"source\": \"192.168.1.100\",\n      \"target\": \"8.8.8.8\",\n      \"packets\": 200,\n      \"protocols\": [\"UDP\"]\n    }\n  ]\n}\n</code></pre></p>"},{"location":"api/endpoints/#explicador-ia","title":"\ud83e\udd16 Explicador IA","text":""},{"location":"api/endpoints/#explicar-paquete","title":"Explicar Paquete","text":"<pre><code>POST /api/ai/explain\n</code></pre> <p>Request: <pre><code>{\n  \"packet_id\": 42,\n  \"detail_level\": \"intermediate\"\n}\n</code></pre></p> Par\u00e1metro Tipo Opciones Descripci\u00f3n <code>packet_id</code> int - ID del paquete <code>detail_level</code> string \"basic\", \"intermediate\", \"advanced\" Nivel de detalle <p>Response: <pre><code>{\n  \"explanation\": \"Este paquete es una consulta DNS...\",\n  \"security_assessment\": {\n    \"risk_level\": \"low\",\n    \"concerns\": [],\n    \"recommendations\": []\n  },\n  \"related_concepts\": [\"DNS\", \"UDP\", \"Port 53\"]\n}\n</code></pre></p>"},{"location":"api/endpoints/#sistema","title":"\ud83d\udcbb Sistema","text":""},{"location":"api/endpoints/#informacion-del-sistema","title":"Informaci\u00f3n del Sistema","text":"<pre><code>GET /api/system/info\n</code></pre> <p>Response: <pre><code>{\n  \"os\": {\n    \"name\": \"macOS\",\n    \"version\": \"14.2.1\",\n    \"architecture\": \"arm64\"\n  },\n  \"network\": {\n    \"hostname\": \"MacBook-Pro.local\",\n    \"interfaces\": 5,\n    \"gateway\": \"192.168.1.1\",\n    \"dns_servers\": [\"8.8.8.8\", \"8.8.4.4\"]\n  },\n  \"resources\": {\n    \"cpu_percent\": 15.2,\n    \"memory_percent\": 45.8,\n    \"disk_percent\": 62.1\n  },\n  \"leireye\": {\n    \"version\": \"2.0.0\",\n    \"uptime_seconds\": 3600\n  }\n}\n</code></pre></p>"},{"location":"api/endpoints/#health-check","title":"Health Check","text":"<pre><code>GET /health\n</code></pre> <p>Response: <pre><code>{\n  \"status\": \"healthy\",\n  \"database\": \"connected\",\n  \"ollama\": \"connected\",\n  \"timestamp\": \"2024-01-20T10:30:00Z\"\n}\n</code></pre></p>"},{"location":"api/endpoints/#usuarios-admin","title":"\ud83d\udc65 Usuarios (Admin)","text":""},{"location":"api/endpoints/#listar-usuarios","title":"Listar Usuarios","text":"<pre><code>GET /api/users\n</code></pre> <p>Requiere rol ADMIN</p> <p>Response: <pre><code>{\n  \"users\": [\n    {\n      \"id\": 1,\n      \"email\": \"admin@example.com\",\n      \"username\": \"admin\",\n      \"role\": \"ADMIN\",\n      \"is_active\": true,\n      \"created_at\": \"2024-01-15T10:00:00Z\"\n    }\n  ],\n  \"total\": 5\n}\n</code></pre></p>"},{"location":"api/endpoints/#actualizar-rol","title":"Actualizar Rol","text":"<pre><code>PATCH /api/users/{user_id}/role\n</code></pre> <p>Request: <pre><code>{\n  \"role\": \"ANALYST\"\n}\n</code></pre></p> <p>Response: <pre><code>{\n  \"id\": 2,\n  \"username\": \"analyst1\",\n  \"role\": \"ANALYST\",\n  \"updated_at\": \"2024-01-20T10:30:00Z\"\n}\n</code></pre></p>"},{"location":"api/endpoints/#exportar","title":"\ud83d\udce4 Exportar","text":""},{"location":"api/endpoints/#exportar-paquetes","title":"Exportar Paquetes","text":"<pre><code>GET /api/export/packets\n</code></pre> <p>Query Parameters:</p> Par\u00e1metro Tipo Opciones Descripci\u00f3n <code>format</code> string \"json\", \"csv\", \"pcap\" Formato de salida <code>limit</code> int - L\u00edmite de paquetes <p>Response: - <code>json</code>: Objeto JSON con paquetes - <code>csv</code>: Archivo CSV descargable - <code>pcap</code>: Archivo PCAP descargable</p>"},{"location":"api/endpoints/#exportar-estadisticas","title":"Exportar Estad\u00edsticas","text":"<pre><code>GET /api/export/stats\n</code></pre> <p>Query Parameters:</p> Par\u00e1metro Tipo Opciones Descripci\u00f3n <code>format</code> string \"json\", \"csv\", \"pdf\" Formato de salida"},{"location":"api/endpoints/#manejo-de-errores","title":"\u26a0\ufe0f Manejo de Errores","text":"<p>Todas las respuestas de error siguen este formato:</p> <pre><code>{\n  \"detail\": \"Descripci\u00f3n del error\",\n  \"error_code\": \"INVALID_TOKEN\",\n  \"timestamp\": \"2024-01-20T10:30:00Z\"\n}\n</code></pre>"},{"location":"api/endpoints/#codigos-de-error-comunes","title":"C\u00f3digos de Error Comunes","text":"C\u00f3digo HTTP error_code Descripci\u00f3n 400 INVALID_REQUEST Datos de entrada inv\u00e1lidos 401 INVALID_TOKEN Token JWT inv\u00e1lido o expirado 401 MISSING_TOKEN No se proporcion\u00f3 token 403 INSUFFICIENT_PERMISSIONS Sin permisos para esta acci\u00f3n 404 NOT_FOUND Recurso no encontrado 429 RATE_LIMITED Demasiadas peticiones 500 INTERNAL_ERROR Error interno del servidor"},{"location":"api/websocket/","title":"WebSocket API","text":"<p>LeirEye usa WebSocket para streaming de paquetes en tiempo real.</p>"},{"location":"api/websocket/#conexion","title":"\ud83d\udd0c Conexi\u00f3n","text":""},{"location":"api/websocket/#url","title":"URL","text":"<pre><code>ws://localhost:8000/ws/capture\n</code></pre>"},{"location":"api/websocket/#autenticacion","title":"Autenticaci\u00f3n","text":"<p>Env\u00eda el token JWT como query parameter:</p> <pre><code>ws://localhost:8000/ws/capture?token=eyJhbGci...\n</code></pre> <p>O en el primer mensaje despu\u00e9s de conectar:</p> <pre><code>{\n  \"type\": \"auth\",\n  \"token\": \"eyJhbGciOiJIUzI1NiIs...\"\n}\n</code></pre>"},{"location":"api/websocket/#tipos-de-mensajes","title":"\ud83d\udce8 Tipos de Mensajes","text":""},{"location":"api/websocket/#cliente-servidor","title":"Cliente \u2192 Servidor","text":"Tipo Descripci\u00f3n <code>auth</code> Autenticar conexi\u00f3n <code>subscribe</code> Suscribirse a eventos <code>unsubscribe</code> Cancelar suscripci\u00f3n <code>ping</code> Keep-alive"},{"location":"api/websocket/#servidor-cliente","title":"Servidor \u2192 Cliente","text":"Tipo Descripci\u00f3n <code>auth_success</code> Autenticaci\u00f3n exitosa <code>auth_error</code> Error de autenticaci\u00f3n <code>packet</code> Paquete capturado <code>stats</code> Actualizaci\u00f3n de estad\u00edsticas <code>status</code> Cambio de estado de captura <code>pong</code> Respuesta a ping <code>error</code> Error general"},{"location":"api/websocket/#ejemplos-de-mensajes","title":"\ud83d\udcdd Ejemplos de Mensajes","text":""},{"location":"api/websocket/#autenticacion_1","title":"Autenticaci\u00f3n","text":"<p>Cliente: <pre><code>{\n  \"type\": \"auth\",\n  \"token\": \"eyJhbGciOiJIUzI1NiIs...\"\n}\n</code></pre></p> <p>Servidor (\u00e9xito): <pre><code>{\n  \"type\": \"auth_success\",\n  \"user\": {\n    \"id\": 1,\n    \"username\": \"admin\",\n    \"role\": \"ADMIN\"\n  }\n}\n</code></pre></p> <p>Servidor (error): <pre><code>{\n  \"type\": \"auth_error\",\n  \"message\": \"Invalid or expired token\"\n}\n</code></pre></p>"},{"location":"api/websocket/#suscribirse-a-paquetes","title":"Suscribirse a Paquetes","text":"<p>Cliente: <pre><code>{\n  \"type\": \"subscribe\",\n  \"channel\": \"packets\",\n  \"filters\": {\n    \"protocol\": \"TCP\",\n    \"port\": 443\n  }\n}\n</code></pre></p> <p>Servidor (confirmaci\u00f3n): <pre><code>{\n  \"type\": \"subscribed\",\n  \"channel\": \"packets\",\n  \"filters\": {\n    \"protocol\": \"TCP\",\n    \"port\": 443\n  }\n}\n</code></pre></p>"},{"location":"api/websocket/#recibir-paquetes","title":"Recibir Paquetes","text":"<p>Servidor: <pre><code>{\n  \"type\": \"packet\",\n  \"data\": {\n    \"id\": 42,\n    \"timestamp\": \"2024-01-20T10:30:01.123Z\",\n    \"src_ip\": \"192.168.1.100\",\n    \"dst_ip\": \"142.250.185.14\",\n    \"src_port\": 54321,\n    \"dst_port\": 443,\n    \"protocol\": \"TCP\",\n    \"length\": 1500,\n    \"flags\": [\"ACK\", \"PSH\"],\n    \"info\": \"HTTPS\"\n  }\n}\n</code></pre></p>"},{"location":"api/websocket/#estadisticas-en-tiempo-real","title":"Estad\u00edsticas en Tiempo Real","text":"<p>Servidor (cada segundo): <pre><code>{\n  \"type\": \"stats\",\n  \"data\": {\n    \"packets_total\": 1567,\n    \"packets_per_second\": 45,\n    \"bytes_per_second\": 125000,\n    \"protocols\": {\n      \"TCP\": 35,\n      \"UDP\": 10\n    }\n  }\n}\n</code></pre></p>"},{"location":"api/websocket/#estado-de-captura","title":"Estado de Captura","text":"<p>Servidor: <pre><code>{\n  \"type\": \"status\",\n  \"data\": {\n    \"is_capturing\": true,\n    \"interface\": \"en0\",\n    \"started_at\": \"2024-01-20T10:30:00Z\",\n    \"packets_captured\": 1567\n  }\n}\n</code></pre></p>"},{"location":"api/websocket/#flujo-tipico","title":"\ud83d\udd04 Flujo T\u00edpico","text":"<pre><code>sequenceDiagram\n    participant C as Cliente\n    participant S as Servidor\n\n    C-&gt;&gt;S: Conectar WebSocket\n    S-&gt;&gt;C: Conexi\u00f3n establecida\n\n    C-&gt;&gt;S: {\"type\": \"auth\", \"token\": \"...\"}\n    S-&gt;&gt;C: {\"type\": \"auth_success\", ...}\n\n    C-&gt;&gt;S: {\"type\": \"subscribe\", \"channel\": \"packets\"}\n    S-&gt;&gt;C: {\"type\": \"subscribed\", ...}\n\n    loop Mientras captura activa\n        S-&gt;&gt;C: {\"type\": \"packet\", \"data\": {...}}\n        S-&gt;&gt;C: {\"type\": \"packet\", \"data\": {...}}\n        S-&gt;&gt;C: {\"type\": \"stats\", \"data\": {...}}\n    end\n\n    C-&gt;&gt;S: {\"type\": \"unsubscribe\", \"channel\": \"packets\"}\n    S-&gt;&gt;C: {\"type\": \"unsubscribed\", ...}\n\n    C-&gt;&gt;S: Cerrar conexi\u00f3n</code></pre>"},{"location":"api/websocket/#implementacion","title":"\ud83d\udee0\ufe0f Implementaci\u00f3n","text":""},{"location":"api/websocket/#javascripttypescript","title":"JavaScript/TypeScript","text":"<pre><code>class LeirEyeWebSocket {\n  private ws: WebSocket;\n  private token: string;\n  private reconnectAttempts = 0;\n\n  constructor(token: string) {\n    this.token = token;\n    this.connect();\n  }\n\n  private connect() {\n    this.ws = new WebSocket(`ws://localhost:8000/ws/capture?token=${this.token}`);\n\n    this.ws.onopen = () =&gt; {\n      console.log('Connected to LeirEye');\n      this.reconnectAttempts = 0;\n      this.subscribe('packets');\n    };\n\n    this.ws.onmessage = (event) =&gt; {\n      const message = JSON.parse(event.data);\n      this.handleMessage(message);\n    };\n\n    this.ws.onclose = () =&gt; {\n      console.log('Disconnected, reconnecting...');\n      this.reconnect();\n    };\n\n    this.ws.onerror = (error) =&gt; {\n      console.error('WebSocket error:', error);\n    };\n  }\n\n  private handleMessage(message: any) {\n    switch (message.type) {\n      case 'packet':\n        this.onPacket(message.data);\n        break;\n      case 'stats':\n        this.onStats(message.data);\n        break;\n      case 'status':\n        this.onStatus(message.data);\n        break;\n      case 'error':\n        console.error('Server error:', message.message);\n        break;\n    }\n  }\n\n  private reconnect() {\n    if (this.reconnectAttempts &lt; 5) {\n      this.reconnectAttempts++;\n      setTimeout(() =&gt; this.connect(), 1000 * this.reconnectAttempts);\n    }\n  }\n\n  subscribe(channel: string, filters?: any) {\n    this.send({\n      type: 'subscribe',\n      channel,\n      filters\n    });\n  }\n\n  unsubscribe(channel: string) {\n    this.send({\n      type: 'unsubscribe',\n      channel\n    });\n  }\n\n  private send(data: any) {\n    if (this.ws.readyState === WebSocket.OPEN) {\n      this.ws.send(JSON.stringify(data));\n    }\n  }\n\n  // Callbacks para sobrescribir\n  onPacket(packet: any) {\n    console.log('Packet:', packet);\n  }\n\n  onStats(stats: any) {\n    console.log('Stats:', stats);\n  }\n\n  onStatus(status: any) {\n    console.log('Status:', status);\n  }\n\n  close() {\n    this.ws.close();\n  }\n}\n\n// Uso\nconst ws = new LeirEyeWebSocket('eyJhbGci...');\n\nws.onPacket = (packet) =&gt; {\n  // Agregar paquete a la tabla\n  addPacketToTable(packet);\n};\n\nws.onStats = (stats) =&gt; {\n  // Actualizar gr\u00e1ficos\n  updateCharts(stats);\n};\n</code></pre>"},{"location":"api/websocket/#python","title":"Python","text":"<pre><code>import asyncio\nimport websockets\nimport json\n\nclass LeirEyeWebSocket:\n    def __init__(self, token: str):\n        self.token = token\n        self.uri = f\"ws://localhost:8000/ws/capture?token={token}\"\n\n    async def connect(self):\n        async with websockets.connect(self.uri) as ws:\n            # Suscribirse a paquetes\n            await ws.send(json.dumps({\n                \"type\": \"subscribe\",\n                \"channel\": \"packets\"\n            }))\n\n            # Recibir mensajes\n            async for message in ws:\n                data = json.loads(message)\n                await self.handle_message(data)\n\n    async def handle_message(self, message: dict):\n        msg_type = message.get(\"type\")\n\n        if msg_type == \"packet\":\n            await self.on_packet(message[\"data\"])\n        elif msg_type == \"stats\":\n            await self.on_stats(message[\"data\"])\n        elif msg_type == \"error\":\n            print(f\"Error: {message.get('message')}\")\n\n    async def on_packet(self, packet: dict):\n        print(f\"Packet: {packet['src_ip']} -&gt; {packet['dst_ip']}\")\n\n    async def on_stats(self, stats: dict):\n        print(f\"Stats: {stats['packets_per_second']} pps\")\n\n# Uso\nasync def main():\n    client = LeirEyeWebSocket(\"eyJhbGci...\")\n    await client.connect()\n\nasyncio.run(main())\n</code></pre>"},{"location":"api/websocket/#opciones-de-suscripcion","title":"\u2699\ufe0f Opciones de Suscripci\u00f3n","text":""},{"location":"api/websocket/#filtros-de-paquetes","title":"Filtros de Paquetes","text":"<pre><code>{\n  \"type\": \"subscribe\",\n  \"channel\": \"packets\",\n  \"filters\": {\n    \"protocol\": \"TCP\",\n    \"src_ip\": \"192.168.1.100\",\n    \"dst_ip\": \"8.8.8.8\",\n    \"port\": 443,\n    \"min_length\": 100\n  }\n}\n</code></pre>"},{"location":"api/websocket/#frecuencia-de-stats","title":"Frecuencia de Stats","text":"<pre><code>{\n  \"type\": \"subscribe\",\n  \"channel\": \"stats\",\n  \"options\": {\n    \"interval_ms\": 1000\n  }\n}\n</code></pre>"},{"location":"api/websocket/#manejo-de-errores","title":"\ud83d\udd27 Manejo de Errores","text":""},{"location":"api/websocket/#reconexion","title":"Reconexi\u00f3n","text":"<p>El cliente debe implementar l\u00f3gica de reconexi\u00f3n:</p> <pre><code>const RECONNECT_DELAYS = [1000, 2000, 5000, 10000, 30000];\n\nfunction reconnect(attempt = 0) {\n  const delay = RECONNECT_DELAYS[Math.min(attempt, RECONNECT_DELAYS.length - 1)];\n  setTimeout(() =&gt; connect(), delay);\n}\n</code></pre>"},{"location":"api/websocket/#timeout-de-inactividad","title":"Timeout de Inactividad","text":"<p>El servidor cierra conexiones inactivas despu\u00e9s de 5 minutos. Env\u00eda pings peri\u00f3dicos para mantener la conexi\u00f3n:</p> <pre><code>setInterval(() =&gt; {\n  if (ws.readyState === WebSocket.OPEN) {\n    ws.send(JSON.stringify({ type: 'ping' }));\n  }\n}, 30000);\n</code></pre>"},{"location":"api/websocket/#limites","title":"\ud83d\udcca L\u00edmites","text":"L\u00edmite Valor Conexiones por usuario 5 Mensajes por segundo 100 Tama\u00f1o m\u00e1ximo mensaje 64 KB Timeout inactividad 5 minutos"},{"location":"concepts/","title":"\ud83d\udcda Aprende Redes con LeirEye","text":"<p>Bienvenido a la secci\u00f3n educativa de LeirEye. Aqu\u00ed aprender\u00e1s los conceptos fundamentales de redes y seguridad que te permitir\u00e1n entender lo que ves en la herramienta.</p>"},{"location":"concepts/#por-que-aprender-esto","title":"\ud83c\udfaf \u00bfPor Qu\u00e9 Aprender Esto?","text":"<p>Entender redes te permite:</p> <ul> <li>\ud83d\udd0d Diagnosticar problemas de conectividad</li> <li>\ud83d\udee1\ufe0f Proteger tu red de amenazas</li> <li>\ud83d\ude80 Optimizar el rendimiento</li> <li>\ud83d\udcbc Desarrollar habilidades profesionales</li> </ul>"},{"location":"concepts/#contenido","title":"\ud83d\udcd6 Contenido","text":"<ul> <li> <p> Fundamentos</p> <p>Conceptos b\u00e1sicos de redes: paquetes, direcciones, puertos</p> <p> Empezar</p> </li> <li> <p> Protocolos</p> <p>HTTP, DNS, SSH y otros protocolos que ver\u00e1s en LeirEye</p> <p> Explorar</p> </li> <li> <p> Seguridad</p> <p>Amenazas comunes y c\u00f3mo detectarlas</p> <p> Aprender</p> </li> </ul>"},{"location":"concepts/#mapa-de-aprendizaje","title":"\ud83d\uddfa\ufe0f Mapa de Aprendizaje","text":"<pre><code>flowchart TD\n    subgraph Fundamentos\n        A[\u00bfQu\u00e9 es un paquete?] --&gt; B[Direcciones IP]\n        B --&gt; C[Puertos]\n        C --&gt; D[TCP vs UDP]\n    end\n\n    subgraph Protocolos\n        D --&gt; E[DNS]\n        D --&gt; F[HTTP/HTTPS]\n        D --&gt; G[SSH]\n    end\n\n    subgraph Seguridad\n        E --&gt; H[Amenazas DNS]\n        F --&gt; I[Ataques Web]\n        G --&gt; J[Hardening]\n    end\n\n    style A fill:#64c8ff\n    style E fill:#64ffda\n    style H fill:#ff6b6b</code></pre>"},{"location":"concepts/#rutas-de-aprendizaje","title":"\ud83c\udf93 Rutas de Aprendizaje","text":""},{"location":"concepts/#principiante-2-3-horas","title":"\ud83d\udc76 Principiante (2-3 horas)","text":"<ol> <li>\u00bfQu\u00e9 es un paquete?</li> <li>Direcciones IP explicadas</li> <li>Puertos: las puertas de tu computadora</li> <li>Tu primera captura con LeirEye</li> </ol>"},{"location":"concepts/#intermedio-4-5-horas","title":"\ud83e\uddd1\u200d\ud83d\udcbb Intermedio (4-5 horas)","text":"<ol> <li>TCP vs UDP: \u00bfcu\u00e1l usar?</li> <li>DNS: el directorio de internet</li> <li>HTTP y HTTPS: navegaci\u00f3n web</li> <li>Analizando tu tr\u00e1fico web</li> </ol>"},{"location":"concepts/#seguridad-3-4-horas","title":"\ud83d\udd12 Seguridad (3-4 horas)","text":"<ol> <li>Fundamentos de seguridad en redes</li> <li>Detectando tr\u00e1fico sospechoso</li> <li>Mejores pr\u00e1cticas</li> <li>Usando IA para an\u00e1lisis</li> </ol>"},{"location":"concepts/#el-modelo-osi-simplificado","title":"\ud83d\udcca El Modelo OSI Simplificado","text":"<p>LeirEye trabaja principalmente con las capas 3-7:</p> Capa Nombre Qu\u00e9 Ves en LeirEye 7 Aplicaci\u00f3n HTTP, DNS, datos 4 Transporte TCP, UDP, puertos 3 Red Direcciones IP 2 Enlace Direcciones MAC <pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  Capa 7: Aplicaci\u00f3n (HTTP, DNS, SSH)    \u2502  \u2190 Datos de apps\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502  Capa 4: Transporte (TCP, UDP)          \u2502  \u2190 Puertos\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502  Capa 3: Red (IP)                       \u2502  \u2190 Direcciones IP\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502  Capa 2: Enlace (Ethernet)              \u2502  \u2190 Direcciones MAC\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"concepts/#tips-de-aprendizaje","title":"\ud83d\udca1 Tips de Aprendizaje","text":"<p>Aprende Haciendo</p> <p>La mejor forma de entender redes es experimentando:</p> <ol> <li>Captura tu propio tr\u00e1fico</li> <li>Identifica patrones</li> <li>Usa el explicador IA cuando tengas dudas</li> </ol> <p>No Memorices, Entiende</p> <p>Los detalles t\u00e9cnicos cambiar\u00e1n, pero los conceptos permanecen. Enf\u00f3cate en por qu\u00e9 funcionan las cosas, no solo c\u00f3mo.</p> <p>Practica con Escenarios Reales</p> <ul> <li>Abre YouTube y captura el tr\u00e1fico</li> <li>Env\u00eda un email y observa los paquetes</li> <li>Visita un sitio web y analiza las conexiones</li> </ul>"},{"location":"concepts/#recursos-externos","title":"\ud83d\udd17 Recursos Externos","text":"<p>Para profundizar m\u00e1s:</p> <ul> <li>\ud83d\udcd6 RFC Editor - Especificaciones oficiales</li> <li>\ud83c\udf93 Cisco Networking Academy - Cursos formales</li> <li>\ud83d\udcfa NetworkChuck - Tutoriales en video</li> <li>\ud83d\udee0\ufe0f Wireshark Docs - An\u00e1lisis avanzado</li> </ul>"},{"location":"concepts/basics/","title":"Fundamentos de Redes","text":"<p>Esta secci\u00f3n cubre los conceptos b\u00e1sicos que necesitas entender para usar LeirEye efectivamente.</p>"},{"location":"concepts/basics/#contenido","title":"\ud83d\udcda Contenido","text":"<ul> <li> <p> \u00bfQu\u00e9 es un Paquete?</p> <p>Entiende la unidad b\u00e1sica de comunicaci\u00f3n en redes</p> <p> Leer</p> </li> <li> <p> Direcciones IP</p> <p>C\u00f3mo se identifican los dispositivos en la red</p> <p> Leer</p> </li> <li> <p> Puertos</p> <p>Las \"puertas\" que usan las aplicaciones</p> <p> Leer</p> </li> <li> <p> TCP vs UDP</p> <p>Los dos protocolos de transporte principales</p> <p> Leer</p> </li> </ul>"},{"location":"concepts/basics/#objetivos-de-aprendizaje","title":"\ud83c\udfaf Objetivos de Aprendizaje","text":"<p>Despu\u00e9s de esta secci\u00f3n podr\u00e1s:</p> <ul> <li> Explicar qu\u00e9 es un paquete de red</li> <li> Entender c\u00f3mo funcionan las direcciones IP</li> <li> Identificar puertos y sus usos comunes</li> <li> Diferenciar entre TCP y UDP</li> <li> Interpretar la informaci\u00f3n b\u00e1sica en LeirEye</li> </ul>"},{"location":"concepts/basics/#flujo-de-datos","title":"\ud83d\udd04 Flujo de Datos","text":"<p>Cuando navegas a un sitio web, esto es lo que pasa:</p> <pre><code>sequenceDiagram\n    participant Tu PC\n    participant Router\n    participant Internet\n    participant Servidor\n\n    Tu PC-&gt;&gt;Router: 1. Paquete con solicitud\n    Router-&gt;&gt;Internet: 2. Env\u00edo al ISP\n    Internet-&gt;&gt;Servidor: 3. Llega al destino\n    Servidor-&gt;&gt;Internet: 4. Respuesta\n    Internet-&gt;&gt;Router: 5. De vuelta\n    Router-&gt;&gt;Tu PC: 6. Recibes la p\u00e1gina</code></pre> <p>Cada flecha representa uno o m\u00e1s paquetes viajando por la red.</p>"},{"location":"concepts/basics/#que-veras-en-leireye","title":"\ud83d\udcca \u00bfQu\u00e9 Ver\u00e1s en LeirEye?","text":"<p>Cuando captures tr\u00e1fico, cada fila representa un paquete:</p> <pre><code>#   Tiempo     Origen          Destino         Protocolo  Info\n1   0.000000   192.168.1.100   8.8.8.8         DNS        Query: google.com\n2   0.025432   8.8.8.8         192.168.1.100   DNS        Response: 142.250.x.x\n3   0.030123   192.168.1.100   142.250.x.x     TCP        SYN\n4   0.055678   142.250.x.x     192.168.1.100   TCP        SYN-ACK\n5   0.056012   192.168.1.100   142.250.x.x     TCP        ACK\n6   0.060345   192.168.1.100   142.250.x.x     HTTP       GET /\n</code></pre> <p>\u00bfQu\u00e9 significan estas columnas?</p> Columna Concepto Aprende M\u00e1s Origen/Destino Direcciones IP IP Addresses Protocolo TCP, UDP, DNS... TCP vs UDP Info Puertos, flags Puertos"},{"location":"concepts/basics/#analogia-del-correo","title":"\ud83d\udca1 Analog\u00eda del Correo","text":"<p>Piensa en la red como el sistema postal:</p> Concepto de Red Analog\u00eda Postal Paquete Carta o paquete Direcci\u00f3n IP Direcci\u00f3n de la casa Puerto N\u00famero de apartamento Protocolo Tipo de env\u00edo (urgente, certificado) Router Oficina de correos <pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502         \ud83d\udce6 PAQUETE DE RED           \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502 De: 192.168.1.100:54321            \u2502  \u2190 Tu IP:Puerto\n\u2502 Para: 8.8.8.8:53                   \u2502  \u2190 Destino:Puerto\n\u2502 Tipo: UDP (no requiere firma)       \u2502  \u2190 Protocolo\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502 Contenido:                          \u2502\n\u2502 \"\u00bfCu\u00e1l es la IP de google.com?\"    \u2502  \u2190 Datos\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"concepts/basics/#empieza-aqui","title":"\u26a1 Empieza Aqu\u00ed","text":"<p>Te recomiendo seguir este orden:</p> <ol> <li>\u00bfQu\u00e9 es un Paquete? - El concepto m\u00e1s fundamental</li> <li>Direcciones IP - C\u00f3mo se identifican los dispositivos</li> <li>Puertos - C\u00f3mo las apps se comunican</li> <li>TCP vs UDP - Los dos tipos de env\u00edo</li> </ol> <p>\u00a1Despu\u00e9s estar\u00e1s listo para entender los Protocolos!</p>"},{"location":"concepts/basics/ip-addresses/","title":"Direcciones IP","text":"<p>Una direcci\u00f3n IP es como la direcci\u00f3n de una casa: identifica de forma \u00fanica un dispositivo en una red para que los paquetes sepan a d\u00f3nde ir.</p>"},{"location":"concepts/basics/ip-addresses/#analogia","title":"\ud83c\udfe0 Analog\u00eda","text":"<p>Piensa en internet como una ciudad enorme:</p> <ul> <li>Direcci\u00f3n IP = Direcci\u00f3n de la casa (Calle Mayor 123)</li> <li>Puerto = N\u00famero de apartamento (Apt. 4B)</li> <li>Router = Oficina de correos del barrio</li> </ul>"},{"location":"concepts/basics/ip-addresses/#ipv4-vs-ipv6","title":"\ud83d\udcca IPv4 vs IPv6","text":""},{"location":"concepts/basics/ip-addresses/#ipv4-la-mas-comun","title":"IPv4 (La m\u00e1s com\u00fan)","text":"<p>Formato: 4 n\u00fameros del 0-255 separados por puntos</p> <pre><code>192.168.1.100\n\u2502   \u2502   \u2502  \u2502\n\u2502   \u2502   \u2502  \u2514\u2500 Host (tu dispositivo)\n\u2502   \u2502   \u2514\u2500\u2500\u2500\u2500 Subred\n\u2502   \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 Red\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 Clase\n</code></pre> <p>Ejemplos: - <code>192.168.1.1</code> - Router t\u00edpico de casa - <code>8.8.8.8</code> - DNS de Google - <code>127.0.0.1</code> - Tu propia m\u00e1quina (localhost)</p>"},{"location":"concepts/basics/ip-addresses/#ipv6-el-futuro","title":"IPv6 (El futuro)","text":"<p>Formato: 8 grupos de 4 caracteres hexadecimales</p> <pre><code>2001:0db8:85a3:0000:0000:8a2e:0370:7334\n</code></pre> <p>Se puede abreviar: <pre><code>2001:db8:85a3::8a2e:370:7334\n</code></pre></p> <p>\u00bfPor qu\u00e9 IPv6?</p> <p>IPv4 solo permite ~4.3 mil millones de direcciones. Con tantos dispositivos conectados, \u00a1ya no alcanzan! IPv6 permite 340 sextillones (340 \u00d7 10\u00b3\u2076).</p>"},{"location":"concepts/basics/ip-addresses/#tipos-de-direcciones-ip","title":"\ud83c\udff7\ufe0f Tipos de Direcciones IP","text":""},{"location":"concepts/basics/ip-addresses/#publicas-vs-privadas","title":"P\u00fablicas vs Privadas","text":"Tipo Visible en Internet Uso Ejemplo P\u00fablica \u2705 S\u00ed Servidores, routers 203.0.113.50 Privada \u274c No Red local 192.168.1.100"},{"location":"concepts/basics/ip-addresses/#rangos-de-ips-privadas","title":"Rangos de IPs Privadas","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 Clase A: 10.0.0.0 - 10.255.255.255             \u2502\n\u2502 (16 millones de direcciones)                    \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502 Clase B: 172.16.0.0 - 172.31.255.255           \u2502\n\u2502 (1 mill\u00f3n de direcciones)                       \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502 Clase C: 192.168.0.0 - 192.168.255.255         \u2502\n\u2502 (65 mil direcciones) \u2190 Tu red de casa          \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"concepts/basics/ip-addresses/#direcciones-especiales","title":"Direcciones Especiales","text":"Direcci\u00f3n Nombre Uso <code>127.0.0.1</code> Localhost Tu propia m\u00e1quina <code>0.0.0.0</code> Todas las interfaces Escuchar en todo <code>255.255.255.255</code> Broadcast Enviar a todos <code>169.254.x.x</code> Link-local Sin DHCP disponible"},{"location":"concepts/basics/ip-addresses/#como-funciona-nat","title":"\ud83d\udd04 C\u00f3mo Funciona (NAT)","text":"<p>Tu red de casa usa NAT (Network Address Translation):</p> <pre><code>flowchart LR\n    subgraph \"Tu Casa (IPs Privadas)\"\n        PC[\ud83d\udcbb 192.168.1.100]\n        Phone[\ud83d\udcf1 192.168.1.101]\n        TV[\ud83d\udcfa 192.168.1.102]\n    end\n\n    Router[\ud83c\udf10 Router&lt;br/&gt;192.168.1.1&lt;br/&gt;\u2193&lt;br/&gt;203.0.113.50]\n\n    Internet[\u2601\ufe0f Internet]\n    Server[\ud83d\udda5\ufe0f google.com&lt;br/&gt;142.250.x.x]\n\n    PC --&gt; Router\n    Phone --&gt; Router\n    TV --&gt; Router\n    Router --&gt; Internet\n    Internet --&gt; Server</code></pre> <p>El proceso:</p> <ol> <li>Tu PC (192.168.1.100) env\u00eda paquete a Google</li> <li>El router traduce: cambia 192.168.1.100 \u2192 203.0.113.50</li> <li>Google responde a 203.0.113.50</li> <li>El router traduce de vuelta: 203.0.113.50 \u2192 192.168.1.100</li> <li>Tu PC recibe la respuesta</li> </ol>"},{"location":"concepts/basics/ip-addresses/#en-leireye","title":"\ud83d\udcca En LeirEye","text":"<p>Cuando capturas tr\u00e1fico, ver\u00e1s dos tipos de IPs:</p>"},{"location":"concepts/basics/ip-addresses/#trafico-local","title":"Tr\u00e1fico Local","text":"<pre><code>192.168.1.100 \u2192 192.168.1.1  (Tu PC \u2192 Router)\n</code></pre>"},{"location":"concepts/basics/ip-addresses/#trafico-a-internet","title":"Tr\u00e1fico a Internet","text":"<pre><code>192.168.1.100 \u2192 8.8.8.8      (Tu PC \u2192 DNS Google)\n192.168.1.100 \u2192 142.250.x.x  (Tu PC \u2192 Google)\n</code></pre> <p>Identificar tu IP</p> <pre><code># IP local\nifconfig | grep \"inet \" | grep -v 127.0.0.1\n\n# IP p\u00fablica\ncurl ifconfig.me\n</code></pre>"},{"location":"concepts/basics/ip-addresses/#como-interpretar-ips-en-capturas","title":"\ud83d\udd0d C\u00f3mo Interpretar IPs en Capturas","text":"Rango de IP Probablemente es... 192.168.x.x Dispositivo en tu red 10.x.x.x Dispositivo en red corporativa 172.16-31.x.x Dispositivo en red privada 8.8.8.8, 8.8.4.4 DNS de Google 1.1.1.1 DNS de Cloudflare 127.0.0.1 Tu propia m\u00e1quina Cualquier otra Servidor en internet"},{"location":"concepts/basics/ip-addresses/#herramientas-utiles","title":"\ud83d\udee0\ufe0f Herramientas \u00datiles","text":""},{"location":"concepts/basics/ip-addresses/#ver-tu-configuracion-ip","title":"Ver tu configuraci\u00f3n IP","text":"<pre><code># macOS/Linux\nifconfig\n\n# O m\u00e1s moderno\nip addr show\n</code></pre>"},{"location":"concepts/basics/ip-addresses/#resolver-ip-de-un-dominio","title":"Resolver IP de un dominio","text":"<pre><code>nslookup google.com\n# o\ndig google.com\n</code></pre>"},{"location":"concepts/basics/ip-addresses/#ver-ruta-a-un-destino","title":"Ver ruta a un destino","text":"<pre><code>traceroute google.com\n</code></pre>"},{"location":"concepts/basics/ip-addresses/#consideraciones-de-seguridad","title":"\ud83d\udd12 Consideraciones de Seguridad","text":"<p>Geolocalizaci\u00f3n</p> <p>Las IPs p\u00fablicas pueden revelar tu ubicaci\u00f3n aproximada. Por eso existen VPNs y Tor.</p> <p>IPs Sospechosas</p> <p>En LeirEye, presta atenci\u00f3n a:</p> <ul> <li>IPs que no reconoces comunic\u00e1ndose con tu PC</li> <li>Muchas conexiones a una misma IP desconocida</li> <li>IPs de pa\u00edses inesperados</li> </ul>"},{"location":"concepts/basics/ip-addresses/#verificar-una-ip","title":"Verificar una IP","text":"<pre><code># Informaci\u00f3n sobre una IP\nwhois 8.8.8.8\n\n# Geolocalizaci\u00f3n aproximada\ncurl ipinfo.io/8.8.8.8\n</code></pre>"},{"location":"concepts/basics/ip-addresses/#practica-en-leireye","title":"\ud83d\udca1 Pr\u00e1ctica en LeirEye","text":"<ol> <li>Captura tr\u00e1fico por 1 minuto</li> <li>Identifica qu\u00e9 IPs son locales vs p\u00fablicas</li> <li>Investiga una IP desconocida con <code>whois</code></li> <li>Usa el mapa de red para visualizar conexiones</li> </ol>"},{"location":"concepts/basics/ip-addresses/#siguiente-paso","title":"\ud83d\udcda Siguiente Paso","text":"<ul> <li>Puertos - La otra parte de una direcci\u00f3n de red</li> <li>TCP vs UDP - C\u00f3mo viajan los datos</li> </ul>"},{"location":"concepts/basics/ports/","title":"Puertos de Red","text":"<p>Un puerto es un n\u00famero que identifica una aplicaci\u00f3n o servicio espec\u00edfico en un dispositivo. Si la direcci\u00f3n IP es la direcci\u00f3n de un edificio, el puerto es el n\u00famero de apartamento.</p>"},{"location":"concepts/basics/ports/#analogia","title":"\ud83d\udeaa Analog\u00eda","text":"<p>Imagina un edificio de oficinas:</p> <ul> <li>Direcci\u00f3n del edificio = Direcci\u00f3n IP (192.168.1.100)</li> <li>Oficina 80 = Puerto 80 (Servidor Web)</li> <li>Oficina 22 = Puerto 22 (SSH)</li> <li>Oficina 443 = Puerto 443 (HTTPS)</li> </ul> <p>Cuando env\u00edas un paquete, necesitas saber: 1. \u00bfA qu\u00e9 edificio va? \u2192 IP 2. \u00bfA qu\u00e9 oficina? \u2192 Puerto</p>"},{"location":"concepts/basics/ports/#formato-completo","title":"\ud83d\udcca Formato Completo","text":"<p>Una conexi\u00f3n se identifica por 5 valores:</p> <pre><code>192.168.1.100:54321 \u2192 142.250.185.14:443\n      \u2502        \u2502              \u2502        \u2502\n      \u2502        \u2502              \u2502        \u2514\u2500 Puerto destino (HTTPS)\n      \u2502        \u2502              \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 IP destino (Google)\n      \u2502        \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 Puerto origen (aleatorio)\n      \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 IP origen (tu PC)\n</code></pre>"},{"location":"concepts/basics/ports/#rangos-de-puertos","title":"\ud83c\udfaf Rangos de Puertos","text":"Rango Nombre Uso 0-1023 Well-Known Servicios est\u00e1ndar (requiere root) 1024-49151 Registered Aplicaciones registradas 49152-65535 Dynamic Puertos temporales (ef\u00edmeros)"},{"location":"concepts/basics/ports/#puertos-well-known-0-1023","title":"Puertos Well-Known (0-1023)","text":"Puerto Servicio Descripci\u00f3n 20, 21 FTP Transferencia de archivos 22 SSH Acceso remoto seguro 23 Telnet Acceso remoto (inseguro) 25 SMTP Env\u00edo de correo 53 DNS Resoluci\u00f3n de nombres 67, 68 DHCP Asignaci\u00f3n de IPs 80 HTTP P\u00e1ginas web 110 POP3 Recibir correo 143 IMAP Correo (mantiene en servidor) 443 HTTPS P\u00e1ginas web seguras 993 IMAPS IMAP seguro 995 POP3S POP3 seguro"},{"location":"concepts/basics/ports/#puertos-registrados-comunes","title":"Puertos Registrados Comunes","text":"Puerto Servicio Descripci\u00f3n 1433 MSSQL Base de datos Microsoft 3306 MySQL Base de datos MySQL 3389 RDP Escritorio remoto Windows 5432 PostgreSQL Base de datos PostgreSQL 5900 VNC Escritorio remoto 6379 Redis Cache/Base de datos 8080 HTTP Alt Servidor web alternativo 8443 HTTPS Alt HTTPS alternativo 27017 MongoDB Base de datos MongoDB"},{"location":"concepts/basics/ports/#puerto-origen-vs-destino","title":"\ud83d\udd04 Puerto Origen vs Destino","text":"<pre><code>sequenceDiagram\n    participant Cliente as Tu PC&lt;br/&gt;192.168.1.100\n    participant Servidor as Google&lt;br/&gt;142.250.185.14\n\n    Note over Cliente: Puerto origen: 54321&lt;br/&gt;(aleatorio, ef\u00edmero)\n    Note over Servidor: Puerto destino: 443&lt;br/&gt;(HTTPS, fijo)\n\n    Cliente-&gt;&gt;Servidor: :54321 \u2192 :443 [SYN]\n    Servidor-&gt;&gt;Cliente: :443 \u2192 :54321 [SYN-ACK]\n    Cliente-&gt;&gt;Servidor: :54321 \u2192 :443 [ACK]</code></pre> <p>Puerto Origen:  - Elegido autom\u00e1ticamente por tu sistema operativo - Rango 49152-65535 (ef\u00edmero) - Diferente para cada conexi\u00f3n</p> <p>Puerto Destino: - Fijo, determina el servicio - Puerto 443 = siempre HTTPS - Puerto 80 = siempre HTTP</p>"},{"location":"concepts/basics/ports/#en-leireye","title":"\ud83d\udcca En LeirEye","text":"<p>En la captura ver\u00e1s algo como:</p> <pre><code>#   Origen              Destino             Proto  Info\n1   192.168.1.100:54321 8.8.8.8:53          UDP    DNS Query\n2   192.168.1.100:54322 142.250.185.14:443  TCP    HTTPS\n3   192.168.1.100:54323 151.101.1.140:443   TCP    HTTPS (Reddit)\n</code></pre>"},{"location":"concepts/basics/ports/#interpretar-puertos","title":"Interpretar Puertos","text":"Puerto Destino Significa :53 Consulta DNS :80 Navegaci\u00f3n HTTP (sin cifrar) :443 Navegaci\u00f3n HTTPS (cifrada) :22 Conexi\u00f3n SSH :3306 Conexi\u00f3n a MySQL"},{"location":"concepts/basics/ports/#ver-puertos-en-uso","title":"\ud83d\udd0d Ver Puertos en Uso","text":""},{"location":"concepts/basics/ports/#en-tu-sistema","title":"En tu sistema","text":"<pre><code># macOS/Linux: Ver puertos en escucha\nnetstat -an | grep LISTEN\n\n# O m\u00e1s moderno\nlsof -i -P | grep LISTEN\n\n# Ver qu\u00e9 proceso usa un puerto\nlsof -i :8000\n</code></pre>"},{"location":"concepts/basics/ports/#ejemplo-de-salida","title":"Ejemplo de salida","text":"<pre><code>COMMAND   PID   USER   FD   TYPE  DEVICE  NAME\npython    1234  user   5u   IPv4  0x1234  *:8000 (LISTEN)\nnode      5678  user   12u  IPv4  0x5678  *:3001 (LISTEN)\npostgres  9012  user   8u   IPv4  0x9012  *:5432 (LISTEN)\n</code></pre>"},{"location":"concepts/basics/ports/#puertos-sospechosos","title":"\u26a0\ufe0f Puertos Sospechosos","text":"<p>Algunos puertos merecen atenci\u00f3n especial:</p> Puerto Por qu\u00e9 es sospechoso 4444 Default de Metasploit 5555 ADB (Android Debug) expuesto 6666, 6667 IRC (usado por botnets) 31337 \"Elite\" - backdoors cl\u00e1sicos 1337 \"Leet\" - otro puerto de hackers <p>En LeirEye</p> <p>Si ves tr\u00e1fico significativo a estos puertos, investiga qu\u00e9 proceso lo est\u00e1 generando: <pre><code>lsof -i :4444\n</code></pre></p>"},{"location":"concepts/basics/ports/#seguridad-de-puertos","title":"\ud83d\udd12 Seguridad de Puertos","text":""},{"location":"concepts/basics/ports/#firewall","title":"Firewall","text":"<p>Controla qu\u00e9 puertos est\u00e1n abiertos:</p> <pre><code># macOS: Ver reglas de firewall\nsudo pfctl -s rules\n\n# Linux: Ver reglas de iptables\nsudo iptables -L\n\n# Bloquear un puerto\nsudo iptables -A INPUT -p tcp --dport 4444 -j DROP\n</code></pre>"},{"location":"concepts/basics/ports/#escaneo-de-puertos","title":"Escaneo de Puertos","text":"<p>Para ver qu\u00e9 puertos tiene abiertos un host:</p> <pre><code># Escaneo b\u00e1sico con nmap\nnmap 192.168.1.1\n\n# Escaneo de puertos comunes\nnmap -F 192.168.1.1\n\n# Escaneo completo (tarda m\u00e1s)\nnmap -p- 192.168.1.1\n</code></pre>"},{"location":"concepts/basics/ports/#practica-en-leireye","title":"\ud83d\udca1 Pr\u00e1ctica en LeirEye","text":"<ol> <li>Captura tr\u00e1fico mientras navegas</li> <li>Filtra por puerto 443 (HTTPS)</li> <li>Observa cu\u00e1ntas conexiones diferentes hay</li> <li>Compara con puerto 80 (HTTP) - deber\u00eda haber menos</li> </ol>"},{"location":"concepts/basics/ports/#experimento","title":"Experimento","text":"<pre><code># En una terminal\npython -m http.server 8000\n\n# En el navegador\n# Abre http://localhost:8000\n\n# En LeirEye\n# Captura en interfaz lo0 (loopback)\n# Ver\u00e1s tr\u00e1fico al puerto 8000\n</code></pre>"},{"location":"concepts/basics/ports/#siguiente-paso","title":"\ud83d\udcda Siguiente Paso","text":"<ul> <li>TCP vs UDP - C\u00f3mo se transmiten los datos</li> <li>Protocolos - HTTP, DNS, SSH y m\u00e1s</li> </ul>"},{"location":"concepts/basics/tcp-vs-udp/","title":"TCP vs UDP","text":"<p>TCP y UDP son los dos protocolos principales de capa de transporte. Determinan c\u00f3mo se env\u00edan los datos entre aplicaciones.</p>"},{"location":"concepts/basics/tcp-vs-udp/#resumen-rapido","title":"\u26a1 Resumen R\u00e1pido","text":"Caracter\u00edstica TCP UDP Conexi\u00f3n Orientado a conexi\u00f3n Sin conexi\u00f3n Fiabilidad Garantiza entrega No garantiza Orden Mantiene orden Puede desordenarse Velocidad M\u00e1s lento M\u00e1s r\u00e1pido Uso t\u00edpico Web, email, archivos Video, gaming, DNS"},{"location":"concepts/basics/tcp-vs-udp/#analogia-telefono-vs-correo-postal","title":"\ud83d\udcde Analog\u00eda: Tel\u00e9fono vs Correo Postal","text":""},{"location":"concepts/basics/tcp-vs-udp/#tcp-llamada-telefonica","title":"TCP = Llamada Telef\u00f3nica","text":"<pre><code>sequenceDiagram\n    participant A as Tu PC\n    participant B as Servidor\n\n    Note over A,B: 1. Establecer conexi\u00f3n\n    A-&gt;&gt;B: \u00bfHola, puedes hablar? (SYN)\n    B-&gt;&gt;A: S\u00ed, te escucho (SYN-ACK)\n    A-&gt;&gt;B: Perfecto, empezamos (ACK)\n\n    Note over A,B: 2. Conversaci\u00f3n\n    A-&gt;&gt;B: Mensaje 1\n    B-&gt;&gt;A: Recibido \u2713\n    A-&gt;&gt;B: Mensaje 2\n    B-&gt;&gt;A: Recibido \u2713\n\n    Note over A,B: 3. Despedida\n    A-&gt;&gt;B: Adi\u00f3s (FIN)\n    B-&gt;&gt;A: Adi\u00f3s (FIN-ACK)</code></pre> <ul> <li>\u2705 Sabes que el otro est\u00e1 escuchando</li> <li>\u2705 Confirmas que cada mensaje lleg\u00f3</li> <li>\u2705 Conversaci\u00f3n ordenada</li> <li>\u274c Toma tiempo establecer la llamada</li> </ul>"},{"location":"concepts/basics/tcp-vs-udp/#udp-enviar-postales","title":"UDP = Enviar Postales","text":"<pre><code>flowchart LR\n    A[Tu PC] --&gt;|Postal 1| B[Servidor]\n    A --&gt;|Postal 2| B\n    A --&gt;|Postal 3| B</code></pre> <ul> <li>\u2705 R\u00e1pido, solo env\u00edas</li> <li>\u2705 Sin esperar confirmaci\u00f3n</li> <li>\u274c No sabes si lleg\u00f3</li> <li>\u274c Pueden llegar desordenadas</li> </ul>"},{"location":"concepts/basics/tcp-vs-udp/#tcp-en-detalle","title":"\ud83d\udd0d TCP en Detalle","text":""},{"location":"concepts/basics/tcp-vs-udp/#el-three-way-handshake","title":"El Three-Way Handshake","text":"<p>Antes de enviar datos, TCP establece una conexi\u00f3n:</p> <pre><code>Cliente                    Servidor\n   \u2502                          \u2502\n   \u2502\u2500\u2500\u2500\u2500 SYN (seq=100) \u2500\u2500\u2500\u2500\u2500\u2500&gt;\u2502  \"Quiero conectar\"\n   \u2502                          \u2502\n   \u2502&lt;\u2500\u2500 SYN-ACK (seq=300, \u2500\u2500\u2500\u2500\u2502  \"OK, conectemos\"\n   \u2502         ack=101)         \u2502\n   \u2502                          \u2502\n   \u2502\u2500\u2500\u2500\u2500 ACK (ack=301) \u2500\u2500\u2500\u2500\u2500\u2500&gt;\u2502  \"Perfecto\"\n   \u2502                          \u2502\n   \u2502     CONEXI\u00d3N ESTABLECIDA \u2502\n</code></pre>"},{"location":"concepts/basics/tcp-vs-udp/#flags-tcp","title":"Flags TCP","text":"<p>En LeirEye ver\u00e1s estos flags:</p> Flag Nombre Significado SYN Synchronize \"Quiero iniciar conexi\u00f3n\" ACK Acknowledge \"Recib\u00ed tu mensaje\" FIN Finish \"Quiero cerrar conexi\u00f3n\" RST Reset \"Abortar conexi\u00f3n\" PSH Push \"Procesa estos datos ya\" URG Urgent \"Datos urgentes\""},{"location":"concepts/basics/tcp-vs-udp/#ejemplo-en-leireye","title":"Ejemplo en LeirEye","text":"<pre><code>#   Tiempo   Origen\u2192Destino              Flags    Info\n1   0.000    192.168.1.100\u2192142.250.x.x   [SYN]    Seq=0\n2   0.025    142.250.x.x\u2192192.168.1.100   [SYN,ACK] Seq=0 Ack=1\n3   0.026    192.168.1.100\u2192142.250.x.x   [ACK]    Seq=1 Ack=1\n4   0.027    192.168.1.100\u2192142.250.x.x   [PSH,ACK] HTTP GET /\n5   0.052    142.250.x.x\u2192192.168.1.100   [ACK]    Ack=...\n6   0.053    142.250.x.x\u2192192.168.1.100   [PSH,ACK] HTTP 200 OK\n</code></pre>"},{"location":"concepts/basics/tcp-vs-udp/#retransmision","title":"Retransmisi\u00f3n","text":"<p>Si un paquete se pierde, TCP lo reenv\u00eda:</p> <pre><code>Cliente                    Servidor\n   \u2502                          \u2502\n   \u2502\u2500\u2500\u2500\u2500 Paquete 1 \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500&gt;\u2502 \u2713 Lleg\u00f3\n   \u2502&lt;\u2500\u2500\u2500\u2500 ACK 1 \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2502\n   \u2502                          \u2502\n   \u2502\u2500\u2500\u2500\u2500 Paquete 2 \u2500\u2500\u2500\u2500X      \u2502 \u2717 Perdido\n   \u2502                          \u2502\n   \u2502     (espera timeout)     \u2502\n   \u2502                          \u2502\n   \u2502\u2500\u2500\u2500\u2500 Paquete 2 \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500&gt;\u2502 \u2713 Reintento\n   \u2502&lt;\u2500\u2500\u2500\u2500 ACK 2 \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2502\n</code></pre>"},{"location":"concepts/basics/tcp-vs-udp/#udp-en-detalle","title":"\ud83d\ude80 UDP en Detalle","text":""},{"location":"concepts/basics/tcp-vs-udp/#sin-handshake","title":"Sin Handshake","text":"<p>UDP simplemente env\u00eda:</p> <pre><code>Cliente                    Servidor\n   \u2502                          \u2502\n   \u2502\u2500\u2500\u2500\u2500 Datos 1 \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500&gt;\u2502\n   \u2502\u2500\u2500\u2500\u2500 Datos 2 \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500&gt;\u2502\n   \u2502\u2500\u2500\u2500\u2500 Datos 3 \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500&gt;\u2502\n   \u2502                          \u2502\n   \u2502  (sin confirmaci\u00f3n)      \u2502\n</code></pre>"},{"location":"concepts/basics/tcp-vs-udp/#estructura-simple","title":"Estructura Simple","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 Puerto Origen  \u2502  Puerto Destino   \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502    Longitud    \u2502    Checksum       \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502              DATOS                  \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre> <p>Solo 8 bytes de cabecera (TCP tiene 20-60 bytes).</p>"},{"location":"concepts/basics/tcp-vs-udp/#ejemplo-en-leireye_1","title":"Ejemplo en LeirEye","text":"<pre><code>#   Tiempo   Origen\u2192Destino         Proto  Info\n1   0.000    192.168.1.100\u21928.8.8.8  UDP    DNS Query: google.com\n2   0.025    8.8.8.8\u2192192.168.1.100  UDP    DNS Response: 142.250.x.x\n</code></pre>"},{"location":"concepts/basics/tcp-vs-udp/#cuando-usar-cada-uno","title":"\ud83c\udfaf Cu\u00e1ndo Usar Cada Uno","text":""},{"location":"concepts/basics/tcp-vs-udp/#tcp-es-mejor-para","title":"TCP es mejor para:","text":"Aplicaci\u00f3n Por qu\u00e9 TCP \ud83c\udf10 Navegaci\u00f3n web P\u00e1ginas deben llegar completas \ud83d\udce7 Email Mensajes no pueden perderse \ud83d\udcc1 Transferencia de archivos Archivos deben estar \u00edntegros \ud83d\udd10 SSH Comandos deben ejecutarse en orden \ud83d\udcb3 Transacciones Datos financieros cr\u00edticos"},{"location":"concepts/basics/tcp-vs-udp/#udp-es-mejor-para","title":"UDP es mejor para:","text":"Aplicaci\u00f3n Por qu\u00e9 UDP \ud83c\udfae Gaming online Latencia baja m\u00e1s importante que perder un frame \ud83d\udcf9 Video streaming Mejor saltarse un frame que pausar \ud83d\udcde VoIP/Videollamadas Audio en tiempo real \ud83d\udd0d DNS Consultas r\u00e1pidas y peque\u00f1as \ud83d\udce1 Streaming en vivo Tiempo real prioritario"},{"location":"concepts/basics/tcp-vs-udp/#comparacion-visual","title":"\ud83d\udcca Comparaci\u00f3n Visual","text":"<pre><code>         TCP                           UDP\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 \u2611 Conexi\u00f3n         \u2502    \u2502 \u2610 Sin conexi\u00f3n      \u2502\n\u2502 \u2611 ACKs             \u2502    \u2502 \u2610 Sin confirmaci\u00f3n  \u2502\n\u2502 \u2611 Orden garantizado\u2502    \u2502 \u2610 Puede desordenar  \u2502\n\u2502 \u2611 Control de flujo \u2502    \u2502 \u2610 Sin control       \u2502\n\u2502 \u2610 M\u00e1s overhead     \u2502    \u2502 \u2611 M\u00ednimo overhead   \u2502\n\u2502 \u2610 M\u00e1s lento        \u2502    \u2502 \u2611 M\u00e1s r\u00e1pido        \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518    \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"concepts/basics/tcp-vs-udp/#consideraciones-de-seguridad","title":"\ud83d\udee1\ufe0f Consideraciones de Seguridad","text":""},{"location":"concepts/basics/tcp-vs-udp/#tcp","title":"TCP","text":"<ul> <li>SYN Flood: Atacante env\u00eda muchos SYN sin completar handshake</li> <li>RST Attack: Atacante env\u00eda RST para cortar conexiones</li> <li>M\u00e1s auditable: Conexiones establecidas dejan rastro</li> </ul>"},{"location":"concepts/basics/tcp-vs-udp/#udp","title":"UDP","text":"<ul> <li>Spoofing f\u00e1cil: Sin conexi\u00f3n, f\u00e1cil falsificar origen</li> <li>Amplificaci\u00f3n DNS: Peque\u00f1a consulta = gran respuesta</li> <li>Dif\u00edcil de trackear: No hay estado de conexi\u00f3n</li> </ul>"},{"location":"concepts/basics/tcp-vs-udp/#practica-en-leireye","title":"\ud83d\udca1 Pr\u00e1ctica en LeirEye","text":""},{"location":"concepts/basics/tcp-vs-udp/#experimento-1-ver-tcp-handshake","title":"Experimento 1: Ver TCP Handshake","text":"<ol> <li>Inicia captura</li> <li>Abre una p\u00e1gina web nueva</li> <li>Busca paquetes con flag <code>[SYN]</code></li> <li>Observa la secuencia SYN \u2192 SYN-ACK \u2192 ACK</li> </ol>"},{"location":"concepts/basics/tcp-vs-udp/#experimento-2-ver-udp","title":"Experimento 2: Ver UDP","text":"<ol> <li>Inicia captura</li> <li>Ejecuta: <code>nslookup google.com</code></li> <li>Busca paquetes UDP al puerto 53</li> <li>Observa: solo Query y Response, sin handshake</li> </ol>"},{"location":"concepts/basics/tcp-vs-udp/#experimento-3-comparar","title":"Experimento 3: Comparar","text":"<pre><code># Streaming (UDP)\n# Abre YouTube y observa el tr\u00e1fico\n\n# Descarga (TCP)\ncurl -O https://example.com/file.zip\n</code></pre>"},{"location":"concepts/basics/tcp-vs-udp/#siguiente-paso","title":"\ud83d\udcda Siguiente Paso","text":"<p>Ahora que entiendes c\u00f3mo viajan los datos, aprende sobre los protocolos espec\u00edficos:</p> <ul> <li>DNS - Usa UDP (mayormente)</li> <li>HTTP/HTTPS - Usa TCP</li> <li>SSH - Usa TCP</li> </ul>"},{"location":"concepts/basics/what-is-a-packet/","title":"\u00bfQu\u00e9 es un Paquete de Red?","text":"<p>Un paquete es la unidad b\u00e1sica de informaci\u00f3n que viaja por una red. Cuando env\u00edas un mensaje, ves un video, o abres una p\u00e1gina web, la informaci\u00f3n se divide en peque\u00f1os paquetes que viajan de forma independiente.</p>"},{"location":"concepts/basics/what-is-a-packet/#analogia-simple","title":"\ud83d\udce6 Analog\u00eda Simple","text":"<p>Imagina que quieres enviar un libro completo por correo, pero solo puedes usar sobres peque\u00f1os:</p> <ol> <li>Divides el libro en p\u00e1ginas individuales</li> <li>Numeras cada p\u00e1gina (para ordenarlas despu\u00e9s)</li> <li>Escribes la direcci\u00f3n en cada sobre</li> <li>Env\u00edas los sobres (pueden llegar por diferentes rutas)</li> <li>El destinatario reordena las p\u00e1ginas y reconstruye el libro</li> </ol> <p>Esto es exactamente lo que hacen los paquetes de red.</p>"},{"location":"concepts/basics/what-is-a-packet/#anatomia-de-un-paquete","title":"\ud83d\udd0d Anatom\u00eda de un Paquete","text":"<p>Un paquete tiene varias partes:</p> <pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                   CABECERAS                      \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502 Ethernet     \u2502 IP Header    \u2502 TCP/UDP Header    \u2502\n\u2502 (Capa 2)     \u2502 (Capa 3)     \u2502 (Capa 4)          \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                    PAYLOAD                       \u2502\n\u2502              (Los datos reales)                  \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"concepts/basics/what-is-a-packet/#cabecera-ethernet-capa-2","title":"Cabecera Ethernet (Capa 2)","text":"<ul> <li>MAC Origen: Direcci\u00f3n f\u00edsica del remitente</li> <li>MAC Destino: Direcci\u00f3n f\u00edsica del destinatario</li> <li>Tipo: Qu\u00e9 protocolo viene despu\u00e9s (IPv4, IPv6)</li> </ul>"},{"location":"concepts/basics/what-is-a-packet/#cabecera-ip-capa-3","title":"Cabecera IP (Capa 3)","text":"<ul> <li>IP Origen: Direcci\u00f3n IP del remitente</li> <li>IP Destino: Direcci\u00f3n IP del destinatario</li> <li>TTL: Tiempo de vida (cu\u00e1ntos saltos puede hacer)</li> <li>Protocolo: TCP, UDP, ICMP, etc.</li> </ul>"},{"location":"concepts/basics/what-is-a-packet/#cabecera-tcpudp-capa-4","title":"Cabecera TCP/UDP (Capa 4)","text":"<ul> <li>Puerto Origen: Aplicaci\u00f3n que env\u00eda</li> <li>Puerto Destino: Aplicaci\u00f3n que recibe</li> <li>Flags (TCP): Control de conexi\u00f3n</li> <li>Checksum: Verificaci\u00f3n de integridad</li> </ul>"},{"location":"concepts/basics/what-is-a-packet/#payload-datos","title":"Payload (Datos)","text":"<ul> <li>El contenido real: texto, im\u00e1genes, videos</li> <li>Puede estar cifrado (HTTPS)</li> </ul>"},{"location":"concepts/basics/what-is-a-packet/#en-leireye","title":"\ud83d\udcca En LeirEye","text":"<p>Cuando capturas un paquete, LeirEye te muestra:</p> <pre><code>#1 | 14:32:01.123 | 192.168.1.100 \u2192 8.8.8.8 | UDP | 64 bytes | DNS Query\n</code></pre> Campo Significado #1 N\u00famero de paquete en la captura 14:32:01.123 Momento exacto de captura 192.168.1.100 Tu computadora (origen) 8.8.8.8 Servidor DNS de Google (destino) UDP Protocolo de transporte 64 bytes Tama\u00f1o total del paquete DNS Query Tipo de informaci\u00f3n"},{"location":"concepts/basics/what-is-a-packet/#tamano-de-los-paquetes","title":"\ud83d\udccf Tama\u00f1o de los Paquetes","text":"<p>Los paquetes tienen un tama\u00f1o m\u00e1ximo llamado MTU (Maximum Transmission Unit):</p> Red MTU T\u00edpico Notas Ethernet 1500 bytes Est\u00e1ndar m\u00e1s com\u00fan WiFi 1500 bytes Igual que Ethernet VPN 1400-1450 bytes Menor por encapsulaci\u00f3n DSL 1492 bytes Ligeramente menor <p>Si un paquete es m\u00e1s grande que el MTU, se fragmenta en paquetes m\u00e1s peque\u00f1os.</p>"},{"location":"concepts/basics/what-is-a-packet/#ciclo-de-vida-de-un-paquete","title":"\ud83d\udd04 Ciclo de Vida de un Paquete","text":"<pre><code>flowchart LR\n    A[Aplicaci\u00f3n crea datos] --&gt; B[OS divide en paquetes]\n    B --&gt; C[A\u00f1ade cabeceras]\n    C --&gt; D[Env\u00eda por interfaz]\n    D --&gt; E[Viaja por la red]\n    E --&gt; F[Llega al destino]\n    F --&gt; G[Se procesan cabeceras]\n    G --&gt; H[Se entrega a la app]</code></pre>"},{"location":"concepts/basics/what-is-a-packet/#ejemplo-cargar-una-pagina-web","title":"Ejemplo: Cargar una P\u00e1gina Web","text":"<ol> <li>Tu navegador quiere cargar <code>google.com</code></li> <li>DNS Query: Paquete preguntando la IP de google.com</li> <li>DNS Response: Paquete con la respuesta (142.250.x.x)</li> <li>TCP SYN: Paquete iniciando conexi\u00f3n</li> <li>TCP SYN-ACK: Google responde</li> <li>TCP ACK: Conexi\u00f3n establecida</li> <li>HTTP GET: Solicita la p\u00e1gina</li> <li>HTTP Response: Google env\u00eda la p\u00e1gina (muchos paquetes)</li> </ol>"},{"location":"concepts/basics/what-is-a-packet/#por-que-paquetes","title":"\ud83c\udfaf \u00bfPor Qu\u00e9 Paquetes?","text":""},{"location":"concepts/basics/what-is-a-packet/#ventajas-de-dividir-en-paquetes","title":"Ventajas de dividir en paquetes:","text":"Ventaja Explicaci\u00f3n Eficiencia M\u00faltiples conversaciones comparten la red Resiliencia Si un paquete se pierde, solo se reenv\u00eda ese Flexibilidad Diferentes rutas para diferentes paquetes Equidad Nadie acapara toda la red"},{"location":"concepts/basics/what-is-a-packet/#si-no-hubiera-paquetes","title":"Si no hubiera paquetes:","text":"<ul> <li>Una llamada VoIP bloquear\u00eda toda la red</li> <li>Si algo falla, hay que reenviar TODO</li> <li>Una conexi\u00f3n lenta afecta a todas</li> </ul>"},{"location":"concepts/basics/what-is-a-packet/#experimenta-en-leireye","title":"\ud83d\udca1 Experimenta en LeirEye","text":"<ol> <li>Inicia una captura</li> <li>Abre una p\u00e1gina web simple</li> <li>Observa cu\u00e1ntos paquetes genera</li> <li>Haz clic en un paquete para ver detalles</li> </ol> <p>Experimento</p> <p>Captura mientras haces ping a google.com: <pre><code>ping -c 4 google.com\n</code></pre> Ver\u00e1s 8 paquetes: 4 ICMP Echo Request y 4 Echo Reply.</p>"},{"location":"concepts/basics/what-is-a-packet/#siguiente-paso","title":"\ud83d\udcda Siguiente Paso","text":"<p>Ahora que entiendes qu\u00e9 es un paquete, aprende sobre:</p> <ul> <li>Direcciones IP - C\u00f3mo se identifican origen y destino</li> <li>Puertos - C\u00f3mo las aplicaciones se comunican</li> </ul>"},{"location":"concepts/protocols/","title":"Protocolos de Red","text":"<p>Los protocolos son las reglas y formatos que permiten a los dispositivos comunicarse. Es como el idioma que hablan las computadoras.</p>"},{"location":"concepts/protocols/#contenido","title":"\ud83d\udcda Contenido","text":"<ul> <li> <p> DNS</p> <p>El directorio telef\u00f3nico de internet</p> <p> Leer</p> </li> <li> <p> HTTP/HTTPS</p> <p>C\u00f3mo funciona la navegaci\u00f3n web</p> <p> Leer</p> </li> <li> <p> SSH</p> <p>Acceso remoto seguro</p> <p> Leer</p> </li> <li> <p> Otros Protocolos</p> <p>FTP, SMTP, ICMP y m\u00e1s</p> <p> Leer</p> </li> </ul>"},{"location":"concepts/protocols/#mapa-de-protocolos","title":"\ud83d\uddfa\ufe0f Mapa de Protocolos","text":"<pre><code>flowchart TB\n    subgraph \"Capa 7 - Aplicaci\u00f3n\"\n        HTTP[HTTP/HTTPS]\n        DNS[DNS]\n        SSH[SSH]\n        FTP[FTP]\n        SMTP[SMTP]\n    end\n\n    subgraph \"Capa 4 - Transporte\"\n        TCP[TCP]\n        UDP[UDP]\n    end\n\n    HTTP --&gt; TCP\n    SSH --&gt; TCP\n    FTP --&gt; TCP\n    SMTP --&gt; TCP\n    DNS --&gt; UDP\n    DNS -.-&gt;|opcional| TCP\n\n    subgraph \"Capa 3 - Red\"\n        IP[IP]\n        ICMP[ICMP]\n    end\n\n    TCP --&gt; IP\n    UDP --&gt; IP</code></pre>"},{"location":"concepts/protocols/#protocolos-por-puerto","title":"\ud83d\udcca Protocolos por Puerto","text":"Puerto Protocolo Capa Uso 20, 21 FTP 7 Transferencia de archivos 22 SSH 7 Acceso remoto seguro 23 Telnet 7 Acceso remoto (inseguro) 25 SMTP 7 Env\u00edo de correo 53 DNS 7 Resoluci\u00f3n de nombres 80 HTTP 7 Web sin cifrar 110 POP3 7 Recibir correo 143 IMAP 7 Correo sincronizado 443 HTTPS 7 Web cifrada - ICMP 3 Ping, traceroute"},{"location":"concepts/protocols/#flujo-tipico-de-navegacion","title":"\ud83d\udd04 Flujo T\u00edpico de Navegaci\u00f3n","text":"<p>Cuando visitas <code>https://google.com</code>:</p> <pre><code>sequenceDiagram\n    participant Browser as \ud83d\udda5\ufe0f Navegador\n    participant DNS as \ud83d\udd0d DNS\n    participant Server as \u2601\ufe0f Google\n\n    Browser-&gt;&gt;DNS: 1. \u00bfIP de google.com? (UDP:53)\n    DNS-&gt;&gt;Browser: 2. Es 142.250.x.x\n\n    Browser-&gt;&gt;Server: 3. TCP SYN (Puerto 443)\n    Server-&gt;&gt;Browser: 4. TCP SYN-ACK\n    Browser-&gt;&gt;Server: 5. TCP ACK\n\n    Note over Browser,Server: Conexi\u00f3n TCP establecida\n\n    Browser-&gt;&gt;Server: 6. TLS ClientHello\n    Server-&gt;&gt;Browser: 7. TLS ServerHello + Cert\n    Browser-&gt;&gt;Server: 8. TLS Key Exchange\n\n    Note over Browser,Server: Canal cifrado establecido\n\n    Browser-&gt;&gt;Server: 9. HTTP GET / (cifrado)\n    Server-&gt;&gt;Browser: 10. HTTP 200 + HTML (cifrado)</code></pre>"},{"location":"concepts/protocols/#que-veras-en-leireye","title":"\ud83c\udfaf Qu\u00e9 Ver\u00e1s en LeirEye","text":"<p>Para cada protocolo, LeirEye muestra informaci\u00f3n espec\u00edfica:</p>"},{"location":"concepts/protocols/#dns","title":"DNS","text":"<pre><code>UDP 192.168.1.100:54321 \u2192 8.8.8.8:53\nInfo: Standard query A google.com\n</code></pre>"},{"location":"concepts/protocols/#httphttps","title":"HTTP/HTTPS","text":"<pre><code>TCP 192.168.1.100:54322 \u2192 142.250.185.14:443\nInfo: Application Data (cifrado)\n</code></pre>"},{"location":"concepts/protocols/#ssh","title":"SSH","text":"<pre><code>TCP 192.168.1.100:54323 \u2192 192.168.1.50:22\nInfo: SSH-2.0-OpenSSH_8.9\n</code></pre>"},{"location":"concepts/protocols/#profundiza","title":"\ud83d\udcd6 Profundiza","text":"<p>Selecciona un protocolo para aprender m\u00e1s:</p> <ol> <li>DNS - Entiende c\u00f3mo se resuelven nombres</li> <li>HTTP/HTTPS - C\u00f3mo funciona la web</li> <li>SSH - Acceso remoto seguro</li> <li>Otros - ICMP, FTP, SMTP y m\u00e1s</li> </ol>"},{"location":"concepts/protocols/dns/","title":"DNS - Domain Name System","text":"<p>DNS es el \"directorio telef\u00f3nico\" de internet. Traduce nombres legibles como <code>google.com</code> a direcciones IP como <code>142.250.185.14</code>.</p>"},{"location":"concepts/protocols/dns/#por-que-existe-dns","title":"\ud83c\udfaf \u00bfPor Qu\u00e9 Existe DNS?","text":"<p>Los humanos recordamos nombres, las computadoras usan n\u00fameros:</p> Lo que escribes Lo que necesita la red google.com 142.250.185.14 github.com 140.82.121.4 netflix.com 54.246.226.55 <p>DNS hace la traducci\u00f3n autom\u00e1ticamente.</p>"},{"location":"concepts/protocols/dns/#como-funciona","title":"\ud83d\udd04 C\u00f3mo Funciona","text":"<pre><code>sequenceDiagram\n    participant PC as \ud83d\udcbb Tu PC\n    participant Cache as \ud83d\udce6 Cache Local\n    participant Router as \ud83c\udf10 Router\n    participant ISP as \ud83c\udfe2 DNS ISP\n    participant Root as \ud83c\udf0d Root DNS\n    participant TLD as \ud83d\udcc1 .com DNS\n    participant Auth as \ud83c\udfaf google.com DNS\n\n    PC-&gt;&gt;Cache: 1. \u00bfIP de google.com?\n    Cache--&gt;&gt;PC: \u274c No la tengo\n\n    PC-&gt;&gt;Router: 2. \u00bfIP de google.com?\n    Router--&gt;&gt;PC: \u274c No la tengo\n\n    Router-&gt;&gt;ISP: 3. \u00bfIP de google.com?\n    ISP--&gt;&gt;Router: \u274c Voy a buscar\n\n    ISP-&gt;&gt;Root: 4. \u00bfQui\u00e9n maneja .com?\n    Root-&gt;&gt;ISP: 5. Pregunta a estos servidores TLD\n\n    ISP-&gt;&gt;TLD: 6. \u00bfQui\u00e9n maneja google.com?\n    TLD-&gt;&gt;ISP: 7. Pregunta a ns1.google.com\n\n    ISP-&gt;&gt;Auth: 8. \u00bfIP de google.com?\n    Auth-&gt;&gt;ISP: 9. Es 142.250.185.14\n\n    ISP-&gt;&gt;Router: 10. Es 142.250.185.14 (gu\u00e1rdala)\n    Router-&gt;&gt;PC: 11. Es 142.250.185.14\n    PC-&gt;&gt;Cache: 12. Guardar en cache</code></pre>"},{"location":"concepts/protocols/dns/#tipos-de-registros-dns","title":"\ud83d\udcca Tipos de Registros DNS","text":"Tipo Nombre Prop\u00f3sito Ejemplo A Address IPv4 del dominio google.com \u2192 142.250.185.14 AAAA IPv6 Address IPv6 del dominio google.com \u2192 2607:f8b0:... CNAME Canonical Name Alias a otro dominio www.example.com \u2192 example.com MX Mail Exchange Servidor de correo example.com \u2192 mail.example.com TXT Text Texto libre Verificaci\u00f3n SPF, DKIM NS Name Server Servidores DNS autoritativos google.com \u2192 ns1.google.com PTR Pointer IP \u2192 nombre (inverso) 8.8.8.8 \u2192 dns.google"},{"location":"concepts/protocols/dns/#en-leireye","title":"\ud83d\udd0d En LeirEye","text":""},{"location":"concepts/protocols/dns/#consulta-dns-query","title":"Consulta DNS (Query)","text":"<pre><code>#1 | UDP | 192.168.1.100:54321 \u2192 8.8.8.8:53\nInfo: Standard query A google.com\n</code></pre> <p>Decodificado: - <code>UDP</code> - DNS usa UDP normalmente - <code>8.8.8.8:53</code> - Servidor DNS de Google, puerto 53 - <code>A</code> - Buscando direcci\u00f3n IPv4 - <code>google.com</code> - El dominio a resolver</p>"},{"location":"concepts/protocols/dns/#respuesta-dns-response","title":"Respuesta DNS (Response)","text":"<pre><code>#2 | UDP | 8.8.8.8:53 \u2192 192.168.1.100:54321  \nInfo: Standard query response A 142.250.185.14\n</code></pre> <p>Decodificado: - Respuesta con la IP: <code>142.250.185.14</code></p>"},{"location":"concepts/protocols/dns/#herramientas-de-diagnostico","title":"\ud83d\udee0\ufe0f Herramientas de Diagn\u00f3stico","text":""},{"location":"concepts/protocols/dns/#nslookup","title":"nslookup","text":"<pre><code>$ nslookup google.com\nServer:    8.8.8.8\nAddress:   8.8.8.8#53\n\nNon-authoritative answer:\nName:      google.com\nAddress:   142.250.185.14\n</code></pre>"},{"location":"concepts/protocols/dns/#dig-mas-detallado","title":"dig (m\u00e1s detallado)","text":"<pre><code>$ dig google.com\n\n;; ANSWER SECTION:\ngoogle.com.    299    IN    A    142.250.185.14\n\n;; Query time: 25 msec\n;; SERVER: 8.8.8.8#53\n</code></pre>"},{"location":"concepts/protocols/dns/#ver-cache-dns","title":"Ver cache DNS","text":"<pre><code># macOS\nsudo dscacheutil -cachedump\n\n# Limpiar cache\nsudo dscacheutil -flushcache\n\n# Linux\nsudo systemd-resolve --statistics\n</code></pre>"},{"location":"concepts/protocols/dns/#seguridad-dns","title":"\ud83d\udee1\ufe0f Seguridad DNS","text":""},{"location":"concepts/protocols/dns/#amenazas-comunes","title":"Amenazas Comunes","text":"Ataque Descripci\u00f3n Se\u00f1al en LeirEye DNS Spoofing Respuestas falsas IPs inesperadas para dominios conocidos DNS Tunneling Exfiltrar datos v\u00eda DNS Consultas TXT muy largas, subdominios extra\u00f1os DNS Amplification DDoS usando DNS Muchas respuestas grandes a tu IP"},{"location":"concepts/protocols/dns/#senales-de-alerta","title":"Se\u00f1ales de Alerta","text":"<p>En LeirEye busca:</p> <ul> <li>Consultas a dominios muy largos o aleatorios</li> <li>Muchas consultas TXT</li> <li>DNS a servidores no reconocidos</li> <li>Respuestas con IPs en rangos sospechosos</li> </ul>"},{"location":"concepts/protocols/dns/#ejemplo-de-dns-tunneling","title":"Ejemplo de DNS Tunneling","text":"<pre><code># Normal\ngoogle.com\nfacebook.com\ngithub.com\n\n# Sospechoso (posible tunneling)\naGVsbG8gd29ybGQ.malicious-site.com\nbase64encodeddata.evil.tk\nlong-random-subdomain-1234abcd.c2server.ru\n</code></pre>"},{"location":"concepts/protocols/dns/#dns-seguro","title":"\ud83d\udd12 DNS Seguro","text":""},{"location":"concepts/protocols/dns/#dns-over-https-doh","title":"DNS over HTTPS (DoH)","text":"<ul> <li>Puerto: 443 (como HTTPS normal)</li> <li>Cifrado: TLS</li> <li>Proveedores: Cloudflare (1.1.1.1), Google (8.8.8.8)</li> </ul>"},{"location":"concepts/protocols/dns/#dns-over-tls-dot","title":"DNS over TLS (DoT)","text":"<ul> <li>Puerto: 853</li> <li>Cifrado: TLS</li> <li>M\u00e1s f\u00e1cil de bloquear que DoH</li> </ul>"},{"location":"concepts/protocols/dns/#dnssec","title":"DNSSEC","text":"<ul> <li>Firma criptogr\u00e1fica de respuestas</li> <li>Previene spoofing</li> <li>No cifra, solo autentica</li> </ul>"},{"location":"concepts/protocols/dns/#practica-en-leireye","title":"\ud83d\udca1 Pr\u00e1ctica en LeirEye","text":""},{"location":"concepts/protocols/dns/#experimento-1-capturar-dns","title":"Experimento 1: Capturar DNS","text":"<ol> <li>Inicia captura</li> <li>Abre terminal:    <pre><code>nslookup github.com\n</code></pre></li> <li>Busca paquetes UDP al puerto 53</li> <li>Analiza la consulta y respuesta</li> </ol>"},{"location":"concepts/protocols/dns/#experimento-2-ver-cache","title":"Experimento 2: Ver Cache","text":"<ol> <li>Limpia cache:    <pre><code>sudo dscacheutil -flushcache  # macOS\n</code></pre></li> <li>Captura mientras visitas un sitio nuevo</li> <li>Visita el mismo sitio de nuevo</li> <li>Compara - segunda vez no deber\u00eda haber DNS</li> </ol>"},{"location":"concepts/protocols/dns/#experimento-3-diferentes-dns","title":"Experimento 3: Diferentes DNS","text":"<pre><code># Probar con DNS de Google\nnslookup google.com 8.8.8.8\n\n# Probar con DNS de Cloudflare\nnslookup google.com 1.1.1.1\n\n# Comparar tiempos\ntime nslookup google.com 8.8.8.8\ntime nslookup google.com 1.1.1.1\n</code></pre>"},{"location":"concepts/protocols/dns/#recursos-adicionales","title":"\ud83d\udcda Recursos Adicionales","text":"<ul> <li>How DNS Works - C\u00f3mic interactivo</li> <li>RFC 1035 - Especificaci\u00f3n DNS</li> <li>DNSViz - Visualizar cadena DNS</li> </ul>"},{"location":"concepts/protocols/http-https/","title":"HTTP y HTTPS","text":"<p>HTTP (HyperText Transfer Protocol) es el protocolo que hace funcionar la web. HTTPS es su versi\u00f3n segura con cifrado TLS.</p>"},{"location":"concepts/protocols/http-https/#conceptos-basicos","title":"\ud83c\udf10 Conceptos B\u00e1sicos","text":""},{"location":"concepts/protocols/http-https/#http-conversacion-web","title":"HTTP = Conversaci\u00f3n Web","text":"<pre><code>sequenceDiagram\n    participant Browser as \ud83d\udda5\ufe0f Navegador\n    participant Server as \u2601\ufe0f Servidor\n\n    Browser-&gt;&gt;Server: GET /index.html HTTP/1.1\n    Note right of Server: \"Dame la p\u00e1gina principal\"\n    Server-&gt;&gt;Browser: HTTP/1.1 200 OK&lt;br/&gt;Content-Type: text/html&lt;br/&gt;&lt;html&gt;...&lt;/html&gt;\n    Note left of Browser: \"Aqu\u00ed est\u00e1 la p\u00e1gina\"</code></pre>"},{"location":"concepts/protocols/http-https/#diferencia-http-vs-https","title":"Diferencia HTTP vs HTTPS","text":"Aspecto HTTP HTTPS Puerto 80 443 Cifrado \u274c No \u2705 S\u00ed (TLS) Certificado \u274c No \u2705 S\u00ed Seguridad \u26a0\ufe0f Inseguro \u2705 Seguro En LeirEye Puedes ver datos Solo ves \"Application Data\""},{"location":"concepts/protocols/http-https/#metodos-http","title":"\ud83d\udcdd M\u00e9todos HTTP","text":"M\u00e9todo Prop\u00f3sito Ejemplo GET Obtener datos Ver una p\u00e1gina POST Enviar datos Enviar formulario PUT Actualizar recurso Editar perfil DELETE Eliminar recurso Borrar cuenta HEAD Solo cabeceras Verificar si existe OPTIONS M\u00e9todos permitidos CORS preflight"},{"location":"concepts/protocols/http-https/#anatomia-de-una-peticion","title":"\ud83d\udcca Anatom\u00eda de una Petici\u00f3n","text":""},{"location":"concepts/protocols/http-https/#request-peticion","title":"Request (Petici\u00f3n)","text":"<pre><code>GET /api/users HTTP/1.1\nHost: api.example.com\nUser-Agent: Mozilla/5.0 (Macintosh; ...)\nAccept: application/json\nAuthorization: Bearer eyJhbGci...\nCookie: session=abc123\n</code></pre> L\u00ednea Significado <code>GET /api/users</code> M\u00e9todo y ruta <code>Host:</code> Dominio del servidor <code>User-Agent:</code> Tu navegador/aplicaci\u00f3n <code>Accept:</code> Qu\u00e9 formato quieres <code>Authorization:</code> Tu credencial <code>Cookie:</code> Sesi\u00f3n guardada"},{"location":"concepts/protocols/http-https/#response-respuesta","title":"Response (Respuesta)","text":"<pre><code>HTTP/1.1 200 OK\nContent-Type: application/json\nContent-Length: 1234\nSet-Cookie: session=xyz789\nCache-Control: max-age=3600\n\n{\"users\": [...]}\n</code></pre> L\u00ednea Significado <code>200 OK</code> C\u00f3digo de estado <code>Content-Type:</code> Tipo de datos <code>Content-Length:</code> Tama\u00f1o en bytes <code>Set-Cookie:</code> Nueva cookie <code>Cache-Control:</code> Cu\u00e1nto tiempo cachear"},{"location":"concepts/protocols/http-https/#codigos-de-estado","title":"\ud83d\udd22 C\u00f3digos de Estado","text":""},{"location":"concepts/protocols/http-https/#2xx-exito","title":"2xx - \u00c9xito \u2705","text":"C\u00f3digo Significado 200 OK - Todo bien 201 Created - Recurso creado 204 No Content - OK pero sin cuerpo"},{"location":"concepts/protocols/http-https/#3xx-redireccion","title":"3xx - Redirecci\u00f3n \ud83d\udd04","text":"C\u00f3digo Significado 301 Moved Permanently - URL cambi\u00f3 302 Found - Redirecci\u00f3n temporal 304 Not Modified - Usa cache"},{"location":"concepts/protocols/http-https/#4xx-error-del-cliente","title":"4xx - Error del Cliente \u26a0\ufe0f","text":"C\u00f3digo Significado 400 Bad Request - Petici\u00f3n malformada 401 Unauthorized - Necesita autenticaci\u00f3n 403 Forbidden - No tienes permiso 404 Not Found - No existe 429 Too Many Requests - Rate limiting"},{"location":"concepts/protocols/http-https/#5xx-error-del-servidor","title":"5xx - Error del Servidor \u274c","text":"C\u00f3digo Significado 500 Internal Server Error - Error gen\u00e9rico 502 Bad Gateway - Proxy/servidor ca\u00eddo 503 Service Unavailable - Sobrecargado"},{"location":"concepts/protocols/http-https/#https-y-tls","title":"\ud83d\udd12 HTTPS y TLS","text":""},{"location":"concepts/protocols/http-https/#el-handshake-tls","title":"El Handshake TLS","text":"<pre><code>sequenceDiagram\n    participant C as \ud83d\udda5\ufe0f Cliente\n    participant S as \u2601\ufe0f Servidor\n\n    C-&gt;&gt;S: ClientHello (versiones TLS, ciphers)\n    S-&gt;&gt;C: ServerHello (versi\u00f3n elegida, cipher)\n    S-&gt;&gt;C: Certificate (certificado SSL)\n    S-&gt;&gt;C: ServerHelloDone\n\n    Note over C: Verifica certificado\n\n    C-&gt;&gt;S: ClientKeyExchange\n    C-&gt;&gt;S: ChangeCipherSpec\n    C-&gt;&gt;S: Finished (cifrado)\n\n    S-&gt;&gt;C: ChangeCipherSpec\n    S-&gt;&gt;C: Finished (cifrado)\n\n    Note over C,S: \u00a1Canal seguro establecido!</code></pre>"},{"location":"concepts/protocols/http-https/#que-protege-https","title":"Qu\u00e9 Protege HTTPS","text":"<ul> <li>\u2705 Confidencialidad: Datos cifrados</li> <li>\u2705 Integridad: No se pueden modificar</li> <li>\u2705 Autenticaci\u00f3n: Verificas que es el servidor real</li> </ul>"},{"location":"concepts/protocols/http-https/#que-no-protege","title":"Qu\u00e9 NO Protege","text":"<ul> <li>\u274c Metadatos: Se ve que conectas a google.com</li> <li>\u274c Tama\u00f1o del tr\u00e1fico: Se puede inferir actividad</li> <li>\u274c Servidor malicioso: HTTPS no significa \"seguro\"</li> </ul>"},{"location":"concepts/protocols/http-https/#en-leireye","title":"\ud83d\udd0d En LeirEye","text":""},{"location":"concepts/protocols/http-https/#http-puerto-80","title":"HTTP (Puerto 80)","text":"<pre><code>#1 | TCP | 192.168.1.100:54321 \u2192 93.184.216.34:80\nInfo: GET /index.html HTTP/1.1\n</code></pre> <p>Puedes ver: - M\u00e9todo (GET, POST...) - URL completa - Headers - Datos del body</p>"},{"location":"concepts/protocols/http-https/#https-puerto-443","title":"HTTPS (Puerto 443)","text":"<pre><code>#1 | TCP | 192.168.1.100:54322 \u2192 142.250.185.14:443\nInfo: Application Data\n</code></pre> <p>Solo puedes ver: - IPs y puertos - Tama\u00f1o de datos - \"Application Data\" (cifrado)</p>"},{"location":"concepts/protocols/http-https/#tls-handshake","title":"TLS Handshake","text":"<pre><code>#1 | TLS | Client Hello\n#2 | TLS | Server Hello, Certificate\n#3 | TLS | Client Key Exchange\n#4 | TLS | Change Cipher Spec\n#5 | TLS | Application Data (cifrado)\n</code></pre>"},{"location":"concepts/protocols/http-https/#seguridad","title":"\ud83d\udee1\ufe0f Seguridad","text":""},{"location":"concepts/protocols/http-https/#amenazas-http-sin-cifrar","title":"Amenazas HTTP (sin cifrar)","text":"Ataque Descripci\u00f3n En LeirEye Sniffing Ver tr\u00e1fico Datos visibles MITM Interceptar/modificar Posible Session Hijacking Robar cookies Cookies visibles"},{"location":"concepts/protocols/http-https/#senales-de-alerta","title":"Se\u00f1ales de Alerta","text":"<p>Busca en LeirEye:</p> <ul> <li>Tr\u00e1fico HTTP a sitios que deber\u00edan ser HTTPS</li> <li>Credenciales en texto plano</li> <li>APIs enviando datos sin cifrar</li> <li>Cookies sin flag \"Secure\"</li> </ul>"},{"location":"concepts/protocols/http-https/#headers-de-seguridad","title":"Headers de Seguridad","text":"<pre><code>Strict-Transport-Security: max-age=31536000\nContent-Security-Policy: default-src 'self'\nX-Frame-Options: DENY\nX-Content-Type-Options: nosniff\n</code></pre>"},{"location":"concepts/protocols/http-https/#herramientas","title":"\ud83d\udee0\ufe0f Herramientas","text":""},{"location":"concepts/protocols/http-https/#curl-hacer-peticiones","title":"curl - Hacer peticiones","text":"<pre><code># GET simple\ncurl https://api.github.com\n\n# Ver headers\ncurl -I https://example.com\n\n# POST con datos\ncurl -X POST -d '{\"key\":\"value\"}' \\\n     -H \"Content-Type: application/json\" \\\n     https://api.example.com/data\n</code></pre>"},{"location":"concepts/protocols/http-https/#httpie-mas-amigable","title":"HTTPie - M\u00e1s amigable","text":"<pre><code># GET\nhttp https://api.github.com\n\n# POST\nhttp POST https://api.example.com/data key=value\n</code></pre>"},{"location":"concepts/protocols/http-https/#practica-en-leireye","title":"\ud83d\udca1 Pr\u00e1ctica en LeirEye","text":""},{"location":"concepts/protocols/http-https/#experimento-1-ver-http-en-texto-plano","title":"Experimento 1: Ver HTTP en Texto Plano","text":"<ol> <li>Inicia captura</li> <li>Ejecuta:    <pre><code>curl http://httpbin.org/get\n</code></pre></li> <li>Busca paquetes al puerto 80</li> <li>Observa la petici\u00f3n/respuesta completa</li> </ol>"},{"location":"concepts/protocols/http-https/#experimento-2-comparar-con-https","title":"Experimento 2: Comparar con HTTPS","text":"<ol> <li>Ejecuta:    <pre><code>curl https://httpbin.org/get\n</code></pre></li> <li>Busca paquetes al puerto 443</li> <li>Nota que solo ves \"Application Data\"</li> </ol>"},{"location":"concepts/protocols/http-https/#experimento-3-ver-handshake-tls","title":"Experimento 3: Ver Handshake TLS","text":"<ol> <li>Captura mientras abres un sitio HTTPS nuevo</li> <li>Filtra por puerto 443</li> <li>Identifica:</li> <li>Client Hello</li> <li>Server Hello</li> <li>Certificate</li> <li>Application Data</li> </ol>"},{"location":"concepts/protocols/http-https/#recursos-adicionales","title":"\ud83d\udcda Recursos Adicionales","text":"<ul> <li>HTTP Status Dogs - C\u00f3digos con perros</li> <li>MDN HTTP - Documentaci\u00f3n completa</li> <li>BadSSL - Probar configuraciones TLS</li> </ul>"},{"location":"concepts/protocols/other/","title":"Otros Protocolos","text":"<p>Gu\u00eda r\u00e1pida de otros protocolos comunes que ver\u00e1s en LeirEye.</p>"},{"location":"concepts/protocols/other/#icmp-internet-control-message-protocol","title":"\ud83c\udfd3 ICMP - Internet Control Message Protocol","text":"<p>ICMP es usado para mensajes de control y diagn\u00f3stico de red.</p>"},{"location":"concepts/protocols/other/#tipos-comunes","title":"Tipos Comunes","text":"Tipo Nombre Uso 0 Echo Reply Respuesta a ping 3 Destination Unreachable No se puede llegar 8 Echo Request Ping 11 Time Exceeded TTL expirado (traceroute)"},{"location":"concepts/protocols/other/#ping","title":"Ping","text":"<pre><code>$ ping -c 4 google.com\nPING google.com (142.250.185.14): 56 data bytes\n64 bytes from 142.250.185.14: icmp_seq=0 ttl=117 time=12.3 ms\n</code></pre> <p>En LeirEye: <pre><code>#1 | ICMP | 192.168.1.100 \u2192 142.250.185.14 | Echo Request\n#2 | ICMP | 142.250.185.14 \u2192 192.168.1.100 | Echo Reply\n</code></pre></p>"},{"location":"concepts/protocols/other/#traceroute","title":"Traceroute","text":"<pre><code>$ traceroute google.com\n 1  192.168.1.1      1.234 ms\n 2  10.0.0.1         5.678 ms\n 3  ...\n</code></pre> <p>Funciona enviando paquetes con TTL incrementando: - TTL=1 \u2192 primer router responde \"Time Exceeded\" - TTL=2 \u2192 segundo router responde - Y as\u00ed hasta llegar al destino</p>"},{"location":"concepts/protocols/other/#smtp-simple-mail-transfer-protocol","title":"\ud83d\udce7 SMTP - Simple Mail Transfer Protocol","text":"<p>Protocolo para enviar correo electr\u00f3nico.</p>"},{"location":"concepts/protocols/other/#puertos","title":"Puertos","text":"Puerto Uso 25 SMTP est\u00e1ndar (bloqueado por muchos ISPs) 465 SMTPS (SSL impl\u00edcito) 587 SMTP con STARTTLS (recomendado)"},{"location":"concepts/protocols/other/#conversacion-smtp","title":"Conversaci\u00f3n SMTP","text":"<pre><code>Cliente: HELO mi-pc.local\nServidor: 250 Hello\n\nCliente: MAIL FROM:&lt;yo@ejemplo.com&gt;\nServidor: 250 OK\n\nCliente: RCPT TO:&lt;destino@otro.com&gt;\nServidor: 250 OK\n\nCliente: DATA\nServidor: 354 Start mail input\n\nCliente: Subject: Hola\nCliente: \nCliente: Este es el mensaje.\nCliente: .\nServidor: 250 OK, message queued\n</code></pre>"},{"location":"concepts/protocols/other/#en-leireye","title":"En LeirEye","text":"<pre><code>#1 | TCP | 192.168.1.100:54321 \u2192 mail.ejemplo.com:587 | [SYN]\n#2 | SMTP | 220 mail.ejemplo.com ESMTP\n#3 | SMTP | EHLO mi-pc.local\n</code></pre> <p>Correo sin cifrar</p> <p>Si ves SMTP en puerto 25 sin STARTTLS, \u00a1el contenido del correo es visible!</p>"},{"location":"concepts/protocols/other/#imappop3-recibir-correo","title":"\ud83d\udce5 IMAP/POP3 - Recibir Correo","text":""},{"location":"concepts/protocols/other/#diferencias","title":"Diferencias","text":"Protocolo Puerto Seguro Caracter\u00edstica POP3 110 995 Descarga y borra del servidor IMAP 143 993 Sincroniza con servidor"},{"location":"concepts/protocols/other/#imap-vs-pop3","title":"IMAP vs POP3","text":"<pre><code>flowchart LR\n    subgraph POP3\n        Server1[(Servidor)] --&gt;|Descarga| PC1[PC]\n        Server1 -.-&gt;|Borra| Server1\n    end\n\n    subgraph IMAP\n        Server2[(Servidor)] &lt;--&gt;|Sincroniza| PC2[PC]\n        Server2 &lt;--&gt;|Sincroniza| Phone[\ud83d\udcf1]\n    end</code></pre>"},{"location":"concepts/protocols/other/#ftp-file-transfer-protocol","title":"\ud83d\udcc1 FTP - File Transfer Protocol","text":"<p>Protocolo antiguo para transferencia de archivos.</p>"},{"location":"concepts/protocols/other/#puertos_1","title":"Puertos","text":"Puerto Uso 21 Control (comandos) 20 Datos (modo activo) Aleatorio Datos (modo pasivo)"},{"location":"concepts/protocols/other/#problemas-de-seguridad","title":"\u26a0\ufe0f Problemas de Seguridad","text":"<p>FTP es inseguro</p> <ul> <li>Credenciales en texto plano</li> <li>Datos sin cifrar</li> <li>Usa SFTP (SSH) o FTPS (TLS) en su lugar</li> </ul>"},{"location":"concepts/protocols/other/#en-leireye_1","title":"En LeirEye","text":"<pre><code>#1 | FTP | 220 Welcome to FTP server\n#2 | FTP | USER anonymous\n#3 | FTP | 331 Password required\n#4 | FTP | PASS anonymous@  \u2190 \u00a1Visible!\n</code></pre>"},{"location":"concepts/protocols/other/#ntp-network-time-protocol","title":"\ud83d\udd50 NTP - Network Time Protocol","text":"<p>Sincroniza el reloj del sistema.</p>"},{"location":"concepts/protocols/other/#puerto","title":"Puerto","text":"<ul> <li>123 UDP</li> </ul>"},{"location":"concepts/protocols/other/#en-leireye_2","title":"En LeirEye","text":"<pre><code>#1 | UDP | 192.168.1.100:54321 \u2192 time.apple.com:123 | NTP\n</code></pre>"},{"location":"concepts/protocols/other/#ataque-ntp-amplification","title":"Ataque NTP Amplification","text":"<p>NTP puede usarse para DDoS: - Petici\u00f3n peque\u00f1a (48 bytes) - Respuesta grande (puede ser 500+ bytes) - Atacante falsifica IP origen</p>"},{"location":"concepts/protocols/other/#dhcp-dynamic-host-configuration-protocol","title":"\ud83d\udd0d DHCP - Dynamic Host Configuration Protocol","text":"<p>Asigna direcciones IP autom\u00e1ticamente.</p>"},{"location":"concepts/protocols/other/#puertos_2","title":"Puertos","text":"<ul> <li>67 UDP - Servidor</li> <li>68 UDP - Cliente</li> </ul>"},{"location":"concepts/protocols/other/#proceso-dora","title":"Proceso DORA","text":"<pre><code>sequenceDiagram\n    participant C as \ud83d\udcbb Cliente\n    participant S as \ud83d\udda5\ufe0f Servidor DHCP\n\n    C-&gt;&gt;S: Discover \"\u00bfHay alg\u00fan servidor DHCP?\"\n    S-&gt;&gt;C: Offer \"Te ofrezco 192.168.1.100\"\n    C-&gt;&gt;S: Request \"Quiero 192.168.1.100\"\n    S-&gt;&gt;C: Acknowledge \"Tuya por 24 horas\"</code></pre>"},{"location":"concepts/protocols/other/#en-leireye_3","title":"En LeirEye","text":"<pre><code>#1 | DHCP | Discover - Transaction ID 0x1234\n#2 | DHCP | Offer - Your IP: 192.168.1.100\n#3 | DHCP | Request - Requested IP: 192.168.1.100\n#4 | DHCP | ACK - Your IP: 192.168.1.100\n</code></pre>"},{"location":"concepts/protocols/other/#arp-address-resolution-protocol","title":"\ud83d\udd17 ARP - Address Resolution Protocol","text":"<p>Traduce IP a direcci\u00f3n MAC (capa 2).</p>"},{"location":"concepts/protocols/other/#funcionamiento","title":"Funcionamiento","text":"<pre><code>\"\u00bfQui\u00e9n tiene 192.168.1.1?\" (broadcast)\n\"Yo soy 192.168.1.1, mi MAC es aa:bb:cc:dd:ee:ff\"\n</code></pre>"},{"location":"concepts/protocols/other/#en-leireye_4","title":"En LeirEye","text":"<pre><code>#1 | ARP | Who has 192.168.1.1? Tell 192.168.1.100\n#2 | ARP | 192.168.1.1 is at aa:bb:cc:dd:ee:ff\n</code></pre>"},{"location":"concepts/protocols/other/#arp-spoofing","title":"\u26a0\ufe0f ARP Spoofing","text":"<p>Ataque com\u00fan</p> <p>Un atacante puede responder a ARP claims falsamente, redirigiendo tr\u00e1fico hacia su m\u00e1quina (MITM).</p>"},{"location":"concepts/protocols/other/#resumen-de-puertos","title":"\ud83d\udcca Resumen de Puertos","text":"Puerto Protocolo Seguro Uso 20, 21 FTP \u274c Archivos 22 SSH/SFTP \u2705 Remoto/Archivos 23 Telnet \u274c Remoto (obsoleto) 25 SMTP \u26a0\ufe0f Enviar correo 53 DNS \u26a0\ufe0f Nombres \u2192 IPs 67, 68 DHCP \u274c Asignar IPs 80 HTTP \u274c Web 110 POP3 \u274c Recibir correo 123 NTP \u274c Sincronizar hora 143 IMAP \u274c Correo sync 443 HTTPS \u2705 Web segura 465 SMTPS \u2705 Correo seguro 587 SMTP+TLS \u2705 Correo con TLS 993 IMAPS \u2705 Correo sync seguro 995 POP3S \u2705 Recibir correo seguro"},{"location":"concepts/protocols/other/#practica","title":"\ud83d\udca1 Pr\u00e1ctica","text":""},{"location":"concepts/protocols/other/#capturar-dhcp","title":"Capturar DHCP","text":"<ol> <li>Libera tu IP: <code>sudo dhclient -r</code></li> <li>Inicia captura</li> <li>Renueva IP: <code>sudo dhclient</code></li> <li>Busca paquetes DHCP (puertos 67, 68)</li> </ol>"},{"location":"concepts/protocols/other/#ver-arp","title":"Ver ARP","text":"<pre><code># Ver tabla ARP actual\narp -a\n\n# En LeirEye, ver\u00e1s ARP al comunicarte con IPs locales nuevas\n</code></pre>"},{"location":"concepts/protocols/other/#capturar-ntp","title":"Capturar NTP","text":"<pre><code># Forzar sincronizaci\u00f3n\nsudo sntp -sS time.apple.com\n\n# Ver\u00e1s paquetes UDP al puerto 123\n</code></pre>"},{"location":"concepts/protocols/ssh/","title":"SSH - Secure Shell","text":"<p>SSH (Secure Shell) es un protocolo para acceso remoto seguro a servidores y transferencia de archivos cifrada.</p>"},{"location":"concepts/protocols/ssh/#que-es-ssh","title":"\ud83d\udd10 \u00bfQu\u00e9 es SSH?","text":"<p>SSH te permite:</p> <ul> <li>\ud83d\udcbb Conectarte a servidores remotos</li> <li>\ud83d\udcc1 Transferir archivos de forma segura (SCP, SFTP)</li> <li>\ud83d\ude87 Crear t\u00faneles para otros protocolos</li> <li>\ud83d\udd11 Autenticarte con claves en lugar de contrase\u00f1as</li> </ul>"},{"location":"concepts/protocols/ssh/#como-funciona","title":"\ud83d\udd04 C\u00f3mo Funciona","text":"<pre><code>sequenceDiagram\n    participant C as \ud83d\udcbb Cliente\n    participant S as \ud83d\udda5\ufe0f Servidor\n\n    C-&gt;&gt;S: TCP SYN (Puerto 22)\n    S-&gt;&gt;C: TCP SYN-ACK\n    C-&gt;&gt;S: TCP ACK\n\n    Note over C,S: Conexi\u00f3n TCP establecida\n\n    S-&gt;&gt;C: SSH-2.0-OpenSSH_8.9\n    C-&gt;&gt;S: SSH-2.0-OpenSSH_8.9\n\n    Note over C,S: Negociaci\u00f3n de versi\u00f3n\n\n    C-&gt;&gt;S: Key Exchange Init\n    S-&gt;&gt;C: Key Exchange Reply\n\n    Note over C,S: Intercambio de claves (Diffie-Hellman)\n\n    C-&gt;&gt;S: New Keys\n    S-&gt;&gt;C: New Keys\n\n    Note over C,S: Canal cifrado establecido\n\n    C-&gt;&gt;S: Auth Request (password/key)\n    S-&gt;&gt;C: Auth Success\n\n    Note over C,S: Sesi\u00f3n interactiva</code></pre>"},{"location":"concepts/protocols/ssh/#componentes","title":"\ud83d\udcca Componentes","text":""},{"location":"concepts/protocols/ssh/#1-intercambio-de-claves","title":"1. Intercambio de Claves","text":"<p>Antes de enviar datos, cliente y servidor acuerdan una clave de sesi\u00f3n usando:</p> <ul> <li>Diffie-Hellman - Clave compartida sin transmitirla</li> <li>ECDH - Versi\u00f3n con curvas el\u00edpticas (m\u00e1s seguro)</li> </ul>"},{"location":"concepts/protocols/ssh/#2-autenticacion","title":"2. Autenticaci\u00f3n","text":"M\u00e9todo Seguridad Uso Contrase\u00f1a \u2b50\u2b50 Simple pero vulnerable a fuerza bruta Clave P\u00fablica \u2b50\u2b50\u2b50\u2b50\u2b50 Recomendado, sin contrase\u00f1a que robar Certificado \u2b50\u2b50\u2b50\u2b50\u2b50 Empresas, gesti\u00f3n centralizada"},{"location":"concepts/protocols/ssh/#3-cifrado-de-sesion","title":"3. Cifrado de Sesi\u00f3n","text":"<p>Todo el tr\u00e1fico posterior est\u00e1 cifrado con:</p> <ul> <li>AES-256-GCM - Est\u00e1ndar actual</li> <li>ChaCha20-Poly1305 - Alternativa moderna</li> </ul>"},{"location":"concepts/protocols/ssh/#autenticacion-con-claves","title":"\ud83d\udd11 Autenticaci\u00f3n con Claves","text":""},{"location":"concepts/protocols/ssh/#generar-par-de-claves","title":"Generar Par de Claves","text":"<pre><code># Generar clave Ed25519 (recomendado)\nssh-keygen -t ed25519 -C \"tu-email@ejemplo.com\"\n\n# O RSA 4096 bits\nssh-keygen -t rsa -b 4096 -C \"tu-email@ejemplo.com\"\n</code></pre> <p>Esto crea: - <code>~/.ssh/id_ed25519</code> - Clave privada (\u00a1NUNCA compartir!) - <code>~/.ssh/id_ed25519.pub</code> - Clave p\u00fablica (compartir libremente)</p>"},{"location":"concepts/protocols/ssh/#copiar-al-servidor","title":"Copiar al Servidor","text":"<pre><code># M\u00e9todo f\u00e1cil\nssh-copy-id usuario@servidor\n\n# O manualmente\ncat ~/.ssh/id_ed25519.pub | ssh usuario@servidor \\\n  \"mkdir -p ~/.ssh &amp;&amp; cat &gt;&gt; ~/.ssh/authorized_keys\"\n</code></pre>"},{"location":"concepts/protocols/ssh/#conectar-sin-contrasena","title":"Conectar sin Contrase\u00f1a","text":"<pre><code>ssh usuario@servidor\n# \u00a1Entra directamente!\n</code></pre>"},{"location":"concepts/protocols/ssh/#en-leireye","title":"\ud83d\udd0d En LeirEye","text":""},{"location":"concepts/protocols/ssh/#handshake-inicial","title":"Handshake Inicial","text":"<pre><code>#1 | TCP | 192.168.1.100:54321 \u2192 192.168.1.50:22 | [SYN]\n#2 | TCP | 192.168.1.50:22 \u2192 192.168.1.100:54321 | [SYN,ACK]\n#3 | TCP | 192.168.1.100:54321 \u2192 192.168.1.50:22 | [ACK]\n</code></pre>"},{"location":"concepts/protocols/ssh/#identificacion-de-version","title":"Identificaci\u00f3n de Versi\u00f3n","text":"<pre><code>#4 | SSH | Server: SSH-2.0-OpenSSH_8.9\n#5 | SSH | Client: SSH-2.0-OpenSSH_8.9\n</code></pre>"},{"location":"concepts/protocols/ssh/#intercambio-de-claves","title":"Intercambio de Claves","text":"<pre><code>#6 | SSH | Key Exchange Init\n#7 | SSH | Key Exchange Reply\n#8 | SSH | New Keys\n</code></pre>"},{"location":"concepts/protocols/ssh/#sesion-cifrada","title":"Sesi\u00f3n Cifrada","text":"<pre><code>#9  | SSH | Encrypted packet\n#10 | SSH | Encrypted packet\n...\n</code></pre> <p>Despu\u00e9s del <code>New Keys</code>, todo es \"Encrypted packet\" - no puedes ver el contenido.</p>"},{"location":"concepts/protocols/ssh/#comandos-utiles","title":"\ud83d\udee0\ufe0f Comandos \u00datiles","text":""},{"location":"concepts/protocols/ssh/#conexion-basica","title":"Conexi\u00f3n B\u00e1sica","text":"<pre><code># Conectar\nssh usuario@servidor\n\n# Con puerto diferente\nssh -p 2222 usuario@servidor\n\n# Ejecutar comando remoto\nssh usuario@servidor \"ls -la /var/log\"\n</code></pre>"},{"location":"concepts/protocols/ssh/#transferencia-de-archivos","title":"Transferencia de Archivos","text":"<pre><code># Copiar archivo al servidor\nscp archivo.txt usuario@servidor:/ruta/destino/\n\n# Copiar desde servidor\nscp usuario@servidor:/ruta/archivo.txt ./\n\n# Directorio completo\nscp -r carpeta/ usuario@servidor:/ruta/\n</code></pre>"},{"location":"concepts/protocols/ssh/#sftp-ftp-sobre-ssh","title":"SFTP (FTP sobre SSH)","text":"<pre><code>sftp usuario@servidor\nsftp&gt; put archivo.txt\nsftp&gt; get archivo_remoto.txt\nsftp&gt; ls\nsftp&gt; quit\n</code></pre>"},{"location":"concepts/protocols/ssh/#tunel-ssh","title":"T\u00fanel SSH","text":"<pre><code># Port forwarding local\n# Acceder a servidor:3306 como si fuera localhost:3306\nssh -L 3306:localhost:3306 usuario@servidor\n\n# Port forwarding remoto\n# Exponer tu localhost:8000 en servidor:8000\nssh -R 8000:localhost:8000 usuario@servidor\n</code></pre>"},{"location":"concepts/protocols/ssh/#seguridad","title":"\ud83d\udee1\ufe0f Seguridad","text":""},{"location":"concepts/protocols/ssh/#configuracion-segura-del-servidor","title":"Configuraci\u00f3n Segura del Servidor","text":"<pre><code># /etc/ssh/sshd_config\n\n# Deshabilitar login con contrase\u00f1a\nPasswordAuthentication no\n\n# Deshabilitar root login\nPermitRootLogin no\n\n# Solo permitir ciertos usuarios\nAllowUsers admin deploy\n\n# Cambiar puerto (opcional)\nPort 2222\n</code></pre>"},{"location":"concepts/protocols/ssh/#senales-de-ataque","title":"Se\u00f1ales de Ataque","text":"<p>En LeirEye busca:</p> <ul> <li>Muchos intentos de conexi\u00f3n al puerto 22</li> <li>Conexiones desde IPs desconocidas</li> <li>Conexiones SSH a horas inusuales</li> <li>M\u00faltiples fallos de autenticaci\u00f3n (en logs)</li> </ul>"},{"location":"concepts/protocols/ssh/#fuerza-bruta-ssh","title":"Fuerza Bruta SSH","text":"<pre><code># Patr\u00f3n t\u00edpico de ataque\n10:00:01 SSH connection from 1.2.3.4\n10:00:02 SSH connection from 1.2.3.4\n10:00:03 SSH connection from 1.2.3.4\n10:00:04 SSH connection from 1.2.3.4\n...\n</code></pre> <p>Mitigaci\u00f3n: - Usar claves en lugar de contrase\u00f1as - Instalar <code>fail2ban</code> - Cambiar puerto (seguridad por obscuridad)</p>"},{"location":"concepts/protocols/ssh/#practica-en-leireye","title":"\ud83d\udca1 Pr\u00e1ctica en LeirEye","text":""},{"location":"concepts/protocols/ssh/#experimento-1-capturar-handshake-ssh","title":"Experimento 1: Capturar Handshake SSH","text":"<ol> <li>Inicia captura en la interfaz correcta</li> <li>Ejecuta:    <pre><code>ssh usuario@localhost  # o a otro servidor\n</code></pre></li> <li>Busca paquetes al puerto 22</li> <li>Identifica:</li> <li>TCP handshake (SYN, SYN-ACK, ACK)</li> <li>Versiones SSH</li> <li>Key Exchange</li> <li>Encrypted packets</li> </ol>"},{"location":"concepts/protocols/ssh/#experimento-2-comparar-con-telnet-inseguro","title":"Experimento 2: Comparar con Telnet (Inseguro)","text":"<pre><code># Si tienes un servidor telnet (solo para pruebas!)\ntelnet servidor 23\n</code></pre> <p>Ver\u00e1s que en Telnet puedes leer todo el tr\u00e1fico, incluyendo contrase\u00f1as.</p>"},{"location":"concepts/protocols/ssh/#experimento-3-tunel-ssh","title":"Experimento 3: T\u00fanel SSH","text":"<ol> <li>Crea t\u00fanel:    <pre><code>ssh -L 8080:ejemplo.com:80 usuario@servidor\n</code></pre></li> <li>Captura mientras navegas a <code>localhost:8080</code></li> <li>Observa que el tr\u00e1fico a ejemplo.com va cifrado por SSH</li> </ol>"},{"location":"concepts/protocols/ssh/#recursos-adicionales","title":"\ud83d\udcda Recursos Adicionales","text":"<ul> <li>SSH.com Academy - Gu\u00eda oficial</li> <li>OpenSSH Manual - Documentaci\u00f3n</li> <li>SSH Hardening - Auditar configuraci\u00f3n</li> </ul>"},{"location":"concepts/security/","title":"Seguridad en Redes","text":"<p>Aprende a identificar amenazas y proteger tu red usando LeirEye.</p>"},{"location":"concepts/security/#contenido","title":"\ud83d\udee1\ufe0f Contenido","text":"<ul> <li> <p> Fundamentos de Seguridad</p> <p>Conceptos b\u00e1sicos de seguridad en redes</p> <p> Leer</p> </li> <li> <p> Detectar Tr\u00e1fico Sospechoso</p> <p>C\u00f3mo identificar actividad maliciosa</p> <p> Leer</p> </li> <li> <p> Mejores Pr\u00e1cticas</p> <p>Recomendaciones para proteger tu red</p> <p> Leer</p> </li> </ul>"},{"location":"concepts/security/#por-que-es-importante","title":"\ud83c\udfaf \u00bfPor Qu\u00e9 es Importante?","text":"<p>El an\u00e1lisis de tr\u00e1fico de red te permite:</p> <ul> <li>\ud83d\udd0d Detectar intrusos en tu red</li> <li>\ud83d\udea8 Identificar malware comunic\u00e1ndose con servidores externos</li> <li>\ud83d\udcca Auditar qu\u00e9 datos salen de tu red</li> <li>\ud83d\udee1\ufe0f Prevenir fugas de informaci\u00f3n</li> </ul>"},{"location":"concepts/security/#ruta-de-aprendizaje","title":"\ud83d\uddfa\ufe0f Ruta de Aprendizaje","text":"<pre><code>flowchart TD\n    A[Fundamentos de Seguridad] --&gt; B[Detectar Tr\u00e1fico Sospechoso]\n    B --&gt; C[Mejores Pr\u00e1cticas]\n    C --&gt; D[An\u00e1lisis Continuo con LeirEye]\n\n    style A fill:#64c8ff\n    style D fill:#64ffda</code></pre>"},{"location":"concepts/security/#tipos-de-amenazas","title":"\ud83d\udcca Tipos de Amenazas","text":"Categor\u00eda Ejemplos Qu\u00e9 buscar en LeirEye Reconocimiento Escaneo de puertos, ping sweep Muchos SYN a diferentes puertos Acceso Inicial Exploits, credenciales robadas Conexiones a puertos inusuales Persistencia Backdoors, malware Tr\u00e1fico peri\u00f3dico a IPs sospechosas Exfiltraci\u00f3n Robo de datos Grandes transferencias salientes C2 Command &amp; Control DNS tunneling, beacons regulares"},{"location":"concepts/security/#indicadores-de-compromiso-ioc","title":"\ud83d\udd34 Indicadores de Compromiso (IoC)","text":"<p>Se\u00f1ales de que algo est\u00e1 mal:</p>"},{"location":"concepts/security/#red","title":"Red","text":"<ul> <li>\u274c Conexiones a IPs en listas negras</li> <li>\u274c Tr\u00e1fico a pa\u00edses inesperados</li> <li>\u274c DNS a dominios reci\u00e9n creados</li> <li>\u274c Grandes vol\u00famenes de datos salientes</li> </ul>"},{"location":"concepts/security/#comportamiento","title":"Comportamiento","text":"<ul> <li>\u274c Actividad a horas inusuales (3 AM)</li> <li>\u274c Patrones regulares (beacon cada 60 segundos)</li> <li>\u274c Comunicaci\u00f3n cifrada a puertos no est\u00e1ndar</li> <li>\u274c M\u00faltiples conexiones fallidas</li> </ul>"},{"location":"concepts/security/#usando-leireye-para-seguridad","title":"\ud83d\udca1 Usando LeirEye para Seguridad","text":""},{"location":"concepts/security/#workflow-de-analisis","title":"Workflow de An\u00e1lisis","text":"<ol> <li>Captura baseline - Tr\u00e1fico normal durante operaci\u00f3n</li> <li>Identifica patrones - Qu\u00e9 es normal en tu red</li> <li>Detecta anomal\u00edas - Lo que se desv\u00eda del baseline</li> <li>Investiga - Usa IA para analizar paquetes sospechosos</li> <li>Documenta - Guarda evidencia de incidentes</li> </ol>"},{"location":"concepts/security/#checklist-de-seguridad","title":"Checklist de Seguridad","text":"<ul> <li> \u00bfHay dispositivos desconocidos en el mapa de red?</li> <li> \u00bfHay conexiones a IPs que no reconozco?</li> <li> \u00bfHay tr\u00e1fico significativo en puertos inusuales?</li> <li> \u00bfHay patrones de beacon regulares?</li> <li> \u00bfHay DNS queries a dominios extra\u00f1os?</li> </ul>"},{"location":"concepts/security/#empezar","title":"\ud83d\ude80 Empezar","text":"<p>Te recomiendo este orden:</p> <ol> <li>Fundamentos - Entiende los conceptos b\u00e1sicos</li> <li>Tr\u00e1fico Sospechoso - Aprende a detectar amenazas</li> <li>Mejores Pr\u00e1cticas - Protege tu red proactivamente</li> </ol>"},{"location":"concepts/security/basics/","title":"Fundamentos de Seguridad en Redes","text":"<p>Conceptos esenciales de seguridad que necesitas entender para analizar tr\u00e1fico de red efectivamente.</p>"},{"location":"concepts/security/basics/#la-triada-cia","title":"\ud83d\udd10 La Tr\u00edada CIA","text":"<p>Los tres pilares de la seguridad de informaci\u00f3n:</p> <pre><code>flowchart TD\n    subgraph CIA[\"Tr\u00edada CIA\"]\n        C[\ud83d\udd12 Confidencialidad]\n        I[\u2713 Integridad]\n        A[\u26a1 Disponibilidad]\n    end\n\n    C --- I\n    I --- A\n    A --- C</code></pre> Pilar Significado Ejemplo de Ataque Confidencialidad Solo autorizados ven los datos Sniffing, MITM Integridad Datos no modificados Inyecci\u00f3n, tampering Disponibilidad Sistema accesible DDoS, ransomware"},{"location":"concepts/security/basics/#modelo-de-amenazas","title":"\ud83c\udfaf Modelo de Amenazas","text":""},{"location":"concepts/security/basics/#quien-podria-atacarte","title":"\u00bfQui\u00e9n podr\u00eda atacarte?","text":"Actor Motivaci\u00f3n Sofisticaci\u00f3n Ejemplo Script Kiddie Diversi\u00f3n, ego Baja Herramientas autom\u00e1ticas Hacker \u00c9tico Pruebas, bounties Media-Alta Pentesters Cibercriminal Dinero Media-Alta Ransomware, phishing Hacktivista Ideolog\u00eda Media Anonymous Estado-Naci\u00f3n Espionaje Muy Alta APTs Insider Venganza, dinero Variable Empleado descontento"},{"location":"concepts/security/basics/#superficie-de-ataque","title":"Superficie de Ataque","text":"<p>Todo lo que un atacante puede ver o tocar:</p> <pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                 SUPERFICIE DE ATAQUE            \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502 \ud83c\udf10 Servicios expuestos (SSH, HTTP, etc.)       \u2502\n\u2502 \ud83d\udce7 Email (phishing, attachments)               \u2502\n\u2502 \ud83d\udd0c Puertos abiertos                            \u2502\n\u2502 \ud83d\udcf1 Dispositivos IoT                            \u2502\n\u2502 \ud83d\udc64 Usuarios (ingenier\u00eda social)                \u2502\n\u2502 \ud83d\udcbf Software desactualizado                     \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"concepts/security/basics/#fases-de-un-ataque","title":"\ud83d\udd04 Fases de un Ataque","text":"<p>El modelo Cyber Kill Chain:</p> <pre><code>flowchart LR\n    A[1. Reconocimiento] --&gt; B[2. Armamento]\n    B --&gt; C[3. Entrega]\n    C --&gt; D[4. Explotaci\u00f3n]\n    D --&gt; E[5. Instalaci\u00f3n]\n    E --&gt; F[6. C2]\n    F --&gt; G[7. Acciones]\n\n    style A fill:#ffcc00\n    style D fill:#ff6b6b\n    style G fill:#ff0000</code></pre> Fase En LeirEye ver\u00e1s... Reconocimiento Escaneos de puertos, DNS queries Entrega Email con adjunto, descarga sospechosa Explotaci\u00f3n Tr\u00e1fico an\u00f3malo a servicios C2 Beacons peri\u00f3dicos, DNS tunneling Exfiltraci\u00f3n Grandes transferencias salientes"},{"location":"concepts/security/basics/#defensa-en-profundidad","title":"\ud83d\udee1\ufe0f Defensa en Profundidad","text":"<p>M\u00faltiples capas de protecci\u00f3n:</p> <pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 \ud83c\udf10 Per\u00edmetro (Firewall, WAF)                   \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502 \ud83d\udd10 Red (Segmentaci\u00f3n, VLANs)                   \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502 \ud83d\udcbb Host (Antivirus, EDR)                       \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502 \ud83d\udcf1 Aplicaci\u00f3n (Autenticaci\u00f3n, validaci\u00f3n)      \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502 \ud83d\udcca Datos (Cifrado, backups)                    \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"concepts/security/basics/#tipos-de-trafico","title":"\ud83d\udd0d Tipos de Tr\u00e1fico","text":""},{"location":"concepts/security/basics/#normal-vs-sospechoso","title":"Normal vs Sospechoso","text":"Caracter\u00edstica Normal Sospechoso Destinos Conocidos (Google, CDNs) IPs desconocidas Puertos Est\u00e1ndar (80, 443, 22) Inusuales (4444, 8888) Horario Durante uso activo 3 AM sin actividad Volumen Proporcional al uso Picos inexplicables Patr\u00f3n Variable, org\u00e1nico Regular, mec\u00e1nico"},{"location":"concepts/security/basics/#categorias-de-trafico","title":"Categor\u00edas de Tr\u00e1fico","text":"<pre><code>pie title Tr\u00e1fico T\u00edpico de Red Hogare\u00f1a\n    \"Web (HTTPS)\" : 60\n    \"Streaming\" : 20\n    \"DNS\" : 5\n    \"Email\" : 3\n    \"Gaming\" : 5\n    \"IoT\" : 5\n    \"Otros\" : 2</code></pre>"},{"location":"concepts/security/basics/#cifrado","title":"\ud83d\udd10 Cifrado","text":""},{"location":"concepts/security/basics/#por-que-importa","title":"Por Qu\u00e9 Importa","text":"Sin cifrado Con cifrado Cualquiera puede leer tus datos Solo t\u00fa y el destino Contrase\u00f1as visibles Contrase\u00f1as protegidas F\u00e1cil de modificar (MITM) Detecta modificaciones"},{"location":"concepts/security/basics/#en-leireye","title":"En LeirEye","text":"Protocolo Puerto Contenido visible HTTP 80 \u2705 Todo HTTPS 443 \u274c Solo metadatos FTP 21 \u2705 Incluyendo contrase\u00f1as SSH 22 \u274c Solo handshake DNS 53 \u2705 Queries y respuestas"},{"location":"concepts/security/basics/#principio-de-minimo-privilegio","title":"\ud83c\udfad Principio de M\u00ednimo Privilegio","text":"<p>Solo dar acceso a lo necesario:</p> <pre><code>flowchart TD\n    A[Usuario] --&gt; B{\u00bfNecesita acceso?}\n    B --&gt;|S\u00ed| C[Dar acceso m\u00ednimo]\n    B --&gt;|No| D[Denegar]\n    C --&gt; E[Revisar peri\u00f3dicamente]\n    E --&gt; B</code></pre> <p>Aplicaci\u00f3n en redes:</p> <ul> <li>Solo abrir puertos necesarios</li> <li>Segmentar redes por funci\u00f3n</li> <li>VLANs para dispositivos IoT</li> <li>Firewall rules espec\u00edficas</li> </ul>"},{"location":"concepts/security/basics/#logs-y-auditoria","title":"\ud83d\udcca Logs y Auditor\u00eda","text":""},{"location":"concepts/security/basics/#que-guardar","title":"Qu\u00e9 Guardar","text":"Tipo Informaci\u00f3n Retenci\u00f3n Firewall Conexiones bloqueadas/permitidas 90 d\u00edas DNS Queries realizados 30 d\u00edas Auth Logins exitosos/fallidos 1 a\u00f1o Aplicaci\u00f3n Errores, acciones cr\u00edticas 90 d\u00edas"},{"location":"concepts/security/basics/#analisis-con-leireye","title":"An\u00e1lisis con LeirEye","text":"<p>LeirEye complementa tus logs: - Captura el tr\u00e1fico real (no solo logs) - Permite an\u00e1lisis post-incidente - Detecta lo que logs no capturan</p>"},{"location":"concepts/security/basics/#practica","title":"\ud83d\udca1 Pr\u00e1ctica","text":""},{"location":"concepts/security/basics/#ejercicio-analizar-tu-baseline","title":"Ejercicio: Analizar tu Baseline","text":"<ol> <li>Captura 10 minutos de tu tr\u00e1fico normal</li> <li>Identifica:</li> <li>Top 5 destinos m\u00e1s frecuentes</li> <li>Puertos m\u00e1s usados</li> <li>Patrones de tr\u00e1fico</li> <li>Documenta tu baseline</li> <li>Compara con capturas futuras</li> </ol>"},{"location":"concepts/security/basics/#preguntas-para-reflexionar","title":"Preguntas para Reflexionar","text":"<ul> <li>\u00bfConoces todos los dispositivos en tu red?</li> <li>\u00bfSabes qu\u00e9 servicios exponen?</li> <li>\u00bfCu\u00e1ndo fue la \u00faltima vez que cambiaste contrase\u00f1as?</li> <li>\u00bfTienes backups actualizados?</li> </ul>"},{"location":"concepts/security/basics/#recursos","title":"\ud83d\udcda Recursos","text":"<ul> <li>OWASP - Seguridad en aplicaciones</li> <li>NIST Cybersecurity Framework</li> <li>SANS Reading Room</li> <li>Krebs on Security - Noticias de seguridad</li> </ul>"},{"location":"concepts/security/best-practices/","title":"Mejores Pr\u00e1cticas de Seguridad","text":"<p>Recomendaciones pr\u00e1cticas para proteger tu red.</p>"},{"location":"concepts/security/best-practices/#configuracion-de-red","title":"\ud83d\udd10 Configuraci\u00f3n de Red","text":""},{"location":"concepts/security/best-practices/#firewall","title":"Firewall","text":"<pre><code># Pol\u00edtica por defecto: bloquear todo entrante\n# Solo permitir lo necesario\n\n# macOS - Habilitar firewall\nsudo /usr/libexec/ApplicationFirewall/socketfilterfw --setglobalstate on\n\n# Verificar estado\nsudo /usr/libexec/ApplicationFirewall/socketfilterfw --getglobalstate\n</code></pre> <p>Reglas recomendadas:</p> Direcci\u00f3n Puerto Acci\u00f3n Raz\u00f3n Entrante * DENEGAR Por defecto Entrante 22 PERMITIR (si necesitas SSH) Acceso remoto Saliente * PERMITIR Navegaci\u00f3n normal Saliente 4444, 31337 DENEGAR Puertos sospechosos"},{"location":"concepts/security/best-practices/#segmentacion-de-red","title":"Segmentaci\u00f3n de Red","text":"<p>Separa dispositivos por nivel de confianza:</p> <pre><code>flowchart TB\n    subgraph Trusted[\"\ud83d\udfe2 Confiable\"]\n        PC[\ud83d\udcbb PCs de trabajo]\n        Server[\ud83d\udda5\ufe0f Servidores]\n    end\n\n    subgraph IoT[\"\ud83d\udfe1 IoT (Cuarentena)\"]\n        Camera[\ud83d\udcf7 C\u00e1maras]\n        TV[\ud83d\udcfa Smart TV]\n        Speaker[\ud83d\udd0a Alexa/Google]\n    end\n\n    subgraph Guest[\"\ud83d\udd34 Invitados\"]\n        GuestDevices[\ud83d\udcf1 Dispositivos visitantes]\n    end\n\n    Router[\ud83c\udf10 Router]\n    Internet[\u2601\ufe0f Internet]\n\n    Trusted &lt;--&gt; Router\n    IoT &lt;--&gt; Router\n    Guest &lt;--&gt; Router\n    Router &lt;--&gt; Internet\n\n    Trusted -.-&gt;|Bloquear| IoT\n    Trusted -.-&gt;|Bloquear| Guest</code></pre>"},{"location":"concepts/security/best-practices/#dns-seguro","title":"DNS Seguro","text":"<p>Usa DNS cifrado y con filtrado:</p> <pre><code># Opciones de DNS seguro\n# Cloudflare: 1.1.1.1 (r\u00e1pido)\n# Cloudflare for Families: 1.1.1.3 (bloquea malware)\n# Quad9: 9.9.9.9 (bloquea amenazas)\n# NextDNS: Custom (configurable)\n</code></pre>"},{"location":"concepts/security/best-practices/#autenticacion","title":"\ud83d\udd11 Autenticaci\u00f3n","text":""},{"location":"concepts/security/best-practices/#contrasenas","title":"Contrase\u00f1as","text":"\u2705 Hacer \u274c Evitar +16 caracteres Menos de 12 Frases: \"MiGatocome3Atunes!\" Palabras simples \u00danica por servicio Reusar contrase\u00f1as Gestor de contrase\u00f1as Post-its, documentos"},{"location":"concepts/security/best-practices/#autenticacion-multi-factor-mfa","title":"Autenticaci\u00f3n Multi-Factor (MFA)","text":"<pre><code>Algo que sabes (contrase\u00f1a)\n        +\nAlgo que tienes (tel\u00e9fono, yubikey)\n        =\nMucho m\u00e1s seguro\n</code></pre> <p>Opciones MFA:</p> Tipo Seguridad Conveniencia SMS \u2b50\u2b50 \u2b50\u2b50\u2b50\u2b50\u2b50 TOTP (Google Auth) \u2b50\u2b50\u2b50\u2b50 \u2b50\u2b50\u2b50\u2b50 Push (Duo) \u2b50\u2b50\u2b50\u2b50 \u2b50\u2b50\u2b50\u2b50\u2b50 Hardware Key \u2b50\u2b50\u2b50\u2b50\u2b50 \u2b50\u2b50\u2b50"},{"location":"concepts/security/best-practices/#ssh-con-claves","title":"SSH con Claves","text":"<pre><code># Generar clave (una vez)\nssh-keygen -t ed25519\n\n# Copiar al servidor\nssh-copy-id usuario@servidor\n\n# Deshabilitar login con contrase\u00f1a\n# En /etc/ssh/sshd_config:\n# PasswordAuthentication no\n</code></pre>"},{"location":"concepts/security/best-practices/#actualizaciones","title":"\ud83d\udd04 Actualizaciones","text":""},{"location":"concepts/security/best-practices/#prioridades","title":"Prioridades","text":"Prioridad Tipo Acci\u00f3n \ud83d\udd34 Cr\u00edtica Seguridad activamente explotada Inmediata \ud83d\udfe0 Alta Seguridad sin exploits conocidos 24-48 horas \ud83d\udfe1 Media Funcionalidad importante Pr\u00f3xima ventana \ud83d\udfe2 Baja Mejoras menores Cuando convenga"},{"location":"concepts/security/best-practices/#automatizacion","title":"Automatizaci\u00f3n","text":"<pre><code># macOS - Actualizaciones autom\u00e1ticas\nsudo softwareupdate --schedule on\n\n# Verificar updates disponibles\nsoftwareupdate -l\n</code></pre>"},{"location":"concepts/security/best-practices/#monitoreo","title":"\ud83d\udcca Monitoreo","text":""},{"location":"concepts/security/best-practices/#con-leireye","title":"Con LeirEye","text":"<p>Rutina semanal:</p> <ol> <li>Captura baseline (10 min en horario normal)</li> <li>Revisa mapa de red - \u00bfDispositivos desconocidos?</li> <li>Analiza estad\u00edsticas - \u00bfPatrones an\u00f3malos?</li> <li>Verifica top destinos - \u00bfConoces todas las IPs?</li> </ol> <p>Alertas autom\u00e1ticas (si implementas):</p> Evento Umbral Acci\u00f3n Nuevo dispositivo 1 Notificar Puerto inusual Cualquier tr\u00e1fico a 4444, etc. Alertar Volumen an\u00f3malo &gt;3x promedio Investigar IP en blacklist 1 conexi\u00f3n Bloquear + alertar"},{"location":"concepts/security/best-practices/#logs-importantes","title":"Logs Importantes","text":"<pre><code># macOS - Ver logs de sistema\nlog show --predicate 'eventMessage contains \"auth\"' --last 1h\n\n# Ver conexiones activas\nnetstat -an | grep ESTABLISHED\n\n# Procesos con conexiones de red\nlsof -i -P\n</code></pre>"},{"location":"concepts/security/best-practices/#endpoints","title":"\ud83d\udee1\ufe0f Endpoints","text":""},{"location":"concepts/security/best-practices/#configuracion-minima","title":"Configuraci\u00f3n M\u00ednima","text":"<ul> <li> Firewall habilitado</li> <li> Antivirus actualizado (Windows/macOS tiene integrado)</li> <li> Cifrado de disco habilitado (FileVault/BitLocker)</li> <li> Actualizaciones autom\u00e1ticas</li> <li> Sin servicios innecesarios expuestos</li> </ul>"},{"location":"concepts/security/best-practices/#verificar-servicios-expuestos","title":"Verificar Servicios Expuestos","text":"<pre><code># Ver puertos en escucha\nnetstat -an | grep LISTEN\n\n# M\u00e1s detallado\nlsof -i -P | grep LISTEN\n\n# Verificar desde fuera\nnmap -sV TuIP\n</code></pre>"},{"location":"concepts/security/best-practices/#datos","title":"\ud83d\udd12 Datos","text":""},{"location":"concepts/security/best-practices/#cifrado","title":"Cifrado","text":"Datos Soluci\u00f3n En disco FileVault (macOS), BitLocker (Windows) En tr\u00e1nsito HTTPS, VPN, SSH Backups Cifrar antes de subir a cloud Contrase\u00f1as Gestor de contrase\u00f1as (1Password, Bitwarden)"},{"location":"concepts/security/best-practices/#backups","title":"Backups","text":"<p>Regla 3-2-1: - 3 copias de tus datos - 2 medios diferentes (disco + cloud) - 1 copia fuera de casa/oficina</p> <pre><code># Ejemplo con rsync\nrsync -avz --delete ~/Documents /Volumes/BackupDrive/\n\n# Verificar backup\nls -la /Volumes/BackupDrive/Documents/\n</code></pre>"},{"location":"concepts/security/best-practices/#navegacion-segura","title":"\ud83c\udf10 Navegaci\u00f3n Segura","text":""},{"location":"concepts/security/best-practices/#extensiones-recomendadas","title":"Extensiones Recomendadas","text":"Extensi\u00f3n Prop\u00f3sito uBlock Origin Bloquear ads y trackers HTTPS Everywhere Forzar HTTPS Privacy Badger Bloquear trackers"},{"location":"concepts/security/best-practices/#vpn","title":"VPN","text":"<p>Cu\u00e1ndo usar: - \u2705 WiFi p\u00fablico (cafeter\u00edas, aeropuertos) - \u2705 Evitar geoblocking - \u2705 Privacidad del ISP</p> <p>Cu\u00e1ndo no es necesario: - Red de casa confiable - Ya usando HTTPS (solo oculta destinos del ISP)</p>"},{"location":"concepts/security/best-practices/#checklist-de-seguridad","title":"\ud83d\udccb Checklist de Seguridad","text":""},{"location":"concepts/security/best-practices/#diario","title":"Diario","text":"<ul> <li> Revisar alertas de seguridad</li> <li> Verificar backups autom\u00e1ticos funcionando</li> <li> Cerrar sesiones no usadas</li> </ul>"},{"location":"concepts/security/best-practices/#semanal","title":"Semanal","text":"<ul> <li> Captura baseline con LeirEye</li> <li> Revisar mapa de red (dispositivos nuevos)</li> <li> Instalar actualizaciones pendientes</li> <li> Revisar logs de auth</li> </ul>"},{"location":"concepts/security/best-practices/#mensual","title":"Mensual","text":"<ul> <li> Auditar usuarios y permisos</li> <li> Probar restauraci\u00f3n de backup</li> <li> Revisar reglas de firewall</li> <li> Escanear red propia con nmap</li> </ul>"},{"location":"concepts/security/best-practices/#anual","title":"Anual","text":"<ul> <li> Rotar contrase\u00f1as cr\u00edticas</li> <li> Revisar pol\u00edticas de seguridad</li> <li> Actualizar plan de respuesta a incidentes</li> <li> Capacitaci\u00f3n de seguridad</li> </ul>"},{"location":"concepts/security/best-practices/#respuesta-a-incidentes","title":"\ud83d\udea8 Respuesta a Incidentes","text":""},{"location":"concepts/security/best-practices/#si-detectas-algo-sospechoso","title":"Si Detectas Algo Sospechoso","text":"<ol> <li>No entres en p\u00e1nico</li> <li>Documenta - Captura pantalla, logs, tr\u00e1fico</li> <li>A\u00edsla - Desconecta el dispositivo afectado</li> <li>Investiga - \u00bfQu\u00e9 pas\u00f3? \u00bfCu\u00e1ndo empez\u00f3?</li> <li>Remedia - Limpia o reinstala</li> <li>Aprende - \u00bfC\u00f3mo prevenir en futuro?</li> </ol>"},{"location":"concepts/security/best-practices/#contactos-de-emergencia","title":"Contactos de Emergencia","text":"<p>Ten a mano: - N\u00famero de tu ISP - Contacto de soporte IT - N\u00famero de tu banco (si hay fraude) - Polic\u00eda cibern\u00e9tica local</p>"},{"location":"concepts/security/best-practices/#resumen","title":"\ud83d\udca1 Resumen","text":"<pre><code>mindmap\n  root((Seguridad))\n    Red\n      Firewall\n      Segmentaci\u00f3n\n      DNS seguro\n    Autenticaci\u00f3n\n      Contrase\u00f1as fuertes\n      MFA\n      Claves SSH\n    Actualizaciones\n      Autom\u00e1ticas\n      Priorizadas\n    Monitoreo\n      LeirEye\n      Logs\n      Alertas\n    Datos\n      Cifrado\n      Backups 3-2-1</code></pre>"},{"location":"concepts/security/best-practices/#recursos","title":"\ud83d\udcda Recursos","text":"<ul> <li>NIST Cybersecurity Framework</li> <li>CIS Controls</li> <li>Have I Been Pwned - Verificar brechas</li> <li>PrivacyTools - Herramientas de privacidad</li> </ul>"},{"location":"concepts/security/suspicious-traffic/","title":"Detectar Tr\u00e1fico Sospechoso","text":"<p>Gu\u00eda pr\u00e1ctica para identificar actividad maliciosa en capturas de red.</p>"},{"location":"concepts/security/suspicious-traffic/#senales-de-alerta","title":"\ud83d\udea8 Se\u00f1ales de Alerta","text":""},{"location":"concepts/security/suspicious-traffic/#1-escaneo-de-puertos","title":"1. Escaneo de Puertos","text":"<p>Qu\u00e9 es: Atacante explorando qu\u00e9 servicios tienes abiertos.</p> <p>En LeirEye: <pre><code>#1 | TCP | 1.2.3.4:54321 \u2192 TuIP:21   | [SYN]\n#2 | TCP | 1.2.3.4:54322 \u2192 TuIP:22   | [SYN]\n#3 | TCP | 1.2.3.4:54323 \u2192 TuIP:23   | [SYN]\n#4 | TCP | 1.2.3.4:54324 \u2192 TuIP:25   | [SYN]\n#5 | TCP | 1.2.3.4:54325 \u2192 TuIP:80   | [SYN]\n... (muchos m\u00e1s puertos)\n</code></pre></p> <p>Se\u00f1ales: - \u2705 Muchos SYN desde misma IP - \u2705 A diferentes puertos consecutivos - \u2705 Sin respuesta ACK (no completa conexi\u00f3n)</p> <p>Variantes: | Tipo | Caracter\u00edstica | |------|----------------| | TCP Connect | Completa el handshake | | SYN Scan | Solo env\u00eda SYN | | FIN/XMAS/NULL | Flags inusuales para evadir detecci\u00f3n | | UDP Scan | Paquetes UDP a m\u00faltiples puertos |</p>"},{"location":"concepts/security/suspicious-traffic/#2-beaconc2-command-control","title":"2. Beacon/C2 (Command &amp; Control)","text":"<p>Qu\u00e9 es: Malware \"llamando a casa\" para recibir instrucciones.</p> <p>En LeirEye: <pre><code>10:00:00 | TCP | TuIP \u2192 1.2.3.4:443 | 128 bytes\n10:01:00 | TCP | TuIP \u2192 1.2.3.4:443 | 128 bytes\n10:02:00 | TCP | TuIP \u2192 1.2.3.4:443 | 128 bytes\n10:03:00 | TCP | TuIP \u2192 1.2.3.4:443 | 128 bytes\n</code></pre></p> <p>Se\u00f1ales: - \u2705 Intervalos regulares (cada 60 segundos exactos) - \u2705 Mismo tama\u00f1o de paquete - \u2705 Misma IP destino - \u2705 A horas sin actividad del usuario</p> <p>Visualizaci\u00f3n: <pre><code>Paquetes por minuto a 1.2.3.4\n\u2502 *     *     *     *     *     *     *\n\u2502\n\u2502\n\u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n  10:00 10:01 10:02 10:03 10:04 10:05 10:06\n</code></pre></p>"},{"location":"concepts/security/suspicious-traffic/#3-dns-tunneling","title":"3. DNS Tunneling","text":"<p>Qu\u00e9 es: Exfiltrar datos o C2 disfrazado de tr\u00e1fico DNS.</p> <p>En LeirEye: <pre><code>#1 | DNS | Query: aGVsbG8gd29ybGQ.evil.tk\n#2 | DNS | Query: dGhpcyBpcyBkYXRh.evil.tk\n#3 | DNS | Query: base64encodedstuff.evil.tk\n</code></pre></p> <p>Se\u00f1ales: - \u2705 Subdominios muy largos o aleatorios - \u2705 Muchas queries TXT - \u2705 Dominios poco conocidos (.tk, .pw, .xyz) - \u2705 Respuestas TXT inusualmente largas</p> <p>Comparaci\u00f3n: <pre><code># Normal\nDNS Query: www.google.com\nDNS Query: api.github.com\n\n# Sospechoso (posible tunneling)\nDNS Query: 3f2e8a9c7d6b5e4f.malicious.tk\nDNS Query: YWJjZGVmZ2hpamtsbW5vcHFy.evil.pw\n</code></pre></p>"},{"location":"concepts/security/suspicious-traffic/#4-exfiltracion-de-datos","title":"4. Exfiltraci\u00f3n de Datos","text":"<p>Qu\u00e9 es: Robo de informaci\u00f3n hacia el exterior.</p> <p>En LeirEye: <pre><code>23:00:00 | TCP | TuIP \u2192 Desconocido:443 | 15 MB\n23:00:30 | TCP | TuIP \u2192 Desconocido:443 | 20 MB\n23:01:00 | TCP | TuIP \u2192 Desconocido:443 | 18 MB\n</code></pre></p> <p>Se\u00f1ales: - \u2705 Grandes transferencias salientes - \u2705 A horas inusuales - \u2705 A IPs no reconocidas - \u2705 Uso de puertos como 443 para parecer leg\u00edtimo</p> <p>Estad\u00edsticas: <pre><code>Top Destinos por Volumen:\n1. Desconocido.IP    | 500 MB \u26a0\ufe0f (investigar)\n2. Google           | 50 MB \u2705\n3. Microsoft        | 30 MB \u2705\n</code></pre></p>"},{"location":"concepts/security/suspicious-traffic/#5-fuerza-bruta","title":"5. Fuerza Bruta","text":"<p>Qu\u00e9 es: Intentos repetidos de adivinar credenciales.</p> <p>En LeirEye: <pre><code>10:00:00 | SSH | 1.2.3.4 \u2192 TuIP:22 | Connection\n10:00:01 | SSH | 1.2.3.4 \u2192 TuIP:22 | Connection\n10:00:02 | SSH | 1.2.3.4 \u2192 TuIP:22 | Connection\n10:00:03 | SSH | 1.2.3.4 \u2192 TuIP:22 | Connection\n</code></pre></p> <p>Se\u00f1ales: - \u2705 Muchas conexiones al mismo puerto auth (22, 3389) - \u2705 Desde misma IP o m\u00faltiples IPs - \u2705 Conexiones cortas (auth fallido) - \u2705 Alto volumen en poco tiempo</p>"},{"location":"concepts/security/suspicious-traffic/#6-ddos-denegacion-de-servicio","title":"6. DDoS (Denegaci\u00f3n de Servicio)","text":"<p>Qu\u00e9 es: Inundaci\u00f3n de tr\u00e1fico para saturar recursos.</p> <p>Se\u00f1ales entrantes: <pre><code>Paquetes/segundo\n10000 \u2502  \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\n      \u2502  \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\n 1000 \u2502  \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\n      \u2502\u2500\u2500\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n  100 \u2502  \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\n      \u2502  \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\n   10 \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n      Normal \u2192 Ataque \u2192 Normal\n</code></pre></p> <p>Tipos comunes: | Tipo | Caracter\u00edstica | |------|----------------| | SYN Flood | Miles de SYN sin ACK | | UDP Flood | Paquetes UDP masivos | | DNS Amplification | Respuestas DNS gigantes | | HTTP Flood | Miles de requests |</p>"},{"location":"concepts/security/suspicious-traffic/#7-arp-spoofing","title":"7. ARP Spoofing","text":"<p>Qu\u00e9 es: Atacante se hace pasar por el gateway para interceptar tr\u00e1fico.</p> <p>En LeirEye: <pre><code>#1 | ARP | 192.168.1.1 is at aa:bb:cc:dd:ee:ff (real)\n#2 | ARP | 192.168.1.1 is at 11:22:33:44:55:66 (falso!)\n</code></pre></p> <p>Se\u00f1ales: - \u2705 M\u00faltiples MACs para misma IP - \u2705 ARP gratuitos frecuentes - \u2705 Gateway con MAC diferente al router real</p>"},{"location":"concepts/security/suspicious-traffic/#dashboard-de-seguridad","title":"\ud83d\udcca Dashboard de Seguridad","text":""},{"location":"concepts/security/suspicious-traffic/#metricas-a-monitorear","title":"M\u00e9tricas a Monitorear","text":"M\u00e9trica Normal Alerta Conexiones nuevas/min 10-50 &gt;200 DNS queries/min 5-20 &gt;100 Bytes salientes Proporcional al uso &gt;100MB sin raz\u00f3n IPs \u00fanicas destino 20-50 &gt;200 nuevas Puertos destino \u00fanicos 5-10 &gt;50"},{"location":"concepts/security/suspicious-traffic/#checklist-diario","title":"Checklist Diario","text":"<ul> <li> \u00bfHay nuevos dispositivos en el mapa de red?</li> <li> \u00bfTop IPs destino son conocidas?</li> <li> \u00bfHay tr\u00e1fico a puertos inusuales?</li> <li> \u00bfEstad\u00edsticas muestran patrones an\u00f3malos?</li> <li> \u00bfDNS queries van a dominios esperados?</li> </ul>"},{"location":"concepts/security/suspicious-traffic/#workflow-de-investigacion","title":"\ud83d\udd0d Workflow de Investigaci\u00f3n","text":"<pre><code>flowchart TD\n    A[Detectar Anomal\u00eda] --&gt; B{\u00bfEs conocido?}\n    B --&gt;|S\u00ed| C[Documentar como normal]\n    B --&gt;|No| D[Investigar m\u00e1s]\n    D --&gt; E[Verificar IP/Dominio]\n    E --&gt; F{\u00bfMalicioso?}\n    F --&gt;|No| G[Agregar a whitelist]\n    F --&gt;|S\u00ed| H[Respuesta a incidente]\n    F --&gt;|Incierto| I[Monitorear]\n    H --&gt; J[Bloquear + Remediar]</code></pre>"},{"location":"concepts/security/suspicious-traffic/#herramientas-de-verificacion","title":"Herramientas de Verificaci\u00f3n","text":"<pre><code># Informaci\u00f3n sobre IP\nwhois 1.2.3.4\ncurl ipinfo.io/1.2.3.4\n\n# Verificar reputaci\u00f3n\n# VirusTotal: https://virustotal.com\n# AbuseIPDB: https://abuseipdb.com\n# Shodan: https://shodan.io\n\n# DNS lookup\ndig +short dominio-sospechoso.tk\n\n# WHOIS de dominio\nwhois dominio-sospechoso.tk\n</code></pre>"},{"location":"concepts/security/suspicious-traffic/#practica","title":"\ud83d\udca1 Pr\u00e1ctica","text":""},{"location":"concepts/security/suspicious-traffic/#ejercicio-1-simular-escaneo","title":"Ejercicio 1: Simular Escaneo","text":"<pre><code># SOLO en tu propia red/m\u00e1quinas\nnmap -sS localhost\n</code></pre> <p>Captura con LeirEye y observa el patr\u00f3n.</p>"},{"location":"concepts/security/suspicious-traffic/#ejercicio-2-analizar-baseline","title":"Ejercicio 2: Analizar Baseline","text":"<ol> <li>Captura 30 minutos de tr\u00e1fico normal</li> <li>Anota:</li> <li>Top 10 IPs destino</li> <li>Puertos m\u00e1s usados</li> <li>Volumen t\u00edpico por hora</li> <li>Guarda como referencia</li> </ol>"},{"location":"concepts/security/suspicious-traffic/#ejercicio-3-buscar-anomalias","title":"Ejercicio 3: Buscar Anomal\u00edas","text":"<ol> <li>Compara captura nueva con baseline</li> <li>Identifica:</li> <li>IPs nuevas</li> <li>Puertos nuevos</li> <li>Cambios de volumen</li> <li>Investiga diferencias</li> </ol>"},{"location":"concepts/security/suspicious-traffic/#recursos","title":"\ud83d\udcda Recursos","text":"<ul> <li>MITRE ATT&amp;CK - Framework de t\u00e1cticas</li> <li>Malware Traffic Analysis - Capturas reales</li> <li>Security Onion - Plataforma de monitoreo</li> </ul>"},{"location":"deployment/","title":"Despliegue","text":"<p>Gu\u00edas para desplegar LeirEye en diferentes entornos.</p>"},{"location":"deployment/#contenido","title":"\ud83d\udcda Contenido","text":"<ul> <li> <p> Docker</p> <p>Despliegue con Docker y Docker Compose</p> <p> Ver</p> </li> <li> <p> Producci\u00f3n</p> <p>Configuraci\u00f3n para entornos de producci\u00f3n</p> <p> Ver</p> </li> </ul>"},{"location":"deployment/#opciones-de-despliegue","title":"\ud83d\ude80 Opciones de Despliegue","text":"Opci\u00f3n Complejidad Uso Recomendado Desarrollo local \u2b50 Desarrollo, pruebas Docker Compose \u2b50\u2b50 Demos, equipos peque\u00f1os Docker Compose + Nginx \u2b50\u2b50\u2b50 Producci\u00f3n peque\u00f1a Kubernetes \u2b50\u2b50\u2b50\u2b50\u2b50 Producci\u00f3n enterprise"},{"location":"deployment/#inicio-rapido","title":"\ud83c\udfc3 Inicio R\u00e1pido","text":""},{"location":"deployment/#desarrollo-local","title":"Desarrollo Local","text":"<pre><code># Servicios\ndocker-compose up -d\n\n# Backend\ncd backend\nsource venv/bin/activate\npython run.py\n\n# Frontend\ncd frontend\nnpm start\n</code></pre>"},{"location":"deployment/#docker-compose-completo","title":"Docker Compose Completo","text":"<pre><code># Todo en contenedores\ndocker-compose -f docker-compose.prod.yml up -d\n</code></pre>"},{"location":"deployment/#requisitos","title":"\ud83d\udccb Requisitos","text":""},{"location":"deployment/#minimos","title":"M\u00ednimos","text":"Recurso Desarrollo Producci\u00f3n CPU 2 cores 4 cores RAM 4 GB 8 GB Disco 10 GB 50 GB Red 100 Mbps 1 Gbps"},{"location":"deployment/#software","title":"Software","text":"<ul> <li>Docker 24+</li> <li>Docker Compose 2.0+</li> <li>(Opcional) Nginx para reverse proxy</li> <li>(Opcional) Certbot para SSL</li> </ul>"},{"location":"deployment/#consideraciones-de-seguridad","title":"\ud83d\udd10 Consideraciones de Seguridad","text":"<p>Antes de producci\u00f3n</p> <ol> <li>Cambiar <code>SECRET_KEY</code> en <code>.env</code></li> <li>Configurar HTTPS</li> <li>Limitar CORS a dominios espec\u00edficos</li> <li>Configurar firewall</li> <li>Habilitar rate limiting</li> <li>Configurar backups autom\u00e1ticos</li> </ol>"},{"location":"deployment/docker/","title":"Despliegue con Docker","text":"<p>Gu\u00eda completa para desplegar LeirEye usando Docker.</p>"},{"location":"deployment/docker/#requisitos","title":"\ud83d\udc33 Requisitos","text":"<ul> <li>Docker 24.0+</li> <li>Docker Compose 2.0+</li> <li>4 GB RAM m\u00ednimo</li> <li>10 GB disco</li> </ul> <pre><code># Verificar versiones\ndocker --version\ndocker compose version\n</code></pre>"},{"location":"deployment/docker/#docker-compose-desarrollo","title":"\ud83d\udce6 Docker Compose (Desarrollo)","text":""},{"location":"deployment/docker/#archivo-docker-composeyml","title":"Archivo docker-compose.yml","text":"<pre><code>version: '3.8'\n\nservices:\n  postgres:\n    image: postgres:15-alpine\n    container_name: leireye-postgres\n    environment:\n      POSTGRES_USER: postgres\n      POSTGRES_PASSWORD: postgres\n      POSTGRES_DB: leireye\n    ports:\n      - \"5432:5432\"\n    volumes:\n      - postgres_data:/var/lib/postgresql/data\n    healthcheck:\n      test: [\"CMD-SHELL\", \"pg_isready -U postgres\"]\n      interval: 5s\n      timeout: 5s\n      retries: 5\n\n  redis:\n    image: redis:7-alpine\n    container_name: leireye-redis\n    ports:\n      - \"6379:6379\"\n    volumes:\n      - redis_data:/data\n    healthcheck:\n      test: [\"CMD\", \"redis-cli\", \"ping\"]\n      interval: 5s\n      timeout: 5s\n      retries: 5\n\nvolumes:\n  postgres_data:\n  redis_data:\n</code></pre>"},{"location":"deployment/docker/#comandos-basicos","title":"Comandos B\u00e1sicos","text":"<pre><code># Iniciar servicios\ndocker-compose up -d\n\n# Ver estado\ndocker-compose ps\n\n# Ver logs\ndocker-compose logs -f\n\n# Parar servicios\ndocker-compose down\n\n# Parar y borrar datos\ndocker-compose down -v\n</code></pre>"},{"location":"deployment/docker/#docker-compose-produccion","title":"\ud83d\ude80 Docker Compose (Producci\u00f3n)","text":""},{"location":"deployment/docker/#docker-composeprodyml","title":"docker-compose.prod.yml","text":"<pre><code>version: '3.8'\n\nservices:\n  postgres:\n    image: postgres:15-alpine\n    container_name: leireye-postgres\n    environment:\n      POSTGRES_USER: ${DB_USER:-postgres}\n      POSTGRES_PASSWORD: ${DB_PASSWORD}\n      POSTGRES_DB: ${DB_NAME:-leireye}\n    volumes:\n      - postgres_data:/var/lib/postgresql/data\n    healthcheck:\n      test: [\"CMD-SHELL\", \"pg_isready -U postgres\"]\n      interval: 10s\n      timeout: 5s\n      retries: 5\n    restart: unless-stopped\n\n  redis:\n    image: redis:7-alpine\n    container_name: leireye-redis\n    command: redis-server --requirepass ${REDIS_PASSWORD}\n    volumes:\n      - redis_data:/data\n    healthcheck:\n      test: [\"CMD\", \"redis-cli\", \"-a\", \"${REDIS_PASSWORD}\", \"ping\"]\n      interval: 10s\n      timeout: 5s\n      retries: 5\n    restart: unless-stopped\n\n  backend:\n    build:\n      context: ./backend\n      dockerfile: Dockerfile\n    container_name: leireye-backend\n    environment:\n      DATABASE_URL: postgresql://${DB_USER}:${DB_PASSWORD}@postgres:5432/${DB_NAME}\n      REDIS_URL: redis://:${REDIS_PASSWORD}@redis:6379\n      SECRET_KEY: ${SECRET_KEY}\n      CORS_ORIGINS: ${CORS_ORIGINS}\n      OLLAMA_HOST: http://ollama:11434\n    ports:\n      - \"8000:8000\"\n    depends_on:\n      postgres:\n        condition: service_healthy\n      redis:\n        condition: service_healthy\n    cap_add:\n      - NET_ADMIN\n      - NET_RAW\n    network_mode: host  # Para captura de paquetes\n    restart: unless-stopped\n\n  frontend:\n    build:\n      context: ./frontend\n      dockerfile: Dockerfile\n      args:\n        REACT_APP_API_URL: ${API_URL:-http://localhost:8000}\n    container_name: leireye-frontend\n    ports:\n      - \"3001:80\"\n    depends_on:\n      - backend\n    restart: unless-stopped\n\n  ollama:\n    image: ollama/ollama:latest\n    container_name: leireye-ollama\n    volumes:\n      - ollama_data:/root/.ollama\n    ports:\n      - \"11434:11434\"\n    restart: unless-stopped\n\nvolumes:\n  postgres_data:\n  redis_data:\n  ollama_data:\n</code></pre>"},{"location":"deployment/docker/#archivo-env-para-produccion","title":"Archivo .env para Producci\u00f3n","text":"<pre><code># .env.prod\nDB_USER=leireye\nDB_PASSWORD=SecurePassword123!\nDB_NAME=leireye\n\nREDIS_PASSWORD=RedisSecurePass456!\n\nSECRET_KEY=your-very-long-and-secure-secret-key-here-min-32-chars\n\nCORS_ORIGINS=https://tu-dominio.com\n\nAPI_URL=https://api.tu-dominio.com\n</code></pre>"},{"location":"deployment/docker/#dockerfiles","title":"\ud83d\udd28 Dockerfiles","text":""},{"location":"deployment/docker/#backend-dockerfile","title":"Backend Dockerfile","text":"<pre><code># backend/Dockerfile\nFROM python:3.11-slim\n\nWORKDIR /app\n\n# Instalar dependencias del sistema\nRUN apt-get update &amp;&amp; apt-get install -y \\\n    gcc \\\n    libpcap-dev \\\n    &amp;&amp; rm -rf /var/lib/apt/lists/*\n\n# Copiar requirements primero (cache de Docker)\nCOPY requirements.txt .\nRUN pip install --no-cache-dir -r requirements.txt\n\n# Copiar c\u00f3digo\nCOPY . .\n\n# Usuario no-root (excepto para captura)\n# RUN useradd -m appuser &amp;&amp; chown -R appuser:appuser /app\n# USER appuser\n\nEXPOSE 8000\n\nCMD [\"uvicorn\", \"app.main:app\", \"--host\", \"0.0.0.0\", \"--port\", \"8000\"]\n</code></pre>"},{"location":"deployment/docker/#frontend-dockerfile","title":"Frontend Dockerfile","text":"<pre><code># frontend/Dockerfile\nFROM node:18-alpine as build\n\nWORKDIR /app\n\n# Copiar package.json primero\nCOPY package*.json ./\nRUN npm ci\n\n# Copiar c\u00f3digo y build\nCOPY . .\n\nARG REACT_APP_API_URL=http://localhost:8000\nENV REACT_APP_API_URL=$REACT_APP_API_URL\n\nRUN npm run build\n\n# Producci\u00f3n con nginx\nFROM nginx:alpine\n\nCOPY --from=build /app/build /usr/share/nginx/html\nCOPY nginx.conf /etc/nginx/conf.d/default.conf\n\nEXPOSE 80\n\nCMD [\"nginx\", \"-g\", \"daemon off;\"]\n</code></pre>"},{"location":"deployment/docker/#frontend-nginxconf","title":"Frontend nginx.conf","text":"<pre><code># frontend/nginx.conf\nserver {\n    listen 80;\n    server_name localhost;\n    root /usr/share/nginx/html;\n    index index.html;\n\n    # Gzip\n    gzip on;\n    gzip_types text/plain text/css application/json application/javascript;\n\n    # SPA routing\n    location / {\n        try_files $uri $uri/ /index.html;\n    }\n\n    # Cache static assets\n    location ~* \\.(js|css|png|jpg|jpeg|gif|ico|svg)$ {\n        expires 1y;\n        add_header Cache-Control \"public, immutable\";\n    }\n}\n</code></pre>"},{"location":"deployment/docker/#desplegar","title":"\ud83d\ude80 Desplegar","text":""},{"location":"deployment/docker/#1-preparar-entorno","title":"1. Preparar Entorno","text":"<pre><code># Clonar repositorio\ngit clone https://github.com/tu-usuario/leireye.git\ncd leireye\n\n# Crear archivo de entorno\ncp .env.example .env.prod\n# Editar con valores reales\nnano .env.prod\n</code></pre>"},{"location":"deployment/docker/#2-build-y-ejecutar","title":"2. Build y Ejecutar","text":"<pre><code># Build de im\u00e1genes\ndocker-compose -f docker-compose.prod.yml build\n\n# Iniciar servicios\ndocker-compose -f docker-compose.prod.yml up -d\n\n# Verificar estado\ndocker-compose -f docker-compose.prod.yml ps\n\n# Ver logs\ndocker-compose -f docker-compose.prod.yml logs -f\n</code></pre>"},{"location":"deployment/docker/#3-migraciones","title":"3. Migraciones","text":"<pre><code># Ejecutar migraciones\ndocker-compose -f docker-compose.prod.yml exec backend \\\n    alembic upgrade head\n</code></pre>"},{"location":"deployment/docker/#4-descargar-modelo-ollama","title":"4. Descargar Modelo Ollama","text":"<pre><code># Descargar modelo\ndocker-compose -f docker-compose.prod.yml exec ollama \\\n    ollama pull llama3.2:3b\n</code></pre>"},{"location":"deployment/docker/#actualizaciones","title":"\ud83d\udd04 Actualizaciones","text":"<pre><code># Parar servicios\ndocker-compose -f docker-compose.prod.yml down\n\n# Actualizar c\u00f3digo\ngit pull origin main\n\n# Rebuild\ndocker-compose -f docker-compose.prod.yml build --no-cache\n\n# Iniciar\ndocker-compose -f docker-compose.prod.yml up -d\n\n# Migraciones si hay\ndocker-compose -f docker-compose.prod.yml exec backend \\\n    alembic upgrade head\n</code></pre>"},{"location":"deployment/docker/#backups","title":"\ud83d\udcbe Backups","text":""},{"location":"deployment/docker/#base-de-datos","title":"Base de Datos","text":"<pre><code># Backup\ndocker-compose exec postgres \\\n    pg_dump -U postgres leireye &gt; backup_$(date +%Y%m%d).sql\n\n# Restore\ndocker-compose exec -T postgres \\\n    psql -U postgres leireye &lt; backup_20240120.sql\n</code></pre>"},{"location":"deployment/docker/#automatizar-backups","title":"Automatizar Backups","text":"<pre><code>#!/bin/bash\n# backup.sh\nBACKUP_DIR=/backups\nDATE=$(date +%Y%m%d_%H%M%S)\n\n# PostgreSQL\ndocker-compose exec -T postgres \\\n    pg_dump -U postgres leireye | gzip &gt; $BACKUP_DIR/db_$DATE.sql.gz\n\n# Limpiar backups antiguos (30 d\u00edas)\nfind $BACKUP_DIR -name \"*.gz\" -mtime +30 -delete\n</code></pre> <p>Agregar a crontab: <pre><code># Backup diario a las 3 AM\n0 3 * * * /path/to/backup.sh\n</code></pre></p>"},{"location":"deployment/docker/#monitoreo","title":"\ud83d\udcca Monitoreo","text":""},{"location":"deployment/docker/#health-checks","title":"Health Checks","text":"<pre><code># Verificar todos los servicios\ndocker-compose -f docker-compose.prod.yml ps\n\n# Health check espec\u00edfico\ncurl http://localhost:8000/health\n</code></pre>"},{"location":"deployment/docker/#logs","title":"Logs","text":"<pre><code># Todos los logs\ndocker-compose -f docker-compose.prod.yml logs -f\n\n# Solo backend\ndocker-compose -f docker-compose.prod.yml logs -f backend\n\n# \u00daltimas 100 l\u00edneas\ndocker-compose -f docker-compose.prod.yml logs --tail=100 backend\n</code></pre>"},{"location":"deployment/docker/#metricas","title":"M\u00e9tricas","text":"<pre><code># Uso de recursos\ndocker stats\n</code></pre>"},{"location":"deployment/production/","title":"Producci\u00f3n","text":"<p>Gu\u00eda para desplegar LeirEye en un entorno de producci\u00f3n.</p>"},{"location":"deployment/production/#checklist-de-seguridad","title":"\ud83d\udd12 Checklist de Seguridad","text":"<p>Antes de poner en producci\u00f3n:</p> <ul> <li> Cambiar <code>SECRET_KEY</code> (m\u00ednimo 32 caracteres aleatorios)</li> <li> Cambiar contrase\u00f1as de base de datos</li> <li> Configurar HTTPS</li> <li> Limitar CORS a dominios espec\u00edficos</li> <li> Configurar firewall</li> <li> Habilitar rate limiting</li> <li> Deshabilitar debug mode</li> <li> Configurar backups autom\u00e1ticos</li> <li> Configurar monitoreo</li> </ul>"},{"location":"deployment/production/#configuracion-de-seguridad","title":"\ud83d\udd10 Configuraci\u00f3n de Seguridad","text":""},{"location":"deployment/production/#variables-de-entorno","title":"Variables de Entorno","text":"<pre><code># .env.prod\n# Generar: python -c \"import secrets; print(secrets.token_urlsafe(32))\"\nSECRET_KEY=tu-clave-secreta-muy-larga-y-aleatoria\n\n# Base de datos\nDB_USER=leireye_prod\nDB_PASSWORD=Contrase\u00f1aMuySegura123!\nDB_NAME=leireye_prod\n\n# Redis\nREDIS_PASSWORD=OtraContrase\u00f1aSegura456!\n\n# CORS - Solo tu dominio\nCORS_ORIGINS=https://leireye.tudominio.com\n\n# Debug desactivado\nDEBUG=false\nLOG_LEVEL=WARNING\n</code></pre>"},{"location":"deployment/production/#generar-secret_key","title":"Generar SECRET_KEY","text":"<pre><code>import secrets\nprint(secrets.token_urlsafe(32))\n</code></pre>"},{"location":"deployment/production/#nginx-como-reverse-proxy","title":"\ud83c\udf10 Nginx como Reverse Proxy","text":""},{"location":"deployment/production/#instalacion","title":"Instalaci\u00f3n","text":"<pre><code># Ubuntu/Debian\nsudo apt update\nsudo apt install nginx certbot python3-certbot-nginx\n</code></pre>"},{"location":"deployment/production/#configuracion-nginx","title":"Configuraci\u00f3n Nginx","text":"<pre><code># /etc/nginx/sites-available/leireye\nupstream backend {\n    server 127.0.0.1:8000;\n}\n\nupstream frontend {\n    server 127.0.0.1:3001;\n}\n\n# Redireccionar HTTP a HTTPS\nserver {\n    listen 80;\n    server_name leireye.tudominio.com;\n    return 301 https://$server_name$request_uri;\n}\n\nserver {\n    listen 443 ssl http2;\n    server_name leireye.tudominio.com;\n\n    # SSL (certbot los configura)\n    ssl_certificate /etc/letsencrypt/live/leireye.tudominio.com/fullchain.pem;\n    ssl_certificate_key /etc/letsencrypt/live/leireye.tudominio.com/privkey.pem;\n\n    # SSL Security\n    ssl_protocols TLSv1.2 TLSv1.3;\n    ssl_ciphers ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES128-GCM-SHA256;\n    ssl_prefer_server_ciphers off;\n    ssl_session_cache shared:SSL:10m;\n\n    # Security headers\n    add_header X-Frame-Options \"SAMEORIGIN\" always;\n    add_header X-Content-Type-Options \"nosniff\" always;\n    add_header X-XSS-Protection \"1; mode=block\" always;\n    add_header Strict-Transport-Security \"max-age=31536000\" always;\n\n    # Gzip\n    gzip on;\n    gzip_types text/plain text/css application/json application/javascript;\n\n    # Frontend\n    location / {\n        proxy_pass http://frontend;\n        proxy_http_version 1.1;\n        proxy_set_header Host $host;\n        proxy_set_header X-Real-IP $remote_addr;\n        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n        proxy_set_header X-Forwarded-Proto $scheme;\n    }\n\n    # API\n    location /api {\n        proxy_pass http://backend;\n        proxy_http_version 1.1;\n        proxy_set_header Host $host;\n        proxy_set_header X-Real-IP $remote_addr;\n        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n        proxy_set_header X-Forwarded-Proto $scheme;\n\n        # Rate limiting\n        limit_req zone=api burst=20 nodelay;\n    }\n\n    # WebSocket\n    location /ws {\n        proxy_pass http://backend;\n        proxy_http_version 1.1;\n        proxy_set_header Upgrade $http_upgrade;\n        proxy_set_header Connection \"upgrade\";\n        proxy_set_header Host $host;\n        proxy_read_timeout 86400;\n    }\n\n    # Health check (sin rate limit)\n    location /health {\n        proxy_pass http://backend;\n    }\n}\n\n# Rate limiting\nlimit_req_zone $binary_remote_addr zone=api:10m rate=10r/s;\n</code></pre>"},{"location":"deployment/production/#activar-sitio","title":"Activar Sitio","text":"<pre><code># Enlazar configuraci\u00f3n\nsudo ln -s /etc/nginx/sites-available/leireye /etc/nginx/sites-enabled/\n\n# Verificar configuraci\u00f3n\nsudo nginx -t\n\n# Recargar\nsudo systemctl reload nginx\n</code></pre>"},{"location":"deployment/production/#certificado-ssl","title":"Certificado SSL","text":"<pre><code># Obtener certificado con Certbot\nsudo certbot --nginx -d leireye.tudominio.com\n\n# Renovaci\u00f3n autom\u00e1tica\nsudo certbot renew --dry-run\n</code></pre>"},{"location":"deployment/production/#firewall","title":"\ud83d\udd25 Firewall","text":"<pre><code># UFW (Ubuntu)\nsudo ufw default deny incoming\nsudo ufw default allow outgoing\n\n# Permitir SSH\nsudo ufw allow ssh\n\n# Permitir HTTP/HTTPS\nsudo ufw allow 80/tcp\nsudo ufw allow 443/tcp\n\n# Habilitar\nsudo ufw enable\n\n# Verificar\nsudo ufw status\n</code></pre>"},{"location":"deployment/production/#monitoreo","title":"\ud83d\udcca Monitoreo","text":""},{"location":"deployment/production/#prometheus-grafana-opcional","title":"Prometheus + Grafana (Opcional)","text":"<pre><code># docker-compose.monitoring.yml\nversion: '3.8'\n\nservices:\n  prometheus:\n    image: prom/prometheus:latest\n    volumes:\n      - ./prometheus.yml:/etc/prometheus/prometheus.yml\n    ports:\n      - \"9090:9090\"\n\n  grafana:\n    image: grafana/grafana:latest\n    ports:\n      - \"3000:3000\"\n    environment:\n      GF_SECURITY_ADMIN_PASSWORD: ${GRAFANA_PASSWORD}\n    volumes:\n      - grafana_data:/var/lib/grafana\n\nvolumes:\n  grafana_data:\n</code></pre>"},{"location":"deployment/production/#logs-centralizados","title":"Logs Centralizados","text":"<pre><code># Enviar logs a archivo\ndocker-compose logs -f &gt; /var/log/leireye/all.log 2&gt;&amp;1 &amp;\n\n# Rotar logs\ncat &gt; /etc/logrotate.d/leireye &lt;&lt;EOF\n/var/log/leireye/*.log {\n    daily\n    missingok\n    rotate 14\n    compress\n    delaycompress\n    notifempty\n    create 0640 root root\n}\nEOF\n</code></pre>"},{"location":"deployment/production/#backups-automaticos","title":"\ud83d\udcbe Backups Autom\u00e1ticos","text":""},{"location":"deployment/production/#script-de-backup","title":"Script de Backup","text":"<pre><code>#!/bin/bash\n# /opt/leireye/backup.sh\n\nset -e\n\nBACKUP_DIR=\"/backups/leireye\"\nDATE=$(date +%Y%m%d_%H%M%S)\nRETAIN_DAYS=30\n\nmkdir -p $BACKUP_DIR\n\n# PostgreSQL\necho \"Backing up PostgreSQL...\"\ndocker exec leireye-postgres pg_dump -U postgres leireye | \\\n    gzip &gt; $BACKUP_DIR/db_$DATE.sql.gz\n\n# Subir a S3 (opcional)\n# aws s3 cp $BACKUP_DIR/db_$DATE.sql.gz s3://tu-bucket/backups/\n\n# Limpiar backups antiguos\nfind $BACKUP_DIR -name \"*.gz\" -mtime +$RETAIN_DAYS -delete\n\necho \"Backup completado: db_$DATE.sql.gz\"\n</code></pre>"},{"location":"deployment/production/#crontab","title":"Crontab","text":"<pre><code># Editar crontab\ncrontab -e\n\n# Agregar backup diario a las 3 AM\n0 3 * * * /opt/leireye/backup.sh &gt;&gt; /var/log/leireye/backup.log 2&gt;&amp;1\n</code></pre>"},{"location":"deployment/production/#cicd","title":"\ud83d\udd04 CI/CD","text":""},{"location":"deployment/production/#github-actions-para-deploy","title":"GitHub Actions para Deploy","text":"<pre><code># .github/workflows/deploy.yml\nname: Deploy\n\non:\n  push:\n    branches: [main]\n\njobs:\n  deploy:\n    runs-on: ubuntu-latest\n    steps:\n      - uses: actions/checkout@v4\n\n      - name: Deploy to server\n        uses: appleboy/ssh-action@master\n        with:\n          host: ${{ secrets.SERVER_HOST }}\n          username: ${{ secrets.SERVER_USER }}\n          key: ${{ secrets.SSH_PRIVATE_KEY }}\n          script: |\n            cd /opt/leireye\n            git pull origin main\n            docker-compose -f docker-compose.prod.yml build\n            docker-compose -f docker-compose.prod.yml up -d\n            docker-compose exec -T backend alembic upgrade head\n</code></pre>"},{"location":"deployment/production/#recuperacion-ante-desastres","title":"\ud83d\udea8 Recuperaci\u00f3n ante Desastres","text":""},{"location":"deployment/production/#restaurar-backup","title":"Restaurar Backup","text":"<pre><code># Parar servicios\ndocker-compose -f docker-compose.prod.yml down\n\n# Restaurar base de datos\ngunzip -c backup_20240120.sql.gz | \\\n    docker exec -i leireye-postgres psql -U postgres leireye\n\n# Iniciar servicios\ndocker-compose -f docker-compose.prod.yml up -d\n</code></pre>"},{"location":"deployment/production/#rollback-de-version","title":"Rollback de Versi\u00f3n","text":"<pre><code># Ver historial\ngit log --oneline -10\n\n# Rollback a commit espec\u00edfico\ngit checkout &lt;commit-hash&gt;\n\n# Rebuild y deploy\ndocker-compose -f docker-compose.prod.yml build\ndocker-compose -f docker-compose.prod.yml up -d\n</code></pre>"},{"location":"deployment/production/#checklist-post-deploy","title":"\ud83d\udccb Checklist Post-Deploy","text":"<ul> <li> Verificar HTTPS funciona</li> <li> Verificar login/registro</li> <li> Verificar captura de paquetes</li> <li> Verificar WebSocket (tiempo real)</li> <li> Verificar explicador IA</li> <li> Verificar backups autom\u00e1ticos</li> <li> Configurar alertas de monitoreo</li> <li> Documentar accesos y credenciales</li> </ul>"},{"location":"getting-started/","title":"Empezar con LeirEye","text":"<p>Bienvenido a la gu\u00eda de inicio r\u00e1pido de LeirEye. Esta secci\u00f3n te guiar\u00e1 a trav\u00e9s de todo lo necesario para tener la herramienta funcionando.</p>"},{"location":"getting-started/#requisitos-previos","title":"\ud83d\udccb Requisitos Previos","text":"<p>Antes de comenzar, aseg\u00farate de tener instalado:</p> Software Versi\u00f3n M\u00ednima Prop\u00f3sito Python 3.10+ Backend API Node.js 18+ Frontend React Docker 24+ Base de datos PostgreSQL Ollama \u00daltima Motor de IA"},{"location":"getting-started/#verificar-instalaciones","title":"Verificar Instalaciones","text":"<pre><code># Verificar versiones\npython3 --version   # Python 3.10+\nnode --version      # v18+\ndocker --version    # Docker 24+\nollama --version    # \u00daltima versi\u00f3n\n</code></pre>"},{"location":"getting-started/#instalacion-rapida","title":"\ud83d\ude80 Instalaci\u00f3n R\u00e1pida","text":"\ud83d\udc33 Docker (Recomendado)\ud83d\udce6 Manual <pre><code># Clonar el repositorio\ngit clone https://github.com/tu-usuario/leireye.git\ncd leireye\n\n# Iniciar servicios de Docker\ndocker-compose up -d\n\n# Configurar backend\ncd backend\npython3 -m venv venv\nsource venv/bin/activate\npip install -r requirements.txt\nalembic upgrade head\n\n# Configurar frontend\ncd ../frontend\nnpm install\n</code></pre> <pre><code># 1. PostgreSQL manual\nbrew install postgresql@15\nbrew services start postgresql@15\ncreatedb leireye\n\n# 2. Redis manual\nbrew install redis\nbrew services start redis\n\n# 3. Configurar backend\ncd backend\npython3 -m venv venv\nsource venv/bin/activate\npip install -r requirements.txt\n\n# Configurar .env\ncp .env.example .env\n# Editar DATABASE_URL si es necesario\n\nalembic upgrade head\n\n# 4. Configurar frontend\ncd ../frontend\nnpm install\n</code></pre>"},{"location":"getting-started/#ejecucion","title":"\ud83c\udfaf Ejecuci\u00f3n","text":"<p>Necesitar\u00e1s 4 terminales:</p>"},{"location":"getting-started/#terminal-1-ollama-motor-ia","title":"Terminal 1: Ollama (Motor IA)","text":"<pre><code>ollama serve\n# Primera vez: descarga llama3.2:3b autom\u00e1ticamente\n</code></pre>"},{"location":"getting-started/#terminal-2-docker","title":"Terminal 2: Docker","text":"<pre><code>docker-compose up\n# PostgreSQL en :5432, Redis en :6379\n</code></pre>"},{"location":"getting-started/#terminal-3-backend","title":"Terminal 3: Backend","text":"<pre><code>cd backend\nsource venv/bin/activate\npython run.py\n# API en http://localhost:8000\n</code></pre>"},{"location":"getting-started/#terminal-4-frontend","title":"Terminal 4: Frontend","text":"<pre><code>cd frontend\nnpm start\n# App en http://localhost:3001\n</code></pre>"},{"location":"getting-started/#primer-usuario","title":"\ud83d\udc64 Primer Usuario","text":"<ol> <li>Abre <code>http://localhost:3001</code></li> <li>Clic en \"Reg\u00edstrate aqu\u00ed\"</li> <li>Completa el formulario:</li> <li>Email: <code>tu-email@ejemplo.com</code></li> <li>Username: <code>tu_usuario</code></li> <li>Password: <code>Password123</code> (m\u00ednimo 8 caracteres, may\u00fascula, min\u00fascula, n\u00famero)</li> </ol> <p>Privilegios de Administrador</p> <p>El primer usuario registrado es ADMIN autom\u00e1ticamente. Puede gestionar usuarios y tiene acceso completo.</p>"},{"location":"getting-started/#verificar-instalacion","title":"\u2705 Verificar Instalaci\u00f3n","text":"<pre><code># Verificar backend\ncurl http://localhost:8000/health\n# Respuesta: {\"status\": \"healthy\"}\n\n# Verificar API docs\nopen http://localhost:8000/docs\n</code></pre>"},{"location":"getting-started/#solucion-de-problemas","title":"\ud83d\udd27 Soluci\u00f3n de Problemas","text":"No se capturan paquetes <p>La captura de paquetes requiere permisos root: <pre><code>cd backend\nsource venv/bin/activate\nsudo python run.py\n</code></pre></p> Error de conexi\u00f3n a PostgreSQL <p>Verifica que Docker est\u00e9 corriendo: <pre><code>docker-compose ps\n# Debe mostrar postgres y redis como \"Up\"\n</code></pre></p> Frontend no conecta al backend <p>Verifica CORS en <code>backend/.env</code>: <pre><code>CORS_ORIGINS=http://localhost:3001\n</code></pre></p>"},{"location":"getting-started/#siguiente-paso","title":"\ud83d\udcda Siguiente Paso","text":"<ul> <li> <p> Gu\u00eda de Uso</p> <p>Aprende a usar todas las funcionalidades de LeirEye</p> <p> Ir a la Gu\u00eda</p> </li> <li> <p> Aprende Conceptos</p> <p>Comprende los fundamentos de redes y seguridad</p> <p> Ver Conceptos</p> </li> </ul>"},{"location":"getting-started/configuration/","title":"Configuraci\u00f3n","text":"<p>Personaliza LeirEye para tus necesidades espec\u00edficas.</p>"},{"location":"getting-started/configuration/#archivo-de-configuracion-env","title":"Archivo de Configuraci\u00f3n (.env)","text":"<p>Crea un archivo <code>.env</code> en la ra\u00edz del proyecto:</p> <pre><code># ===== BASE DE DATOS =====\nPOSTGRES_USER=leireye\nPOSTGRES_PASSWORD=tu_contrase\u00f1a_fuerte\nPOSTGRES_DB=leireye_db\nDATABASE_URL=postgresql://leireye:tu_contrase\u00f1a_fuerte@db:5432/leireye_db\n\n# ===== BACKEND =====\nSECRET_KEY=tu_clave_secreta_muy_larga_min_32_caracteres\nDEBUG=false\nENVIRONMENT=production\nLOG_LEVEL=INFO\n\n# ===== FRONTEND =====\nREACT_APP_API_URL=http://localhost:8000\nREACT_APP_WS_URL=ws://localhost:8000\n\n# ===== IA (OLLAMA) =====\nOLLAMA_ENABLED=true\nOLLAMA_API_URL=http://localhost:11434\nOLLAMA_MODEL=mistral\n\n# ===== DOCKER PORTS =====\nPOSTGRES_PORT=5432\nBACKEND_PORT=8000\nFRONTEND_PORT=3001\n</code></pre>"},{"location":"getting-started/configuration/#variables-por-seccion","title":"Variables por Secci\u00f3n","text":""},{"location":"getting-started/configuration/#base-de-datos","title":"Base de Datos","text":"<pre><code>POSTGRES_USER: nombre de usuario (default: leireye)\nPOSTGRES_PASSWORD: contrase\u00f1a segura (min 12 caracteres)\nPOSTGRES_DB: nombre de base de datos (default: leireye_db)\nDATABASE_URL: URL de conexi\u00f3n completa\n</code></pre>"},{"location":"getting-started/configuration/#backend","title":"Backend","text":"<pre><code>SECRET_KEY: Clave para firmar tokens JWT\n           Genera con: openssl rand -hex 32\n\nDEBUG: true para desarrollo, false para producci\u00f3n\n\nENVIRONMENT: development | staging | production\n\nLOG_LEVEL: DEBUG | INFO | WARNING | ERROR | CRITICAL\n           Para desarrollo: DEBUG\n           Para producci\u00f3n: INFO o WARNING\n\nCORS_ORIGINS: URLs permitidas para CORS\n             Ej: http://localhost:3001,https://tu-dominio.com\n</code></pre>"},{"location":"getting-started/configuration/#frontend","title":"Frontend","text":"<pre><code>REACT_APP_API_URL: URL del backend API\n                  Desarrollo: http://localhost:8000\n                  Producci\u00f3n: https://api.tu-dominio.com\n\nREACT_APP_WS_URL: URL para WebSocket\n                 Desarrollo: ws://localhost:8000\n                 Producci\u00f3n: wss://api.tu-dominio.com\n</code></pre>"},{"location":"getting-started/configuration/#ia-ollama","title":"IA (Ollama)","text":"<pre><code>OLLAMA_ENABLED: true | false\n               true para activar explicaciones con IA\n\nOLLAMA_API_URL: Direcci\u00f3n del servidor Ollama\n               Default: http://localhost:11434\n\nOLLAMA_MODEL: Modelo a usar\n             Opciones: mistral, neural-chat, orca-mini\n             Default: mistral (r\u00e1pido, buena calidad)\n</code></pre>"},{"location":"getting-started/configuration/#configuracion-en-docker-compose","title":"Configuraci\u00f3n en Docker Compose","text":"<p>Edita <code>docker-compose.yml</code>:</p> <pre><code>services:\n  db:\n    image: postgres:16-alpine\n    environment:\n      POSTGRES_USER: ${POSTGRES_USER}\n      POSTGRES_PASSWORD: ${POSTGRES_PASSWORD}\n      POSTGRES_DB: ${POSTGRES_DB}\n    ports:\n      - \"${POSTGRES_PORT}:5432\"\n    volumes:\n      - postgres_data:/var/lib/postgresql/data\n\n  web:\n    build: ./backend\n    command: uvicorn app.main:app --host 0.0.0.0 --port 8000\n    environment:\n      DATABASE_URL: ${DATABASE_URL}\n      SECRET_KEY: ${SECRET_KEY}\n      DEBUG: ${DEBUG}\n    ports:\n      - \"${BACKEND_PORT}:8000\"\n    depends_on:\n      - db\n\nvolumes:\n  postgres_data:\n</code></pre>"},{"location":"getting-started/configuration/#configuracion-del-backend","title":"Configuraci\u00f3n del Backend","text":"<p>Archivo: <code>backend/app/main.py</code></p> <pre><code>from fastapi import FastAPI\nfrom fastapi.cors import CORSMiddleware\n\napp = FastAPI(\n    title=\"LeirEye API\",\n    version=\"2.0.0\",\n    description=\"API de an\u00e1lisis de tr\u00e1fico de red\"\n)\n\n# CORS\norigins = os.getenv(\"CORS_ORIGINS\", \"http://localhost:3001\").split(\",\")\napp.add_middleware(\n    CORSMiddleware,\n    allow_origins=origins,\n    allow_credentials=True,\n    allow_methods=[\"*\"],\n    allow_headers=[\"*\"],\n)\n\n# JWT\nSECRET_KEY = os.getenv(\"SECRET_KEY\")\nALGORITHM = \"HS256\"\nACCESS_TOKEN_EXPIRE_MINUTES = 30\n</code></pre>"},{"location":"getting-started/configuration/#configuracion-del-frontend","title":"Configuraci\u00f3n del Frontend","text":"<p>Archivo: <code>frontend/.env.local</code></p> <pre><code>// src/config.ts\nexport const API_URL = process.env.REACT_APP_API_URL || \"http://localhost:8000\";\nexport const WS_URL = process.env.REACT_APP_WS_URL || \"ws://localhost:8000\";\n\n// Token JWT\nexport const TOKEN_EXPIRY = 30 * 60 * 1000; // 30 minutos\nexport const TOKEN_REFRESH = 25 * 60 * 1000; // Refrescar a los 25 min\n\n// Captura\nexport const PACKET_BUFFER_SIZE = 1000;\nexport const UPDATE_INTERVAL = 500; // ms\nexport const AUTO_CLEAR_AFTER = 5; // minutos\n</code></pre>"},{"location":"getting-started/configuration/#parametros-de-captura-de-paquetes","title":"Par\u00e1metros de Captura de Paquetes","text":"<p>Archivo: <code>backend/app/services/packet_capture.py</code></p> <pre><code># Configuraci\u00f3n de captura\nPACKET_TIMEOUT = 1  # segundos\nSNAPLEN = 65535     # bytes m\u00e1ximos por paquete\nBUFFER_SIZE = 10000 # paquetes en memoria\n\n# Filtros BPF\nFILTER_HTTP = \"tcp port 80 or tcp port 443\"\nFILTER_DNS = \"udp port 53\"\nFILTER_SSH = \"tcp port 22\"\n\n# Protocolos a capturar\nPROTOCOLS = {\n    'tcp': 6,\n    'udp': 17,\n    'icmp': 1,\n}\n</code></pre>"},{"location":"getting-started/configuration/#configuracion-de-base-de-datos","title":"Configuraci\u00f3n de Base de Datos","text":"<p>Archivo: <code>backend/sqlalchemy.ini</code></p> <pre><code>[sqlalchemy]\nsqlalchemy.url = {DATABASE_URL}\nsqlalchemy.echo = false\nsqlalchemy.pool_size = 20\nsqlalchemy.pool_recycle = 3600\nsqlalchemy.pool_pre_ping = true\n</code></pre>"},{"location":"getting-started/configuration/#niveles-de-log","title":"Niveles de Log","text":""},{"location":"getting-started/configuration/#desarrollo","title":"Desarrollo","text":"<pre><code>LOG_LEVEL=DEBUG\nDEBUG=true\n</code></pre> <p>Salida detallada de todo.</p>"},{"location":"getting-started/configuration/#staging","title":"Staging","text":"<pre><code>LOG_LEVEL=INFO\nDEBUG=false\n</code></pre> <p>Informaci\u00f3n de eventos principales.</p>"},{"location":"getting-started/configuration/#produccion","title":"Producci\u00f3n","text":"<pre><code>LOG_LEVEL=WARNING\nDEBUG=false\n</code></pre> <p>Solo errores y advertencias.</p>"},{"location":"getting-started/configuration/#seguridad-en-produccion","title":"Seguridad en Producci\u00f3n","text":""},{"location":"getting-started/configuration/#1-generar-secret_key","title":"1. Generar SECRET_KEY","text":"<pre><code>python -c \"import secrets; print(secrets.token_hex(32))\"\n</code></pre>"},{"location":"getting-started/configuration/#2-usuarios-y-permisos","title":"2. Usuarios y Permisos","text":"<pre><code># En Linux/macOS\nchmod 600 .env\n</code></pre>"},{"location":"getting-started/configuration/#3-https","title":"3. HTTPS","text":"<pre><code># docker-compose.yml\nnginx:\n  image: nginx:latest\n  ports:\n    - \"443:443\"\n    - \"80:80\"\n  volumes:\n    - ./nginx/nginx.conf:/etc/nginx/nginx.conf\n    - ./certs:/etc/nginx/certs\n</code></pre>"},{"location":"getting-started/configuration/#4-database","title":"4. Database","text":"<pre><code># Cambiar contrase\u00f1a por defecto\nALTER USER leireye WITH PASSWORD 'contrase\u00f1a_fuerte_nueva';\n</code></pre>"},{"location":"getting-started/configuration/#monitoreo","title":"Monitoreo","text":""},{"location":"getting-started/configuration/#prometheus","title":"Prometheus","text":"<pre><code># docker-compose.yml\nprometheus:\n  image: prom/prometheus\n  ports:\n    - \"9090:9090\"\n  volumes:\n    - ./prometheus.yml:/etc/prometheus/prometheus.yml\n</code></pre>"},{"location":"getting-started/configuration/#logs","title":"Logs","text":"<pre><code># Ver logs en tiempo real\ndocker-compose logs -f backend\n\n# Logs de la base de datos\ndocker-compose logs -f db\n</code></pre>"},{"location":"getting-started/configuration/#rendimiento","title":"Rendimiento","text":""},{"location":"getting-started/configuration/#aumentar-limites-del-sistema","title":"Aumentar l\u00edmites del sistema","text":"<pre><code># macOS\nulimit -n 65536\n\n# Linux\necho \"* soft nofile 65536\" | sudo tee -a /etc/security/limits.conf\necho \"* hard nofile 65536\" | sudo tee -a /etc/security/limits.conf\n</code></pre>"},{"location":"getting-started/configuration/#tuning-de-postgresql","title":"Tuning de PostgreSQL","text":"<pre><code>-- Conexiones\nmax_connections = 200\n\n-- Memory\nshared_buffers = 256MB\neffective_cache_size = 1GB\nwork_mem = 16MB\n\n-- Performance\nrandom_page_cost = 1.1\neffective_io_concurrency = 200\n</code></pre>"},{"location":"getting-started/configuration/#troubleshooting-de-configuracion","title":"Troubleshooting de Configuraci\u00f3n","text":"Problema Soluci\u00f3n \"SECRET_KEY too short\" Debe tener m\u00ednimo 32 caracteres \"Connection refused\" en DB Verifica DATABASE_URL, puerto 5432 \"CORS error\" Agrega tu URL a CORS_ORIGINS \"Ollama not found\" Verifica OLLAMA_API_URL y que Ollama est\u00e9 corriendo \"WebSocket timeout\" Aumenta timeout en cliente, verifica firewall <p>Para ayuda adicional: Soluci\u00f3n de Problemas</p>"},{"location":"getting-started/installation/","title":"Instalaci\u00f3n Completa","text":"<p>Gu\u00eda detallada de instalaci\u00f3n de LeirEye en diferentes plataformas.</p>"},{"location":"getting-started/installation/#requisitos-del-sistema","title":"Requisitos del Sistema","text":""},{"location":"getting-started/installation/#software-requerido","title":"Software Requerido","text":"Requisito Versi\u00f3n M\u00ednima Notas Python 3.11 Descargar Node.js 18.0 Descargar Docker 24.0 Descargar Docker Compose 2.20 Incluido en Docker Desktop PostgreSQL 16 Via Docker (recomendado)"},{"location":"getting-started/installation/#hardware-recomendado","title":"Hardware Recomendado","text":"<ul> <li>CPU: 2+ cores</li> <li>RAM: 4GB m\u00ednimo (8GB recomendado)</li> <li>Disco: 2GB espacio libre</li> <li>Red: Conexi\u00f3n estable a internet</li> </ul>"},{"location":"getting-started/installation/#instalacion-por-sistema-operativo","title":"Instalaci\u00f3n por Sistema Operativo","text":""},{"location":"getting-started/installation/#macos-intel-y-apple-silicon","title":"macOS (Intel y Apple Silicon)","text":""},{"location":"getting-started/installation/#1-instalar-homebrew-si-no-lo-tienes","title":"1. Instalar Homebrew (si no lo tienes)","text":"<pre><code>/bin/bash -c \"$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)\"\n</code></pre>"},{"location":"getting-started/installation/#2-instalar-dependencias","title":"2. Instalar dependencias","text":"<pre><code>brew install python@3.11 node@18 docker\n</code></pre>"},{"location":"getting-started/installation/#3-instalar-docker-desktop","title":"3. Instalar Docker Desktop","text":"<p>Descarga desde docker.com e instala manualmente.</p> <p>Luego inicia Docker Desktop desde Applications.</p>"},{"location":"getting-started/installation/#4-clonar-leireye","title":"4. Clonar LeirEye","text":"<pre><code>git clone https://github.com/yourusername/leireye.git\ncd leireye\n</code></pre>"},{"location":"getting-started/installation/#5-instalar-dependencias-python","title":"5. Instalar dependencias Python","text":"<pre><code>python3.11 -m venv venv\nsource venv/bin/activate\npip install -r backend/requirements.txt\n</code></pre>"},{"location":"getting-started/installation/#6-instalar-dependencias-node","title":"6. Instalar dependencias Node","text":"<pre><code>cd frontend\nnpm install\ncd ..\n</code></pre>"},{"location":"getting-started/installation/#7-iniciar-servicios","title":"7. Iniciar servicios","text":"<pre><code># Terminal 1: Servicios\ndocker-compose up -d\n\n# Terminal 2: Backend\nsource venv/bin/activate\ncd backend &amp;&amp; python run.py\n\n# Terminal 3: Frontend\ncd frontend &amp;&amp; npm start\n</code></pre>"},{"location":"getting-started/installation/#linux-ubuntudebian","title":"Linux (Ubuntu/Debian)","text":""},{"location":"getting-started/installation/#1-actualizar-sistema","title":"1. Actualizar sistema","text":"<pre><code>sudo apt update\nsudo apt upgrade -y\n</code></pre>"},{"location":"getting-started/installation/#2-instalar-dependencias-del-sistema","title":"2. Instalar dependencias del sistema","text":"<pre><code>sudo apt install -y \\\n    python3.11 \\\n    python3.11-venv \\\n    python3-pip \\\n    nodejs \\\n    npm \\\n    git \\\n    curl\n</code></pre>"},{"location":"getting-started/installation/#3-instalar-docker","title":"3. Instalar Docker","text":"<pre><code>curl -fsSL https://get.docker.com -o get-docker.sh\nsudo sh get-docker.sh\nsudo usermod -aG docker $USER\nnewgrp docker\n</code></pre> <p>Verifica la instalaci\u00f3n: <pre><code>docker --version\ndocker-compose --version\n</code></pre></p>"},{"location":"getting-started/installation/#4-clonar-leireye_1","title":"4. Clonar LeirEye","text":"<pre><code>git clone https://github.com/yourusername/leireye.git\ncd leireye\n</code></pre>"},{"location":"getting-started/installation/#5-crear-entorno-virtual","title":"5. Crear entorno virtual","text":"<pre><code>python3.11 -m venv venv\nsource venv/bin/activate\npip install --upgrade pip\npip install -r backend/requirements.txt\n</code></pre>"},{"location":"getting-started/installation/#6-instalar-dependencias-node_1","title":"6. Instalar dependencias Node","text":"<pre><code>cd frontend\nnpm install\ncd ..\n</code></pre>"},{"location":"getting-started/installation/#7-iniciar-servicios_1","title":"7. Iniciar servicios","text":"<pre><code># Terminal 1\ndocker-compose up -d\n\n# Terminal 2\nsource venv/bin/activate\ncd backend &amp;&amp; python run.py\n\n# Terminal 3\ncd frontend &amp;&amp; npm start\n</code></pre>"},{"location":"getting-started/installation/#windows-wsl2-recomendado","title":"Windows (WSL2 Recomendado)","text":""},{"location":"getting-started/installation/#opcion-a-windows-subsystem-for-linux-2-wsl2-recomendado","title":"Opci\u00f3n A: Windows Subsystem for Linux 2 (WSL2) - RECOMENDADO","text":""},{"location":"getting-started/installation/#1-habilitar-wsl2","title":"1. Habilitar WSL2","text":"<p>Abre PowerShell como administrador y ejecuta:</p> <pre><code>wsl --install\n</code></pre> <p>Reinicia tu computadora.</p>"},{"location":"getting-started/installation/#2-instalar-ubuntu","title":"2. Instalar Ubuntu","text":"<p>Abre Microsoft Store, busca Ubuntu 22.04 LTS e instala.</p>"},{"location":"getting-started/installation/#3-configurar-ubuntu","title":"3. Configurar Ubuntu","text":"<p>Abre Ubuntu desde el men\u00fa Start: <pre><code># Primera vez: configura usuario y contrase\u00f1a\n</code></pre></p>"},{"location":"getting-started/installation/#4-instalar-dependencias","title":"4. Instalar dependencias","text":"<pre><code>sudo apt update\nsudo apt install -y \\\n    python3.11 \\\n    python3.11-venv \\\n    python3-pip \\\n    nodejs \\\n    npm \\\n    git \\\n    curl\n</code></pre>"},{"location":"getting-started/installation/#5-instalar-docker-desktop","title":"5. Instalar Docker Desktop","text":"<p>Descarga desde docker.com</p> <p>En Docker Desktop \u2192 Settings \u2192 General \u2192 marcar \"Use WSL 2 based engine\"</p>"},{"location":"getting-started/installation/#6-instalar-leireye","title":"6. Instalar LeirEye","text":"<pre><code>git clone https://github.com/yourusername/leireye.git\ncd leireye\n\n# Backend\npython3.11 -m venv venv\nsource venv/bin/activate\npip install -r backend/requirements.txt\n\n# Frontend\ncd frontend\nnpm install\ncd ..\n</code></pre>"},{"location":"getting-started/installation/#7-iniciar","title":"7. Iniciar","text":"<pre><code># Terminal 1\ndocker-compose up -d\n\n# Terminal 2\nsource venv/bin/activate\ncd backend &amp;&amp; python run.py\n\n# Terminal 3\ncd frontend &amp;&amp; npm start\n</code></pre>"},{"location":"getting-started/installation/#opcion-b-windows-nativo-sin-wsl2","title":"Opci\u00f3n B: Windows Nativo (Sin WSL2)","text":"<p>Windows nativo es m\u00e1s complicado. Si lo prefieres:</p> <ol> <li>Instala Python 3.11+ desde python.org</li> <li>Instala Node.js 18+ desde nodejs.org</li> <li>Instala Docker Desktop desde docker.com</li> <li>Abre PowerShell como administrador y sigue los pasos de instalaci\u00f3n</li> </ol> <p>\u26a0\ufe0f Nota: La captura de paquetes con Scapy en Windows requiere permisos especiales.</p>"},{"location":"getting-started/installation/#verificar-instalacion","title":"Verificar Instalaci\u00f3n","text":""},{"location":"getting-started/installation/#backend","title":"Backend","text":"<pre><code>curl http://localhost:8000/health\n</code></pre> <p>Debe responder con: <code>{\"status\":\"ok\"}</code></p>"},{"location":"getting-started/installation/#base-de-datos","title":"Base de Datos","text":"<pre><code>docker-compose ps\n</code></pre> <p>Debe mostrar <code>leireye_db_1</code> como <code>Up</code></p>"},{"location":"getting-started/installation/#frontend","title":"Frontend","text":"<p>Abre http://localhost:3001 en tu navegador.</p> <p>Debe cargar la p\u00e1gina de login/registro.</p>"},{"location":"getting-started/installation/#instalacion-avanzada","title":"Instalaci\u00f3n Avanzada","text":""},{"location":"getting-started/installation/#variables-de-entorno","title":"Variables de Entorno","text":"<p>Crea un archivo <code>.env</code> en la ra\u00edz:</p> <pre><code># Backend\nPOSTGRES_USER=leireye\nPOSTGRES_PASSWORD=securepassword123\nPOSTGRES_DB=leireye_db\nDATABASE_URL=postgresql://leireye:securepassword123@db:5432/leireye_db\nSECRET_KEY=your-secret-key-here-min-32-chars\nDEBUG=false\n</code></pre>"},{"location":"getting-started/installation/#ollama-ia-local","title":"Ollama (IA Local)","text":"<p>Si quieres usar explicaciones de IA:</p> <ol> <li>Descarga desde ollama.ai</li> <li>Instala y ejecuta: <code>ollama serve</code></li> <li>En terminal nueva: <code>ollama pull mistral</code></li> <li>Modifica <code>backend/.env</code>: <code>OLLAMA_MODEL=mistral</code></li> </ol>"},{"location":"getting-started/installation/#postgresql-manual-sin-docker","title":"PostgreSQL Manual (Sin Docker)","text":"<p>Si prefieres una base de datos local:</p> <pre><code># macOS\nbrew install postgresql@16\nbrew services start postgresql@16\n\n# Linux\nsudo apt install postgresql-16\nsudo systemctl start postgresql\n\n# Crear base de datos\npsql -U postgres\nCREATE DATABASE leireye_db;\nCREATE USER leireye WITH PASSWORD 'password';\nGRANT ALL PRIVILEGES ON DATABASE leireye_db TO leireye;\n\\q\n</code></pre> <p>Luego modifica <code>DATABASE_URL</code> en <code>.env</code></p>"},{"location":"getting-started/installation/#solucionar-problemas-comunes","title":"Solucionar Problemas Comunes","text":"Error Soluci\u00f3n <code>python: command not found</code> Instala Python 3.11 desde python.org <code>node: command not found</code> Instala Node.js desde nodejs.org <code>docker: command not found</code> Instala Docker Desktop <code>Error: Port 5432 in use</code> <code>docker-compose down &amp;&amp; docker-compose up -d</code> <code>npm ERR! code EACCES</code> <code>sudo chown -R $(whoami) ~/.npm</code> <code>CORS error en frontend</code> Verifica que backend corre en 8000 <code>WebSocket connection failed</code> Verifica puerto 8000 abierto <p>\u00bfNecesitas m\u00e1s ayuda? Consulta la Soluci\u00f3n de Problemas.</p>"},{"location":"getting-started/quickstart/","title":"Inicio R\u00e1pido","text":"<p>\u00a1Instala y ejecuta LeirEye en menos de 5 minutos!</p>"},{"location":"getting-started/quickstart/#paso-1-clonar-el-repositorio","title":"Paso 1: Clonar el Repositorio","text":"<pre><code>git clone https://github.com/yourusername/leireye.git\ncd leireye\n</code></pre>"},{"location":"getting-started/quickstart/#paso-2-iniciar-los-servicios-con-docker","title":"Paso 2: Iniciar los Servicios con Docker","text":"<pre><code>docker-compose up -d\n</code></pre> <p>Esto inicia: - \u2705 PostgreSQL 16 (base de datos) - \u2705 Nginx (proxy inverso)</p> <p>Espera a que aparezca: <code>Successfully started 2 containers</code></p>"},{"location":"getting-started/quickstart/#paso-3-instalar-dependencias-del-backend","title":"Paso 3: Instalar Dependencias del Backend","text":"<pre><code>pip install -r backend/requirements.txt\n</code></pre> <p>O en un entorno virtual:</p> <pre><code>python -m venv venv\nsource venv/bin/activate  # En Windows: venv\\Scripts\\activate\npip install -r backend/requirements.txt\n</code></pre>"},{"location":"getting-started/quickstart/#paso-4-instalar-dependencias-del-frontend","title":"Paso 4: Instalar Dependencias del Frontend","text":"<pre><code>cd frontend\nnpm install\ncd ..\n</code></pre>"},{"location":"getting-started/quickstart/#paso-5-iniciar-el-backend","title":"Paso 5: Iniciar el Backend","text":"<p>Abre una terminal nueva:</p> <pre><code>cd backend\npython run.py\n</code></pre> <p>Ver\u00e1s: <pre><code>INFO:     Uvicorn running on http://0.0.0.0:8000\n</code></pre></p>"},{"location":"getting-started/quickstart/#paso-6-iniciar-el-frontend","title":"Paso 6: Iniciar el Frontend","text":"<p>Abre otra terminal nueva:</p> <pre><code>cd frontend\nnpm start\n</code></pre> <p>El navegador se abrir\u00e1 autom\u00e1ticamente en <code>http://localhost:3001</code></p> <p>Si no se abre, ve a http://localhost:3001 manualmente.</p>"},{"location":"getting-started/quickstart/#paso-7-registrarse","title":"Paso 7: Registrarse","text":"<ol> <li>Haz clic en \"Registrarse\"</li> <li>Completa el formulario:</li> <li>Email: tu@email.com</li> <li>Usuario: tunombre</li> <li>Contrase\u00f1a: fuerte123!</li> <li> <p>Nombre completo: Tu Nombre</p> </li> <li> <p>Haz clic en \"Registrarse\"</p> </li> </ol> <p>Nota: El primer usuario se convierte autom\u00e1ticamente en ADMIN.</p>"},{"location":"getting-started/quickstart/#paso-8-comienza-a-capturar","title":"Paso 8: \u00a1Comienza a Capturar!","text":"<ol> <li>Inicia sesi\u00f3n con tus credenciales</li> <li>Ve a \"Captura\" en el men\u00fa</li> <li>Haz clic en \"Iniciar Captura\"</li> <li>\u00a1Ver\u00e1s paquetes en tiempo real!</li> </ol>"},{"location":"getting-started/quickstart/#listo","title":"\ud83c\udf89 \u00a1Listo!","text":"<p>\u00a1Ya tienes LeirEye funcionando! Ahora puedes:</p> <ul> <li>\ud83d\udce1 Capturar paquetes</li> <li>\ud83e\udd16 Usar la IA explicativa</li> <li>\ud83d\udcca Ver estad\u00edsticas</li> <li>\ud83d\uddfa\ufe0f Explorar el mapa de red</li> </ul>"},{"location":"getting-started/quickstart/#algo-salio-mal","title":"\u274c Algo sali\u00f3 mal?","text":"<p>Ver las Soluciones Comunes</p> Problema Soluci\u00f3n Puerto 5432 en uso <code>docker-compose down &amp;&amp; docker-compose up -d</code> Node no encontrado Instala Node.js desde nodejs.org Python no encontrado Instala Python 3.11+ desde python.org WebSocket error Verifica que el backend est\u00e9 corriendo en el puerto 8000"},{"location":"guide/","title":"Gu\u00eda de Uso","text":"<p>LeirEye ofrece m\u00faltiples herramientas para el an\u00e1lisis de redes. Esta secci\u00f3n explica c\u00f3mo usar cada una.</p>"},{"location":"guide/#panel-principal","title":"\ud83c\udf9b\ufe0f Panel Principal","text":"<ul> <li> <p> Captura de Paquetes</p> <p>Captura tr\u00e1fico de red en tiempo real con an\u00e1lisis detallado</p> <p> Ver gu\u00eda</p> </li> <li> <p> Estad\u00edsticas</p> <p>Visualiza estad\u00edsticas y gr\u00e1ficos del tr\u00e1fico de red</p> <p> Ver gu\u00eda</p> </li> <li> <p> Mapa de Red</p> <p>Visualizaci\u00f3n interactiva de la topolog\u00eda de red</p> <p> Ver gu\u00eda</p> </li> <li> <p> Explicador IA</p> <p>An\u00e1lisis inteligente de paquetes con Ollama</p> <p> Ver gu\u00eda</p> </li> <li> <p> Sistema</p> <p>Informaci\u00f3n del sistema y configuraci\u00f3n</p> <p> Ver gu\u00eda</p> </li> </ul>"},{"location":"guide/#navegacion","title":"\ud83e\udded Navegaci\u00f3n","text":"<p>La interfaz de LeirEye usa una barra lateral profesional con:</p> <ul> <li>Logo y nombre del proyecto arriba</li> <li>Secciones principales con iconos descriptivos</li> <li>Tarjeta de usuario abajo mostrando rol y nombre</li> </ul>"},{"location":"guide/#roles-de-usuario","title":"Roles de Usuario","text":"Rol Permisos ADMIN Acceso total, gesti\u00f3n de usuarios ANALYST Captura y an\u00e1lisis, sin gesti\u00f3n VIEWER Solo lectura de datos"},{"location":"guide/#flujo-de-trabajo-tipico","title":"\ud83d\udd04 Flujo de Trabajo T\u00edpico","text":"<pre><code>flowchart LR\n    A[Iniciar Sesi\u00f3n] --&gt; B[Capturar Tr\u00e1fico]\n    B --&gt; C{Analizar}\n    C --&gt; D[Ver Estad\u00edsticas]\n    C --&gt; E[Mapa de Red]\n    C --&gt; F[IA Explica Paquete]\n    D --&gt; G[Identificar Anomal\u00edas]\n    E --&gt; G\n    F --&gt; G</code></pre>"},{"location":"guide/#tips-rapidos","title":"\ud83d\udca1 Tips R\u00e1pidos","text":"<p>Captura Eficiente</p> <p>Usa filtros de interfaz para capturar solo el tr\u00e1fico relevante. Por ejemplo, <code>en0</code> para WiFi en macOS.</p> <p>An\u00e1lisis IA</p> <p>Selecciona paquetes sospechosos y usa el explicador IA para entender qu\u00e9 hacen.</p> <p>Permisos Root</p> <p>La captura requiere permisos elevados: <pre><code>sudo python run.py\n</code></pre></p>"},{"location":"guide/ai-explainer/","title":"Explicador con IA","text":"<p>LeirEye integra Ollama para proporcionar explicaciones en lenguaje natural de los paquetes de red capturados.</p>"},{"location":"guide/ai-explainer/#que-es-el-explicador-ia","title":"\ud83e\udd16 \u00bfQu\u00e9 es el Explicador IA?","text":"<p>Es una funcionalidad que:</p> <ol> <li>Analiza un paquete seleccionado</li> <li>Interpreta sus cabeceras y datos</li> <li>Explica en espa\u00f1ol qu\u00e9 est\u00e1 haciendo ese paquete</li> <li>Identifica posibles riesgos de seguridad</li> </ol>"},{"location":"guide/ai-explainer/#como-usar","title":"\ud83d\ude80 C\u00f3mo Usar","text":""},{"location":"guide/ai-explainer/#paso-1-capturar-paquetes","title":"Paso 1: Capturar Paquetes","text":"<p>Primero, inicia una captura para tener paquetes disponibles.</p>"},{"location":"guide/ai-explainer/#paso-2-seleccionar-un-paquete","title":"Paso 2: Seleccionar un Paquete","text":"<p>En la tabla de paquetes, clic en el que quieras analizar.</p>"},{"location":"guide/ai-explainer/#paso-3-solicitar-explicacion","title":"Paso 3: Solicitar Explicaci\u00f3n","text":"<ol> <li>Clic en el bot\u00f3n \"\ud83e\udd16 Explicar con IA\"</li> <li>Espera unos segundos mientras Ollama procesa</li> <li>Lee la explicaci\u00f3n en el panel lateral</li> </ol>"},{"location":"guide/ai-explainer/#ejemplo-de-explicacion","title":"\ud83d\udcdd Ejemplo de Explicaci\u00f3n","text":"<p>Paquete seleccionado: <pre><code>TCP 192.168.1.100:54321 \u2192 142.250.185.14:443 [SYN]\n</code></pre></p> <p>Explicaci\u00f3n de la IA:</p> <p>\ud83d\udce6 Este paquete es una solicitud de conexi\u00f3n TCP.</p> <p>\u00bfQu\u00e9 est\u00e1 pasando? Tu computadora (192.168.1.100) est\u00e1 intentando establecer una conexi\u00f3n  segura HTTPS con un servidor de Google (142.250.185.14) en el puerto 443.</p> <p>El flag SYN indica: Es el primer paso del \"handshake de tres v\u00edas\" de TCP. Tu computadora  est\u00e1 diciendo \"\u00a1Hola! \u00bfPodemos hablar?\"</p> <p>\u00bfEs normal? \u2705 S\u00ed, es tr\u00e1fico normal. El puerto 443 se usa para HTTPS (navegaci\u00f3n  segura). Probablemente abriste una p\u00e1gina de Google o alg\u00fan servicio  que usa sus servidores.</p> <p>Nivel de riesgo: \ud83d\udfe2 Bajo</p>"},{"location":"guide/ai-explainer/#tipos-de-analisis","title":"\ud83c\udfaf Tipos de An\u00e1lisis","text":""},{"location":"guide/ai-explainer/#explicacion-basica","title":"Explicaci\u00f3n B\u00e1sica","text":"<p>Para usuarios principiantes: - Lenguaje simple - Analog\u00edas cotidianas - Sin tecnicismos</p>"},{"location":"guide/ai-explainer/#analisis-tecnico","title":"An\u00e1lisis T\u00e9cnico","text":"<p>Para usuarios avanzados: - Detalle de cabeceras - Valores hexadecimales - Referencias a RFCs</p>"},{"location":"guide/ai-explainer/#analisis-de-seguridad","title":"An\u00e1lisis de Seguridad","text":"<p>Enfocado en amenazas: - \u00bfEs tr\u00e1fico normal? - \u00bfHay indicadores de compromiso? - \u00bfQu\u00e9 investigar m\u00e1s?</p>"},{"location":"guide/ai-explainer/#deteccion-de-amenazas","title":"\ud83d\udee1\ufe0f Detecci\u00f3n de Amenazas","text":"<p>La IA puede identificar patrones sospechosos:</p> Patr\u00f3n Posible Amenaza Ejemplo Muchos SYN sin respuesta Escaneo de puertos nmap scan Tr\u00e1fico a puertos inusuales Backdoor/C2 Puerto 4444, 8888 DNS a dominios extra\u00f1os Malware xyz123.tk Grandes transferencias salientes Exfiltraci\u00f3n Subida de 1GB+ <p>Ejemplo de alerta:</p> <p>\u26a0\ufe0f Actividad Sospechosa Detectada</p> <p>Este paquete muestra tr\u00e1fico hacia el puerto 4444, que es com\u00fanmente  usado por herramientas de hacking como Metasploit.</p> <p>Recomendaci\u00f3n: Investiga el proceso que origin\u00f3 esta conexi\u00f3n. <pre><code>lsof -i :4444\n</code></pre></p>"},{"location":"guide/ai-explainer/#configuracion-de-ollama","title":"\u2699\ufe0f Configuraci\u00f3n de Ollama","text":""},{"location":"guide/ai-explainer/#modelo-recomendado","title":"Modelo Recomendado","text":"<p>LeirEye usa llama3.2:3b por defecto:</p> <pre><code># Descargar modelo\nollama pull llama3.2:3b\n\n# Verificar modelos instalados\nollama list\n</code></pre>"},{"location":"guide/ai-explainer/#modelos-alternativos","title":"Modelos Alternativos","text":"Modelo RAM Requerida Velocidad Calidad <code>llama3.2:1b</code> 2 GB \u26a1 R\u00e1pido B\u00e1sica <code>llama3.2:3b</code> 4 GB \u2696\ufe0f Balanceado Buena <code>llama3.1:8b</code> 8 GB \ud83d\udc22 Lento Excelente <code>mistral:7b</code> 8 GB \u2696\ufe0f Balanceado Muy buena"},{"location":"guide/ai-explainer/#cambiar-modelo","title":"Cambiar Modelo","text":"<p>En la configuraci\u00f3n del backend:</p> <pre><code># backend/app/core/config.py\nOLLAMA_MODEL = \"llama3.2:3b\"  # Cambia aqu\u00ed\n</code></pre>"},{"location":"guide/ai-explainer/#troubleshooting","title":"\ud83d\udd27 Troubleshooting","text":"Error: Ollama no responde <p>Verifica que Ollama est\u00e9 corriendo: <pre><code># Verificar proceso\npgrep -x ollama\n\n# Si no est\u00e1 corriendo\nollama serve\n</code></pre></p> Respuestas muy lentas <ol> <li>Prueba un modelo m\u00e1s peque\u00f1o</li> <li>Cierra otras aplicaciones que usen GPU</li> <li>Considera usar CPU si no tienes GPU dedicada</li> </ol> Respuestas incorrectas <p>La IA puede equivocarse. Siempre: - Verifica la informaci\u00f3n - Usa m\u00faltiples fuentes - No tomes decisiones cr\u00edticas solo con la IA</p>"},{"location":"guide/ai-explainer/#tips","title":"\ud83d\udca1 Tips","text":"<p>Paquetes Interesantes</p> <p>No analices todos los paquetes. Enf\u00f3cate en:</p> <ul> <li>Primeros paquetes de conexi\u00f3n (SYN)</li> <li>Paquetes con datos (payload)</li> <li>Tr\u00e1fico a puertos inusuales</li> </ul> <p>Preguntas de Seguimiento</p> <p>Puedes hacer preguntas adicionales sobre el paquete:</p> <ul> <li>\"\u00bfQu\u00e9 proceso podr\u00eda generar esto?\"</li> <li>\"\u00bfC\u00f3mo puedo bloquear este tr\u00e1fico?\"</li> <li>\"\u00bfQu\u00e9 m\u00e1s deber\u00eda investigar?\"</li> </ul> <p>Modo Educativo</p> <p>Usa el explicador para aprender:</p> <ul> <li>Captura tu propio tr\u00e1fico</li> <li>Pide explicaciones detalladas</li> <li>Compara con la documentaci\u00f3n de protocolos</li> </ul>"},{"location":"guide/network-map/","title":"Mapa de Red","text":"<p>El mapa de red proporciona una visualizaci\u00f3n interactiva de la topolog\u00eda de tu red bas\u00e1ndose en el tr\u00e1fico capturado.</p>"},{"location":"guide/network-map/#vista-general","title":"\ud83d\uddfa\ufe0f Vista General","text":"<p>El mapa muestra:</p> <ul> <li>Nodos: Dispositivos detectados (IPs)</li> <li>Conexiones: Comunicaciones entre dispositivos</li> <li>Flujos: Direcci\u00f3n y volumen del tr\u00e1fico</li> </ul>"},{"location":"guide/network-map/#elementos-visuales","title":"\ud83c\udfa8 Elementos Visuales","text":""},{"location":"guide/network-map/#nodos-dispositivos","title":"Nodos (Dispositivos)","text":"<pre><code>flowchart TB\n    subgraph Leyenda\n        A[\ud83d\udda5\ufe0f Tu PC]\n        B[\ud83c\udf10 Router/Gateway]\n        C[\u2601\ufe0f Servidor Externo]\n        D[\ud83d\udcf1 Dispositivo Local]\n    end</code></pre> Icono Tipo Descripci\u00f3n \ud83d\udda5\ufe0f Local Tu m\u00e1quina (origen de captura) \ud83c\udf10 Gateway Router, punto de acceso \u2601\ufe0f Externo Servidores de internet \ud83d\udcf1 LAN Otros dispositivos en tu red \u2753 Desconocido IP sin identificar"},{"location":"guide/network-map/#conexiones-lineas","title":"Conexiones (L\u00edneas)","text":"<ul> <li>Grosor: Volumen de tr\u00e1fico (m\u00e1s grueso = m\u00e1s datos)</li> <li>Color: Tipo de protocolo</li> <li>\ud83d\udfe2 TCP</li> <li>\ud83d\udd35 UDP</li> <li>\ud83d\udfe1 Mixto</li> <li>Flechas: Direcci\u00f3n del flujo</li> </ul>"},{"location":"guide/network-map/#interaccion","title":"\ud83d\udd0d Interacci\u00f3n","text":""},{"location":"guide/network-map/#zoom-y-pan","title":"Zoom y Pan","text":"<ul> <li>Scroll: Zoom in/out</li> <li>Arrastrar fondo: Mover vista</li> <li>Doble clic: Centrar en nodo</li> </ul>"},{"location":"guide/network-map/#seleccionar-nodo","title":"Seleccionar Nodo","text":"<p>Clic en un nodo para ver:</p> <ol> <li>Informaci\u00f3n del dispositivo</li> <li>Direcci\u00f3n IP</li> <li>Hostname (si se resuelve)</li> <li> <p>Tipo detectado</p> </li> <li> <p>Estad\u00edsticas de conexi\u00f3n</p> </li> <li>Paquetes enviados/recibidos</li> <li>Bytes transferidos</li> <li> <p>Protocolos usados</p> </li> <li> <p>Conexiones activas</p> </li> <li>Lista de IPs con las que comunica</li> <li>Puerto m\u00e1s usado</li> </ol>"},{"location":"guide/network-map/#seleccionar-conexion","title":"Seleccionar Conexi\u00f3n","text":"<p>Clic en una l\u00ednea para ver:</p> <ul> <li>IPs involucradas</li> <li>Protocolo principal</li> <li>Volumen de datos</li> <li>Tiempo de actividad</li> </ul>"},{"location":"guide/network-map/#casos-de-uso","title":"\ud83d\udcca Casos de Uso","text":""},{"location":"guide/network-map/#descubrir-topologia-de-red","title":"Descubrir Topolog\u00eda de Red","text":"<ol> <li>Inicia una captura de 5-10 minutos</li> <li>Navega normalmente (genera tr\u00e1fico)</li> <li>Abre el mapa de red</li> <li>Visualiza c\u00f3mo fluyen tus datos</li> </ol> <pre><code>flowchart LR\n    PC[\ud83d\udda5\ufe0f Tu PC] --&gt; GW[\ud83c\udf10 Router]\n    GW --&gt; DNS[\u2601\ufe0f DNS 8.8.8.8]\n    GW --&gt; Google[\u2601\ufe0f Google]\n    GW --&gt; GitHub[\u2601\ufe0f GitHub]\n    Phone[\ud83d\udcf1 Tel\u00e9fono] --&gt; GW</code></pre>"},{"location":"guide/network-map/#identificar-dispositivos-desconocidos","title":"Identificar Dispositivos Desconocidos","text":"<ol> <li>Revisa todos los nodos del mapa</li> <li>\u00bfHay IPs que no reconoces?</li> <li>Clic en el nodo para investigar</li> <li>Revisa con qu\u00e9 se comunica</li> </ol> <p>Dispositivo Sospechoso</p> <p>Si ves un nodo con muchas conexiones externas y no lo reconoces, podr\u00eda ser:</p> <ul> <li>Dispositivo IoT mal configurado</li> <li>Intruso en tu red</li> <li>Malware exfiltrando datos</li> </ul>"},{"location":"guide/network-map/#detectar-conexiones-anomalas","title":"Detectar Conexiones An\u00f3malas","text":"<p>Busca patrones inusuales:</p> <ul> <li>\u274c Dispositivo interno \u2192 M\u00faltiples IPs externas desconocidas</li> <li>\u274c Conexiones directas que saltan el gateway</li> <li>\u274c Tr\u00e1fico constante a IPs sospechosas</li> </ul>"},{"location":"guide/network-map/#optimizar-red","title":"Optimizar Red","text":"<ol> <li>Identifica cuellos de botella</li> <li>\u00bfTodo pasa por un solo nodo?</li> <li>\u00bfHay conexiones que podr\u00edan ser locales pero van por internet?</li> </ol>"},{"location":"guide/network-map/#controles","title":"\ud83c\udf9b\ufe0f Controles","text":""},{"location":"guide/network-map/#filtros-de-visualizacion","title":"Filtros de Visualizaci\u00f3n","text":"<ul> <li>Por protocolo: Mostrar solo TCP, UDP, o ambos</li> <li>Por volumen: Ocultar conexiones con poco tr\u00e1fico</li> <li>Por tipo: Solo locales, solo externos, todos</li> </ul>"},{"location":"guide/network-map/#layout","title":"Layout","text":"<p>Elige el algoritmo de disposici\u00f3n:</p> Layout Mejor Para Jer\u00e1rquico Redes con estructura clara Fuerza Redes peer-to-peer Circular Visualizar hub central Grid Muchos nodos"},{"location":"guide/network-map/#exportar","title":"Exportar","text":"<ul> <li>PNG/SVG: Imagen del mapa</li> <li>JSON: Datos de nodos y conexiones</li> </ul>"},{"location":"guide/network-map/#tips","title":"\ud83d\udca1 Tips","text":"<p>Captura Prolongada</p> <p>Para un mapa m\u00e1s completo, captura durante m\u00e1s tiempo. M\u00e1s tr\u00e1fico = m\u00e1s conexiones detectadas.</p> <p>Combinar con Estad\u00edsticas</p> <p>Usa las estad\u00edsticas para identificar IPs relevantes, luego b\u00fascalas en el mapa para ver contexto.</p> <p>Refresh</p> <p>El mapa se actualiza con nuevos paquetes. Puedes pausar la actualizaci\u00f3n para analizar.</p>"},{"location":"guide/network-map/#troubleshooting","title":"\ud83d\udd27 Troubleshooting","text":"El mapa est\u00e1 vac\u00edo <ol> <li>\u00bfHay paquetes capturados?</li> <li>\u00bfLa captura est\u00e1 activa?</li> <li>\u00bfHay tr\u00e1fico de red real?</li> </ol> Demasiados nodos <p>Usa filtros para reducir: - Ocultar conexiones menores - Filtrar por protocolo - Agrupar por subred</p>"},{"location":"guide/packet-capture/","title":"Captura de Paquetes","text":"<p>La captura de paquetes es la funci\u00f3n principal de LeirEye. Permite interceptar y analizar el tr\u00e1fico de red en tiempo real.</p>"},{"location":"guide/packet-capture/#que-es-la-captura-de-paquetes","title":"\ud83c\udfaf \u00bfQu\u00e9 es la Captura de Paquetes?","text":"<p>La captura de paquetes (packet sniffing) es el proceso de interceptar y registrar el tr\u00e1fico que pasa por una interfaz de red. Es fundamental para:</p> <ul> <li>\ud83d\udd0d An\u00e1lisis de red: Entender qu\u00e9 est\u00e1 pasando en tu red</li> <li>\ud83d\udc1b Debugging: Identificar problemas de conectividad</li> <li>\ud83d\udee1\ufe0f Seguridad: Detectar tr\u00e1fico malicioso o no autorizado</li> <li>\ud83d\udcca Monitoreo: Medir el rendimiento de la red</li> </ul>"},{"location":"guide/packet-capture/#iniciar-una-captura","title":"\ud83d\ude80 Iniciar una Captura","text":""},{"location":"guide/packet-capture/#paso-1-seleccionar-interfaz","title":"Paso 1: Seleccionar Interfaz","text":"<p>En el panel de Captura, selecciona la interfaz de red:</p> Interfaz Sistema Uso <code>en0</code> macOS WiFi principal <code>en1</code> macOS Ethernet o segunda WiFi <code>eth0</code> Linux Ethernet principal <code>wlan0</code> Linux WiFi <code>lo0</code> / <code>lo</code> Ambos Loopback (tr\u00e1fico local) <p>\u00bfC\u00f3mo saber qu\u00e9 interfaz usar?</p> <pre><code># macOS\nifconfig | grep -E \"^[a-z]\" | cut -d: -f1\n\n# Linux\nip link show | grep -E \"^[0-9]\" | awk '{print $2}' | tr -d ':'\n</code></pre>"},{"location":"guide/packet-capture/#paso-2-configurar-filtros-opcional","title":"Paso 2: Configurar Filtros (Opcional)","text":"<p>Puedes filtrar el tr\u00e1fico por:</p> <ul> <li>Puerto: Solo tr\u00e1fico HTTP (puerto 80)</li> <li>Protocolo: Solo TCP o UDP</li> <li>IP: Tr\u00e1fico hacia/desde una IP espec\u00edfica</li> </ul>"},{"location":"guide/packet-capture/#paso-3-iniciar-captura","title":"Paso 3: Iniciar Captura","text":"<ol> <li>Clic en \"Iniciar Captura\" (o bot\u00f3n play)</li> <li>Los paquetes aparecer\u00e1n en la tabla en tiempo real</li> <li>Clic en \"Detener\" cuando termines</li> </ol>"},{"location":"guide/packet-capture/#interpretar-los-resultados","title":"\ud83d\udcca Interpretar los Resultados","text":"<p>Cada paquete capturado muestra:</p> Campo Descripci\u00f3n Ejemplo # N\u00famero de paquete 1, 2, 3... Tiempo Timestamp de captura 14:32:01.123 Origen IP de origen 192.168.1.100 Destino IP de destino 8.8.8.8 Protocolo Protocolo detectado TCP, UDP, DNS, HTTP Longitud Tama\u00f1o en bytes 64, 1500 Info Resumen del paquete GET /index.html"},{"location":"guide/packet-capture/#codigos-de-color","title":"C\u00f3digos de Color","text":"<p>Los paquetes se colorean seg\u00fan su tipo:</p> <pre><code>\ud83d\udfe2 Verde     \u2192 TCP normal\n\ud83d\udd35 Azul      \u2192 UDP\n\ud83d\udfe1 Amarillo  \u2192 DNS\n\ud83d\udfe3 Morado    \u2192 HTTP/HTTPS\n\ud83d\udd34 Rojo      \u2192 Errores o tr\u00e1fico sospechoso\n</code></pre>"},{"location":"guide/packet-capture/#analisis-detallado","title":"\ud83d\udd0d An\u00e1lisis Detallado","text":""},{"location":"guide/packet-capture/#ver-detalles-de-un-paquete","title":"Ver Detalles de un Paquete","text":"<p>Haz clic en cualquier paquete para ver:</p> <ol> <li>Cabeceras de Capa 2 (Enlace)</li> <li>Direcciones MAC origen y destino</li> <li> <p>Tipo de frame Ethernet</p> </li> <li> <p>Cabeceras de Capa 3 (Red)</p> </li> <li>Versi\u00f3n IP (v4 o v6)</li> <li>Direcciones IP</li> <li> <p>TTL, fragmentaci\u00f3n</p> </li> <li> <p>Cabeceras de Capa 4 (Transporte)</p> </li> <li>Puerto origen y destino</li> <li>Flags TCP (SYN, ACK, FIN...)</li> <li> <p>N\u00fameros de secuencia</p> </li> <li> <p>Payload (Datos)</p> </li> <li>Contenido del paquete (si no est\u00e1 cifrado)</li> </ol>"},{"location":"guide/packet-capture/#usar-el-explicador-ia","title":"Usar el Explicador IA","text":"<ol> <li>Selecciona un paquete</li> <li>Clic en \"\ud83e\udd16 Explicar con IA\"</li> <li>Ollama analizar\u00e1 el paquete y te dar\u00e1 una explicaci\u00f3n en lenguaje natural</li> </ol>"},{"location":"guide/packet-capture/#permisos-necesarios","title":"\u26a0\ufe0f Permisos Necesarios","text":"<p>La captura de paquetes requiere permisos elevados:</p> macOSLinux <pre><code># Opci\u00f3n 1: Ejecutar con sudo\ncd backend\nsource venv/bin/activate\nsudo python run.py\n\n# Opci\u00f3n 2: Instalar ChmodBPF (permanente)\nbrew install wireshark-chmodbpf\n# Reiniciar sesi\u00f3n despu\u00e9s\n</code></pre> <pre><code># Opci\u00f3n 1: Ejecutar con sudo\nsudo python run.py\n\n# Opci\u00f3n 2: Dar capabilities (permanente)\nsudo setcap cap_net_raw,cap_net_admin+eip $(which python3)\n</code></pre>"},{"location":"guide/packet-capture/#solucion-de-problemas","title":"\ud83d\udd27 Soluci\u00f3n de Problemas","text":"No aparecen paquetes <ol> <li>\u00bfEjecutaste con <code>sudo</code>?</li> <li>\u00bfLa interfaz es correcta? Verifica con <code>ifconfig</code></li> <li>\u00bfHay tr\u00e1fico de red? Abre un navegador</li> </ol> Error: Permission denied <p>La captura requiere permisos root. Ver secci\u00f3n anterior.</p> Demasiados paquetes <p>Usa filtros para reducir el volumen: - Filtra por puerto: solo 80/443 - Filtra por IP: solo tu gateway - Captura en intervalos cortos</p>"},{"location":"guide/packet-capture/#conceptos-relacionados","title":"\ud83d\udcda Conceptos Relacionados","text":"<ul> <li>\u00bfQu\u00e9 es un paquete?</li> <li>TCP vs UDP</li> <li>Protocolos comunes</li> </ul>"},{"location":"guide/statistics/","title":"Estad\u00edsticas de Red","text":"<p>El m\u00f3dulo de estad\u00edsticas te permite visualizar y analizar patrones en el tr\u00e1fico de red capturado.</p>"},{"location":"guide/statistics/#vista-general","title":"\ud83d\udcca Vista General","text":"<p>El panel de estad\u00edsticas muestra:</p> <ul> <li>Gr\u00e1ficos en tiempo real del tr\u00e1fico</li> <li>Distribuci\u00f3n por protocolo</li> <li>Top IPs m\u00e1s activas</li> <li>Tendencias temporales</li> </ul>"},{"location":"guide/statistics/#tipos-de-estadisticas","title":"\ud83d\udcc8 Tipos de Estad\u00edsticas","text":""},{"location":"guide/statistics/#distribucion-por-protocolo","title":"Distribuci\u00f3n por Protocolo","text":"<p>Gr\u00e1fico circular mostrando qu\u00e9 protocolos dominan tu red:</p> <pre><code>pie title Distribuci\u00f3n de Protocolos\n    \"TCP\" : 65\n    \"UDP\" : 20\n    \"ICMP\" : 5\n    \"DNS\" : 8\n    \"Otros\" : 2</code></pre> <p>Interpretaci\u00f3n: - TCP dominante \u2192 Navegaci\u00f3n web, apps normales \u2705 - UDP alto \u2192 Streaming, gaming, VoIP - ICMP inusual \u2192 Posible escaneo o ping flood \u26a0\ufe0f</p>"},{"location":"guide/statistics/#trafico-por-tiempo","title":"Tr\u00e1fico por Tiempo","text":"<p>Gr\u00e1fico de l\u00ednea mostrando paquetes/segundo:</p> <pre><code>       Paquetes/seg\n   100 \u2502     \u256d\u2500\u256e\n    75 \u2502    \u256d\u256f \u2570\u256e   \u256d\u2500\u256e\n    50 \u2502\u2500\u2500\u256e\u256d\u256f   \u2570\u2500\u2500\u2500\u256f \u2570\u2500\u2500\n    25 \u2502  \u2570\u256f\n     0 \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n       10:00  10:05  10:10\n</code></pre> <p>Interpretaci\u00f3n: - Picos \u2192 Actividad intensa (descargas, streaming) - L\u00ednea plana alta \u2192 Transferencia continua - Picos repentinos \u2192 Posible anomal\u00eda</p>"},{"location":"guide/statistics/#top-direcciones-ip","title":"Top Direcciones IP","text":"<p>Tabla de las IPs m\u00e1s activas:</p> Ranking IP Paquetes % Total Tipo 1 192.168.1.1 1,234 25% Gateway 2 8.8.8.8 567 11% DNS Google 3 142.250.x.x 456 9% Google 4 192.168.1.100 321 6% Tu PC"},{"location":"guide/statistics/#top-puertos","title":"Top Puertos","text":"<p>Puertos m\u00e1s utilizados:</p> Puerto Servicio Paquetes Estado 443 HTTPS 2,345 \u2705 Normal 80 HTTP 456 \u2705 Normal 53 DNS 234 \u2705 Normal 22 SSH 12 \u2705 Normal 4444 ??? 89 \u26a0\ufe0f Revisar <p>Puertos Sospechosos</p> <p>Tr\u00e1fico significativo en puertos no est\u00e1ndar puede indicar:</p> <ul> <li>Malware usando puertos inusuales</li> <li>Servicios mal configurados</li> <li>Tunneling o C2 (Command &amp; Control)</li> </ul>"},{"location":"guide/statistics/#casos-de-uso","title":"\ud83c\udfaf Casos de Uso","text":""},{"location":"guide/statistics/#detectar-consumo-anomalo","title":"Detectar Consumo An\u00f3malo","text":"<ol> <li>Revisa Top IPs por volumen</li> <li>\u00bfAlguna IP interna env\u00eda mucho tr\u00e1fico?</li> <li>\u00bfHay conexiones a IPs desconocidas?</li> </ol>"},{"location":"guide/statistics/#identificar-servicios-activos","title":"Identificar Servicios Activos","text":"<ol> <li>Revisa Top Puertos</li> <li>\u00bfHay servicios inesperados?</li> <li>Ejemplo: Puerto 3389 (RDP) abierto sin raz\u00f3n</li> </ol>"},{"location":"guide/statistics/#monitorear-rendimiento","title":"Monitorear Rendimiento","text":"<ol> <li>Observa Tr\u00e1fico por Tiempo</li> <li>\u00bfHay saturaci\u00f3n en horarios espec\u00edficos?</li> <li>\u00bfPatrones regulares indican backups autom\u00e1ticos?</li> </ol>"},{"location":"guide/statistics/#exportar-datos","title":"\ud83d\udcca Exportar Datos","text":"<p>Puedes exportar las estad\u00edsticas en varios formatos:</p> <ul> <li>JSON: Para procesamiento program\u00e1tico</li> <li>CSV: Para Excel/hojas de c\u00e1lculo</li> <li>PDF: Para reportes</li> </ul> <pre><code># V\u00eda API\ncurl http://localhost:8000/api/stats/export?format=json \\\n  -H \"Authorization: Bearer $TOKEN\" \\\n  &gt; estadisticas.json\n</code></pre>"},{"location":"guide/statistics/#filtros-avanzados","title":"\ud83d\udd27 Filtros Avanzados","text":""},{"location":"guide/statistics/#por-rango-de-tiempo","title":"Por Rango de Tiempo","text":"<p>Selecciona un per\u00edodo espec\u00edfico: - \u00daltima hora - \u00daltimas 24 horas - \u00daltima semana - Rango personalizado</p>"},{"location":"guide/statistics/#por-protocolo","title":"Por Protocolo","text":"<p>Filtra estad\u00edsticas solo para: - TCP - UDP - HTTP/HTTPS - DNS</p>"},{"location":"guide/statistics/#por-direccion","title":"Por Direcci\u00f3n","text":"<ul> <li>Solo tr\u00e1fico entrante</li> <li>Solo tr\u00e1fico saliente</li> <li>Ambas direcciones</li> </ul>"},{"location":"guide/statistics/#tips","title":"\ud83d\udca1 Tips","text":"<p>Baseline Normal</p> <p>Captura estad\u00edsticas durante operaci\u00f3n normal. \u00dasalas como referencia para detectar anomal\u00edas.</p> <p>Automatizaci\u00f3n</p> <p>Configura alertas cuando las estad\u00edsticas excedan umbrales. Por ejemplo: m\u00e1s de 1000 paquetes/seg a un puerto inusual.</p> <p>Correlaci\u00f3n</p> <p>Combina estad\u00edsticas con el mapa de red para visualizar qu\u00e9 conexiones generan m\u00e1s tr\u00e1fico.</p>"},{"location":"guide/system-info/","title":"Informaci\u00f3n del Sistema","text":"<p>El m\u00f3dulo de Sistema proporciona informaci\u00f3n sobre tu m\u00e1quina y configuraci\u00f3n de red.</p>"},{"location":"guide/system-info/#informacion-disponible","title":"\ud83d\udcca Informaci\u00f3n Disponible","text":""},{"location":"guide/system-info/#sistema-operativo","title":"Sistema Operativo","text":"Campo Descripci\u00f3n Ejemplo OS Sistema operativo macOS 14.2.1 Kernel Versi\u00f3n del kernel Darwin 23.2.0 Arquitectura CPU architecture arm64 Hostname Nombre del equipo MacBook-Pro.local"},{"location":"guide/system-info/#hardware","title":"Hardware","text":"Campo Descripci\u00f3n Ejemplo CPU Procesador Apple M2 Pro Cores N\u00facleos 10 cores RAM Memoria total 16 GB RAM Libre Memoria disponible 8.2 GB"},{"location":"guide/system-info/#interfaces-de-red","title":"Interfaces de Red","text":"<p>Lista de todas las interfaces con:</p> <pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 Interface: en0 (WiFi)                               \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502 IPv4: 192.168.1.100                                 \u2502\n\u2502 IPv6: fe80::1                                       \u2502\n\u2502 MAC: a4:83:e7:xx:xx:xx                              \u2502\n\u2502 Estado: Activa \u2705                                   \u2502\n\u2502 MTU: 1500                                           \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"guide/system-info/#gateway-y-dns","title":"Gateway y DNS","text":"Campo Valor Gateway 192.168.1.1 DNS Primario 8.8.8.8 DNS Secundario 8.8.4.4 Dominio home.local"},{"location":"guide/system-info/#uso-de-la-informacion","title":"\ud83d\udd27 Uso de la Informaci\u00f3n","text":""},{"location":"guide/system-info/#seleccionar-interfaz-correcta","title":"Seleccionar Interfaz Correcta","text":"<ol> <li>Revisa la lista de interfaces</li> <li>Identifica cu\u00e1l tiene IP v\u00e1lida</li> <li>Usa esa interfaz para captura</li> </ol> <p>Interfaz Activa</p> <p>La interfaz correcta usualmente tiene:</p> <ul> <li>IP en rango privado (192.168.x.x, 10.x.x.x)</li> <li>Estado \"Activa\"</li> <li>Gateway configurado</li> </ul>"},{"location":"guide/system-info/#diagnostico-de-red","title":"Diagn\u00f3stico de Red","text":"<p>Usa esta informaci\u00f3n para:</p> <ol> <li>Verificar conectividad: \u00bfTienes IP asignada?</li> <li>Identificar gateway: \u00bfCu\u00e1l es tu router?</li> <li>Revisar DNS: \u00bfEst\u00e1n configurados correctamente?</li> </ol>"},{"location":"guide/system-info/#troubleshooting","title":"Troubleshooting","text":"<pre><code>flowchart TD\n    A[Sin Internet] --&gt; B{\u00bfTienes IP?}\n    B --&gt;|No| C[Problema DHCP]\n    B --&gt;|S\u00ed| D{\u00bfGateway responde?}\n    D --&gt;|No| E[Problema Router]\n    D --&gt;|S\u00ed| F{\u00bfDNS resuelve?}\n    F --&gt;|No| G[Problema DNS]\n    F --&gt;|S\u00ed| H[Problema ISP]</code></pre>"},{"location":"guide/system-info/#gestion-de-usuarios","title":"\ud83d\udc65 Gesti\u00f3n de Usuarios","text":""},{"location":"guide/system-info/#roles-del-sistema","title":"Roles del Sistema","text":"Rol Descripci\u00f3n Permisos ADMIN Administrador Todo acceso ANALYST Analista Captura + an\u00e1lisis VIEWER Observador Solo lectura"},{"location":"guide/system-info/#tu-perfil","title":"Tu Perfil","text":"<p>Muestra: - Username: Tu nombre de usuario - Email: Correo registrado - Rol: Nivel de acceso - Creado: Fecha de registro - \u00daltimo acceso: \u00daltima conexi\u00f3n</p>"},{"location":"guide/system-info/#acciones-de-usuario","title":"Acciones de Usuario","text":"Acci\u00f3n Descripci\u00f3n Rol Requerido Ver perfil Ver tu informaci\u00f3n Todos Cambiar contrase\u00f1a Actualizar password Todos Gestionar usuarios Crear/editar usuarios ADMIN Ver logs Auditor\u00eda del sistema ADMIN"},{"location":"guide/system-info/#metricas-del-sistema","title":"\ud83d\udcca M\u00e9tricas del Sistema","text":""},{"location":"guide/system-info/#uso-de-recursos","title":"Uso de Recursos","text":"<p>Monitoreo en tiempo real de:</p> <ul> <li>CPU: Porcentaje de uso</li> <li>RAM: Memoria utilizada</li> <li>Disco: Espacio disponible</li> <li>Red: Bytes in/out</li> </ul>"},{"location":"guide/system-info/#estado-de-servicios","title":"Estado de Servicios","text":"Servicio Estado Puerto Backend API \u2705 Online 8000 PostgreSQL \u2705 Online 5432 Redis \u2705 Online 6379 Ollama \u2705 Online 11434 Frontend \u2705 Online 3001"},{"location":"guide/system-info/#configuracion","title":"\u2699\ufe0f Configuraci\u00f3n","text":""},{"location":"guide/system-info/#variables-de-entorno","title":"Variables de Entorno","text":"<p>Configuraciones actuales del backend:</p> Variable Valor Descripci\u00f3n <code>DEBUG</code> false Modo desarrollo <code>LOG_LEVEL</code> INFO Nivel de logs <code>CORS_ORIGINS</code> localhost:3001 Frontend permitido"},{"location":"guide/system-info/#versiones","title":"Versiones","text":"Componente Versi\u00f3n LeirEye 2.0.0 Python 3.11.x Node.js 18.x PostgreSQL 15.x"},{"location":"guide/system-info/#seguridad","title":"\ud83d\udd12 Seguridad","text":""},{"location":"guide/system-info/#sesion-actual","title":"Sesi\u00f3n Actual","text":"<ul> <li>Token: JWT v\u00e1lido por 30 min</li> <li>Refresh: Auto-renovaci\u00f3n activa</li> <li>IP de origen: Tu IP actual</li> </ul>"},{"location":"guide/system-info/#acciones-de-seguridad","title":"Acciones de Seguridad","text":"<ul> <li>\ud83d\udd10 Cerrar sesi\u00f3n: Invalida tokens</li> <li>\ud83d\udd04 Rotar tokens: Genera nuevos tokens</li> <li>\ud83d\udcdd Ver actividad: Historial de acciones</li> </ul>"},{"location":"guide/system-info/#tips","title":"\ud83d\udca1 Tips","text":"<p>Mantenimiento</p> <p>Revisa peri\u00f3dicamente:</p> <ul> <li>Espacio en disco</li> <li>Uso de memoria</li> <li>Logs de errores</li> </ul> <p>Seguridad</p> <p>Como ADMIN:</p> <ul> <li>Revisa usuarios activos</li> <li>Elimina cuentas inactivas</li> <li>Monitorea accesos sospechosos</li> </ul>"},{"location":"reference/","title":"Referencia","text":"<p>Documentaci\u00f3n de referencia r\u00e1pida para LeirEye.</p>"},{"location":"reference/#contenido","title":"\ud83d\udcda Contenido","text":"<ul> <li> <p> Comandos</p> <p>Referencia r\u00e1pida de todos los comandos</p> <p> Ver</p> </li> <li> <p> Troubleshooting</p> <p>Soluci\u00f3n a problemas comunes</p> <p> Ver</p> </li> <li> <p> Changelog</p> <p>Historial de cambios y versiones</p> <p> Ver</p> </li> </ul>"},{"location":"reference/#comandos-rapidos","title":"\ud83d\ude80 Comandos R\u00e1pidos","text":""},{"location":"reference/#iniciar-todo","title":"Iniciar Todo","text":"<pre><code># Terminal 1: Servicios\ndocker-compose up -d\n\n# Terminal 2: Backend\ncd backend &amp;&amp; source venv/bin/activate &amp;&amp; python run.py\n\n# Terminal 3: Frontend\ncd frontend &amp;&amp; npm start\n\n# Terminal 4: Ollama (si usas IA)\nollama serve\n</code></pre>"},{"location":"reference/#parar-todo","title":"Parar Todo","text":"<pre><code># Ctrl+C en cada terminal, luego:\ndocker-compose down\n</code></pre>"},{"location":"reference/#solucion-rapida","title":"\ud83d\udd27 Soluci\u00f3n R\u00e1pida","text":"Problema Soluci\u00f3n No captura paquetes Ejecutar con <code>sudo python run.py</code> Frontend no conecta Verificar CORS y puertos Base de datos error <code>docker-compose up -d postgres</code> Ollama no responde <code>ollama serve</code> en otra terminal"},{"location":"reference/#puertos","title":"\ud83d\udcca Puertos","text":"Servicio Puerto Frontend 3001 Backend API 8000 PostgreSQL 5432 Redis 6379 Ollama 11434"},{"location":"reference/#estructura","title":"\ud83d\udcc1 Estructura","text":"<pre><code>leireye/\n\u251c\u2500\u2500 backend/           # API FastAPI\n\u2502   \u251c\u2500\u2500 app/\n\u2502   \u2502   \u251c\u2500\u2500 core/      # Config, DB, Security\n\u2502   \u2502   \u251c\u2500\u2500 models/    # SQLAlchemy models\n\u2502   \u2502   \u251c\u2500\u2500 routes/    # API endpoints\n\u2502   \u2502   \u2514\u2500\u2500 services/  # Business logic\n\u2502   \u2514\u2500\u2500 alembic/       # Migrations\n\u251c\u2500\u2500 frontend/          # React app\n\u2502   \u2514\u2500\u2500 src/\n\u2502       \u251c\u2500\u2500 components/\n\u2502       \u251c\u2500\u2500 pages/\n\u2502       \u2514\u2500\u2500 services/\n\u2514\u2500\u2500 docs/              # Esta documentaci\u00f3n\n</code></pre>"},{"location":"reference/changelog/","title":"Changelog","text":"<p>Historial de cambios de LeirEye.</p>"},{"location":"reference/changelog/#versiones","title":"\ud83d\udccb Versiones","text":""},{"location":"reference/changelog/#200-2024-01","title":"[2.0.0] - 2024-01","text":""},{"location":"reference/changelog/#nuevas-caracteristicas","title":"\u2728 Nuevas Caracter\u00edsticas","text":"<ul> <li>Sistema de Autenticaci\u00f3n Completo</li> <li>Registro y login de usuarios</li> <li>JWT con access y refresh tokens</li> <li>Roles: ADMIN, ANALYST, VIEWER</li> <li> <p>Primer usuario es ADMIN autom\u00e1ticamente</p> </li> <li> <p>Base de Datos PostgreSQL</p> </li> <li>Persistencia de usuarios</li> <li>Migraciones con Alembic</li> <li> <p>Modelos SQLAlchemy</p> </li> <li> <p>Interfaz Profesional</p> </li> <li>Sidebar con navegaci\u00f3n por secciones</li> <li>React Router para m\u00faltiples p\u00e1ginas</li> <li>Tarjeta de usuario con rol</li> <li> <p>Tema oscuro profesional</p> </li> <li> <p>Captura de Paquetes Mejorada</p> </li> <li>Streaming en tiempo real v\u00eda WebSocket</li> <li>Filtros por protocolo, IP, puerto</li> <li> <p>Detalle completo de cada paquete</p> </li> <li> <p>Mapa de Red</p> </li> <li>Visualizaci\u00f3n interactiva de topolog\u00eda</li> <li>Nodos y conexiones basados en tr\u00e1fico</li> <li> <p>Diferentes layouts disponibles</p> </li> <li> <p>Explicador con IA</p> </li> <li>Integraci\u00f3n con Ollama</li> <li>Explicaciones en espa\u00f1ol</li> <li>Niveles: b\u00e1sico, intermedio, avanzado</li> <li> <p>An\u00e1lisis de seguridad</p> </li> <li> <p>Estad\u00edsticas</p> </li> <li>Gr\u00e1ficos en tiempo real</li> <li>Distribuci\u00f3n por protocolo</li> <li>Top IPs y puertos</li> <li>Timeline de tr\u00e1fico</li> </ul>"},{"location":"reference/changelog/#mejoras-tecnicas","title":"\ud83d\udd27 Mejoras T\u00e9cnicas","text":"<ul> <li>Migraci\u00f3n a React 19</li> <li>TypeScript en todo el frontend</li> <li>FastAPI con async/await</li> <li>Docker Compose para servicios</li> <li>Documentaci\u00f3n con MkDocs Material</li> </ul>"},{"location":"reference/changelog/#correcciones","title":"\ud83d\udc1b Correcciones","text":"<ul> <li>Manejo de errores mejorado</li> <li>Reconexi\u00f3n autom\u00e1tica de WebSocket</li> <li>Validaci\u00f3n de formularios</li> <li>CORS configurado correctamente</li> </ul>"},{"location":"reference/changelog/#100-2023-12","title":"[1.0.0] - 2023-12","text":""},{"location":"reference/changelog/#caracteristicas-iniciales","title":"\u2728 Caracter\u00edsticas Iniciales","text":"<ul> <li>Captura b\u00e1sica de paquetes con Scapy</li> <li>Visualizaci\u00f3n en tabla simple</li> <li>Estad\u00edsticas b\u00e1sicas</li> <li>API REST con FastAPI</li> <li>Frontend React b\u00e1sico</li> </ul>"},{"location":"reference/changelog/#roadmap","title":"\ud83d\uddfa\ufe0f Roadmap","text":""},{"location":"reference/changelog/#proximas-versiones","title":"Pr\u00f3ximas Versiones","text":""},{"location":"reference/changelog/#v210-planificado","title":"v2.1.0 (Planificado)","text":"<ul> <li> Exportar a PCAP</li> <li> Alertas configurables</li> <li> Dashboard personalizable</li> <li> Modo oscuro/claro toggle</li> <li> Internacionalizaci\u00f3n (i18n)</li> </ul>"},{"location":"reference/changelog/#v220-futuro","title":"v2.2.0 (Futuro)","text":"<ul> <li> Reglas de detecci\u00f3n personalizadas</li> <li> Integraci\u00f3n con VirusTotal</li> <li> An\u00e1lisis de archivos extra\u00eddos</li> <li> API p\u00fablica documentada</li> </ul>"},{"location":"reference/changelog/#v300-vision","title":"v3.0.0 (Visi\u00f3n)","text":"<ul> <li> Clustering de m\u00faltiples instancias</li> <li> Machine Learning para detecci\u00f3n</li> <li> Plugins/extensiones</li> <li> Versi\u00f3n desktop (Electron)</li> </ul>"},{"location":"reference/changelog/#notas-de-migracion","title":"\ud83d\udcdd Notas de Migraci\u00f3n","text":""},{"location":"reference/changelog/#de-1x-a-2x","title":"De 1.x a 2.x","text":"<ol> <li>Base de datos nueva - Los datos no se migran autom\u00e1ticamente</li> <li>Autenticaci\u00f3n requerida - Todas las rutas API ahora requieren token</li> <li>Frontend redise\u00f1ado - Componentes completamente nuevos</li> <li>Docker obligatorio - Se requiere Docker Compose para PostgreSQL</li> </ol> <p>Pasos de migraci\u00f3n:</p> <pre><code># 1. Backup de datos importantes\n# 2. Actualizar c\u00f3digo\ngit pull origin main\n\n# 3. Recrear entorno\ncd backend\nrm -rf venv\npython3 -m venv venv\nsource venv/bin/activate\npip install -r requirements.txt\n\n# 4. Iniciar servicios\ndocker-compose up -d\n\n# 5. Aplicar migraciones\nalembic upgrade head\n\n# 6. Actualizar frontend\ncd ../frontend\nrm -rf node_modules\nnpm install\n</code></pre>"},{"location":"reference/changelog/#convenciones-de-versionado","title":"\ud83c\udff7\ufe0f Convenciones de Versionado","text":"<p>LeirEye sigue Semantic Versioning:</p> <ul> <li>MAJOR (x.0.0): Cambios incompatibles</li> <li>MINOR (0.x.0): Nueva funcionalidad compatible</li> <li>PATCH (0.0.x): Correcciones de bugs</li> </ul>"},{"location":"reference/changelog/#tipos-de-commits","title":"Tipos de Commits","text":"Prefijo Descripci\u00f3n <code>feat:</code> Nueva caracter\u00edstica <code>fix:</code> Correcci\u00f3n de bug <code>docs:</code> Documentaci\u00f3n <code>style:</code> Formato, sin cambios de c\u00f3digo <code>refactor:</code> Refactoring <code>test:</code> Tests <code>chore:</code> Mantenimiento"},{"location":"reference/commands/","title":"Referencia de Comandos","text":"<p>Gu\u00eda r\u00e1pida de todos los comandos necesarios para trabajar con LeirEye.</p>"},{"location":"reference/commands/#inicio-rapido","title":"\ud83d\ude80 Inicio R\u00e1pido","text":""},{"location":"reference/commands/#iniciar-la-aplicacion-completa","title":"Iniciar la Aplicaci\u00f3n Completa","text":"<pre><code># 1. Servicios Docker (PostgreSQL, Redis)\ndocker-compose up -d\n\n# 2. Backend (en otra terminal)\ncd backend\nsource venv/bin/activate\npython run.py\n\n# 3. Frontend (en otra terminal)\ncd frontend\nnpm start\n\n# 4. Ollama para IA (en otra terminal)\nollama serve\n</code></pre>"},{"location":"reference/commands/#parar-todo","title":"Parar Todo","text":"<pre><code># Ctrl+C en terminales de backend, frontend, ollama\n\n# Parar Docker\ndocker-compose down\n\n# Parar y eliminar datos\ndocker-compose down -v\n</code></pre>"},{"location":"reference/commands/#docker","title":"\ud83d\udc33 Docker","text":""},{"location":"reference/commands/#gestion-de-contenedores","title":"Gesti\u00f3n de Contenedores","text":"<pre><code># Iniciar servicios\ndocker-compose up -d\n\n# Ver estado\ndocker-compose ps\n\n# Ver logs\ndocker-compose logs -f\n\n# Logs de un servicio espec\u00edfico\ndocker-compose logs -f postgres\n\n# Reiniciar un servicio\ndocker-compose restart postgres\n\n# Parar servicios\ndocker-compose down\n\n# Parar y eliminar vol\u00famenes (\u00a1borra datos!)\ndocker-compose down -v\n</code></pre>"},{"location":"reference/commands/#acceso-a-postgresql","title":"Acceso a PostgreSQL","text":"<pre><code># Conectar al contenedor\ndocker exec -it leireye-postgres psql -U postgres -d leireye\n\n# O desde fuera\npsql -h localhost -U postgres -d leireye\n# Password: postgres\n</code></pre>"},{"location":"reference/commands/#comandos-sql-utiles","title":"Comandos SQL \u00datiles","text":"<pre><code>-- Ver tablas\n\\dt\n\n-- Ver usuarios\nSELECT * FROM users;\n\n-- Contar paquetes\nSELECT COUNT(*) FROM packets;\n\n-- Salir\n\\q\n</code></pre>"},{"location":"reference/commands/#backend","title":"\ud83d\udc0d Backend","text":""},{"location":"reference/commands/#entorno-virtual","title":"Entorno Virtual","text":"<pre><code># Crear entorno (primera vez)\ncd backend\npython3 -m venv venv\n\n# Activar entorno\nsource venv/bin/activate  # macOS/Linux\n.\\venv\\Scripts\\activate   # Windows\n\n# Desactivar\ndeactivate\n\n# Instalar dependencias\npip install -r requirements.txt\n\n# Actualizar dependencias\npip install --upgrade -r requirements.txt\n</code></pre>"},{"location":"reference/commands/#migraciones-alembic","title":"Migraciones (Alembic)","text":"<pre><code># Aplicar migraciones\nalembic upgrade head\n\n# Ver estado actual\nalembic current\n\n# Crear nueva migraci\u00f3n\nalembic revision --autogenerate -m \"descripcion\"\n\n# Rollback una migraci\u00f3n\nalembic downgrade -1\n\n# Rollback todas\nalembic downgrade base\n</code></pre>"},{"location":"reference/commands/#ejecutar-backend","title":"Ejecutar Backend","text":"<pre><code># Normal\npython run.py\n\n# Con captura de paquetes (requiere root)\nsudo python run.py\n\n# Modo desarrollo con reload\nuvicorn app.main:app --reload --port 8000\n</code></pre>"},{"location":"reference/commands/#tests","title":"Tests","text":"<pre><code># Ejecutar todos los tests\npytest\n\n# Con coverage\npytest --cov=app\n\n# Tests espec\u00edficos\npytest tests/test_auth.py\n\n# Verbose\npytest -v\n</code></pre>"},{"location":"reference/commands/#frontend","title":"\u269b\ufe0f Frontend","text":""},{"location":"reference/commands/#gestion-de-dependencias","title":"Gesti\u00f3n de Dependencias","text":"<pre><code># Instalar dependencias\ncd frontend\nnpm install\n\n# Agregar dependencia\nnpm install nombre-paquete\n\n# Agregar dependencia de desarrollo\nnpm install -D nombre-paquete\n\n# Actualizar dependencias\nnpm update\n\n# Auditar seguridad\nnpm audit\nnpm audit fix\n</code></pre>"},{"location":"reference/commands/#ejecutar-frontend","title":"Ejecutar Frontend","text":"<pre><code># Desarrollo (con hot reload)\nnpm start\n# Abre http://localhost:3001\n\n# Build para producci\u00f3n\nnpm run build\n\n# Previsualizar build\nnpx serve -s build\n\n# Tests\nnpm test\n\n# Linting\nnpm run lint\n</code></pre>"},{"location":"reference/commands/#ollama","title":"\ud83e\udd16 Ollama","text":""},{"location":"reference/commands/#gestion-de-modelos","title":"Gesti\u00f3n de Modelos","text":"<pre><code># Iniciar servidor\nollama serve\n\n# Listar modelos instalados\nollama list\n\n# Descargar modelo\nollama pull llama3.2:3b\n\n# Eliminar modelo\nollama rm llama3.2:3b\n\n# Info de modelo\nollama show llama3.2:3b\n\n# Probar modelo\nollama run llama3.2:3b \"Hola, \u00bfc\u00f3mo est\u00e1s?\"\n</code></pre>"},{"location":"reference/commands/#modelos-recomendados","title":"Modelos Recomendados","text":"Modelo RAM Uso <code>llama3.2:1b</code> 2 GB R\u00e1pido, b\u00e1sico <code>llama3.2:3b</code> 4 GB Balance (recomendado) <code>llama3.1:8b</code> 8 GB Mejor calidad <code>mistral:7b</code> 8 GB Alternativa"},{"location":"reference/commands/#diagnostico-de-red","title":"\ud83d\udd0d Diagn\u00f3stico de Red","text":""},{"location":"reference/commands/#ver-interfaces","title":"Ver Interfaces","text":"<pre><code># macOS\nifconfig\n\n# Linux\nip addr show\n\n# Ver interfaces para captura\npython -c \"from scapy.all import get_if_list; print(get_if_list())\"\n</code></pre>"},{"location":"reference/commands/#pruebas-de-conectividad","title":"Pruebas de Conectividad","text":"<pre><code># Ping\nping -c 4 google.com\n\n# DNS lookup\nnslookup google.com\ndig google.com\n\n# Traceroute\ntraceroute google.com\n\n# Ver conexiones activas\nnetstat -an | grep ESTABLISHED\n\n# Ver puertos en escucha\nlsof -i -P | grep LISTEN\n</code></pre>"},{"location":"reference/commands/#verificar-servicios","title":"Verificar Servicios","text":"<pre><code># Health check del backend\ncurl http://localhost:8000/health\n\n# Ver API docs\nopen http://localhost:8000/docs\n\n# Verificar frontend\ncurl http://localhost:3001\n</code></pre>"},{"location":"reference/commands/#archivos-y-logs","title":"\ud83d\udcc1 Archivos y Logs","text":""},{"location":"reference/commands/#ubicaciones-importantes","title":"Ubicaciones Importantes","text":"Archivo/Carpeta Prop\u00f3sito <code>backend/.env</code> Variables de entorno <code>backend/logs/</code> Logs del backend <code>docker-compose.yml</code> Configuraci\u00f3n Docker <code>frontend/build/</code> Build de producci\u00f3n"},{"location":"reference/commands/#ver-logs","title":"Ver Logs","text":"<pre><code># Backend (si hay archivo de log)\ntail -f backend/logs/leireye.log\n\n# Docker logs\ndocker-compose logs -f\n\n# Logs del sistema (macOS)\nlog show --predicate 'processName == \"python\"' --last 1h\n</code></pre>"},{"location":"reference/commands/#utilidades","title":"\ud83d\udd27 Utilidades","text":""},{"location":"reference/commands/#limpiar-proyecto","title":"Limpiar Proyecto","text":"<pre><code># Limpiar cache de Python\nfind . -type d -name __pycache__ -exec rm -rf {} +\nfind . -type f -name \"*.pyc\" -delete\n\n# Limpiar node_modules\nrm -rf frontend/node_modules\n\n# Reinstalar todo\ncd frontend &amp;&amp; npm install\n</code></pre>"},{"location":"reference/commands/#variables-de-entorno","title":"Variables de Entorno","text":"<pre><code># Ver variables actuales\ncat backend/.env\n\n# Crear desde ejemplo\ncp backend/.env.example backend/.env\n\n# Editar\nnano backend/.env\n</code></pre>"},{"location":"reference/commands/#git","title":"Git","text":"<pre><code># Ver estado\ngit status\n\n# Crear branch\ngit checkout -b feature/nueva-funcionalidad\n\n# Commit\ngit add .\ngit commit -m \"Descripci\u00f3n del cambio\"\n\n# Push\ngit push origin feature/nueva-funcionalidad\n</code></pre>"},{"location":"reference/commands/#monitoreo","title":"\ud83d\udcca Monitoreo","text":""},{"location":"reference/commands/#uso-de-recursos","title":"Uso de Recursos","text":"<pre><code># CPU y memoria\ntop\nhtop  # Si est\u00e1 instalado\n\n# Uso de disco\ndf -h\n\n# Procesos de LeirEye\nps aux | grep -E \"python|node|docker\"\n</code></pre>"},{"location":"reference/commands/#verificar-puertos","title":"Verificar Puertos","text":"<pre><code># Ver qui\u00e9n usa un puerto\nlsof -i :8000\nlsof -i :3001\nlsof -i :5432\n\n# Matar proceso en un puerto\nkill $(lsof -t -i:8000)\n</code></pre>"},{"location":"reference/troubleshooting/","title":"Troubleshooting","text":"<p>Soluciones a problemas comunes en LeirEye.</p>"},{"location":"reference/troubleshooting/#diagnostico-rapido","title":"\ud83d\udd0d Diagn\u00f3stico R\u00e1pido","text":""},{"location":"reference/troubleshooting/#checklist-de-verificacion","title":"Checklist de Verificaci\u00f3n","text":"<pre><code># 1. Docker corriendo\ndocker-compose ps\n# Debe mostrar postgres y redis como \"Up\"\n\n# 2. Backend respondiendo\ncurl http://localhost:8000/health\n# Debe retornar {\"status\": \"healthy\"}\n\n# 3. Frontend accesible\ncurl -I http://localhost:3001\n# Debe retornar 200 OK\n\n# 4. Ollama (si usas IA)\ncurl http://localhost:11434/api/tags\n# Debe listar modelos\n</code></pre>"},{"location":"reference/troubleshooting/#problemas-de-captura","title":"\ud83d\udce1 Problemas de Captura","text":""},{"location":"reference/troubleshooting/#no-se-capturan-paquetes","title":"No se capturan paquetes","text":"<p>S\u00edntoma: La captura inicia pero no aparecen paquetes.</p> <p>Causa: Falta de permisos para capturar en la interfaz.</p> <p>Soluci\u00f3n:</p> macOSLinux <pre><code># Opci\u00f3n 1: Ejecutar con sudo\ncd backend\nsource venv/bin/activate\nsudo python run.py\n\n# Opci\u00f3n 2: Instalar ChmodBPF (permanente)\nbrew install wireshark-chmodbpf\n# Reiniciar sesi\u00f3n\n</code></pre> <pre><code># Opci\u00f3n 1: Ejecutar con sudo\nsudo python run.py\n\n# Opci\u00f3n 2: Dar capabilities\nsudo setcap cap_net_raw,cap_net_admin+eip $(which python3)\n</code></pre>"},{"location":"reference/troubleshooting/#interfaz-no-disponible","title":"Interfaz no disponible","text":"<p>S\u00edntoma: Error \"Interface not found\" o \"No such device\".</p> <p>Soluci\u00f3n:</p> <pre><code># Ver interfaces disponibles\nifconfig | grep -E \"^[a-z]\"\n\n# O con Python\npython -c \"from scapy.all import get_if_list; print(get_if_list())\"\n</code></pre> <p>Aseg\u00farate de usar el nombre exacto de la interfaz (ej: <code>en0</code>, no <code>wifi</code>).</p>"},{"location":"reference/troubleshooting/#problemas-de-base-de-datos","title":"\ud83d\uddc4\ufe0f Problemas de Base de Datos","text":""},{"location":"reference/troubleshooting/#error-de-conexion-a-postgresql","title":"Error de conexi\u00f3n a PostgreSQL","text":"<p>S\u00edntoma: <code>Connection refused</code> o <code>could not connect to server</code>.</p> <p>Soluci\u00f3n:</p> <pre><code># Verificar que Docker est\u00e1 corriendo\ndocker-compose ps\n\n# Si postgres no est\u00e1 corriendo\ndocker-compose up -d postgres\n\n# Verificar logs\ndocker-compose logs postgres\n\n# Si hay problemas de volumen\ndocker-compose down -v\ndocker-compose up -d\n</code></pre>"},{"location":"reference/troubleshooting/#error-de-migracion","title":"Error de migraci\u00f3n","text":"<p>S\u00edntoma: <code>Table already exists</code> o <code>Relation does not exist</code>.</p> <p>Soluci\u00f3n:</p> <pre><code>cd backend\nsource venv/bin/activate\n\n# Ver estado actual\nalembic current\n\n# Forzar a versi\u00f3n espec\u00edfica\nalembic stamp head\n\n# Rollback y reaplicar\nalembic downgrade base\nalembic upgrade head\n</code></pre>"},{"location":"reference/troubleshooting/#resetear-base-de-datos","title":"Resetear base de datos","text":"<pre><code># \u00a1CUIDADO! Esto borra todos los datos\ndocker-compose down -v\ndocker-compose up -d\ncd backend\nsource venv/bin/activate\nalembic upgrade head\n</code></pre>"},{"location":"reference/troubleshooting/#problemas-de-conexion-frontend-backend","title":"\ud83c\udf10 Problemas de Conexi\u00f3n Frontend-Backend","text":""},{"location":"reference/troubleshooting/#cors-error","title":"CORS Error","text":"<p>S\u00edntoma: Error en consola del navegador: <code>Access-Control-Allow-Origin</code>.</p> <p>Soluci\u00f3n:</p> <p>Verificar <code>backend/.env</code>:</p> <pre><code>CORS_ORIGINS=http://localhost:3001,http://127.0.0.1:3001\n</code></pre> <p>Reiniciar el backend despu\u00e9s de cambiar.</p>"},{"location":"reference/troubleshooting/#connection-refused","title":"Connection Refused","text":"<p>S\u00edntoma: Frontend muestra error de conexi\u00f3n.</p> <p>Verificar:</p> <pre><code># Backend corriendo\ncurl http://localhost:8000/health\n\n# Puerto correcto en frontend\ncat frontend/.env\n# Debe tener REACT_APP_API_URL=http://localhost:8000\n</code></pre>"},{"location":"reference/troubleshooting/#websocket-no-conecta","title":"WebSocket no conecta","text":"<p>S\u00edntoma: Paquetes no aparecen en tiempo real.</p> <p>Soluci\u00f3n:</p> <ol> <li>Verificar que el backend est\u00e9 corriendo</li> <li>Revisar consola del navegador para errores</li> <li>Verificar firewall no bloquea WebSocket</li> </ol>"},{"location":"reference/troubleshooting/#problemas-de-autenticacion","title":"\ud83d\udd10 Problemas de Autenticaci\u00f3n","text":""},{"location":"reference/troubleshooting/#token-expirado-constantemente","title":"Token expirado constantemente","text":"<p>S\u00edntoma: Sesi\u00f3n se cierra frecuentemente.</p> <p>Causa: Tokens expiran despu\u00e9s de 30 minutos.</p> <p>Soluci\u00f3n: El frontend deber\u00eda renovar autom\u00e1ticamente. Si no funciona, verificar que el refresh token est\u00e9 guard\u00e1ndose correctamente.</p>"},{"location":"reference/troubleshooting/#no-puedo-crear-primer-usuario","title":"No puedo crear primer usuario","text":"<p>S\u00edntoma: Error al registrar.</p> <p>Verificar:</p> <pre><code># Base de datos accesible\npsql -h localhost -U postgres -d leireye -c \"SELECT 1\"\n\n# Migraciones aplicadas\ncd backend\nsource venv/bin/activate\nalembic current\n</code></pre>"},{"location":"reference/troubleshooting/#password-invalido","title":"Password inv\u00e1lido","text":"<p>Requisitos del password:</p> <ul> <li>M\u00ednimo 8 caracteres</li> <li>Al menos una may\u00fascula</li> <li>Al menos una min\u00fascula</li> <li>Al menos un n\u00famero</li> </ul> <p>Ejemplo v\u00e1lido: <code>Password123</code></p>"},{"location":"reference/troubleshooting/#problemas-con-ollama","title":"\ud83e\udd16 Problemas con Ollama","text":""},{"location":"reference/troubleshooting/#ollama-no-responde","title":"Ollama no responde","text":"<p>S\u00edntoma: Explicador IA no funciona.</p> <p>Soluci\u00f3n:</p> <pre><code># Verificar si est\u00e1 corriendo\ncurl http://localhost:11434/api/tags\n\n# Si no responde, iniciar\nollama serve\n\n# En otra terminal, verificar modelo\nollama list\n# Si no hay modelos\nollama pull llama3.2:3b\n</code></pre>"},{"location":"reference/troubleshooting/#respuestas-muy-lentas","title":"Respuestas muy lentas","text":"<p>Causa: Modelo grande o hardware limitado.</p> <p>Soluci\u00f3n:</p> <pre><code># Usar modelo m\u00e1s peque\u00f1o\nollama pull llama3.2:1b\n\n# Cambiar en configuraci\u00f3n\n# backend/app/core/config.py\nOLLAMA_MODEL = \"llama3.2:1b\"\n</code></pre>"},{"location":"reference/troubleshooting/#error-de-memoria","title":"Error de memoria","text":"<p>S\u00edntoma: Ollama se cierra o sistema se congela.</p> <p>Soluci\u00f3n:</p> <ol> <li>Cerrar otras aplicaciones</li> <li>Usar modelo m\u00e1s peque\u00f1o</li> <li>Aumentar swap si es posible</li> </ol>"},{"location":"reference/troubleshooting/#problemas-del-sistema","title":"\ud83d\udda5\ufe0f Problemas del Sistema","text":""},{"location":"reference/troubleshooting/#puerto-ya-en-uso","title":"Puerto ya en uso","text":"<p>S\u00edntoma: <code>Address already in use</code>.</p> <p>Soluci\u00f3n:</p> <pre><code># Ver qu\u00e9 usa el puerto\nlsof -i :8000\n\n# Matar el proceso\nkill $(lsof -t -i:8000)\n\n# O cambiar el puerto en la configuraci\u00f3n\n</code></pre>"},{"location":"reference/troubleshooting/#falta-de-espacio-en-disco","title":"Falta de espacio en disco","text":"<p>S\u00edntoma: Errores aleatorios, Docker no inicia.</p> <p>Soluci\u00f3n:</p> <pre><code># Ver espacio\ndf -h\n\n# Limpiar Docker\ndocker system prune -a\n\n# Limpiar logs viejos\nrm -rf backend/logs/*.log.old\n</code></pre>"},{"location":"reference/troubleshooting/#memoria-insuficiente","title":"Memoria insuficiente","text":"<p>S\u00edntoma: Sistema lento, procesos mueren.</p> <p>Soluci\u00f3n:</p> <ol> <li>Cerrar aplicaciones innecesarias</li> <li>Usar modelo Ollama m\u00e1s peque\u00f1o</li> <li>Reducir n\u00famero de paquetes en memoria</li> </ol>"},{"location":"reference/troubleshooting/#debugging","title":"\ud83d\udc1b Debugging","text":""},{"location":"reference/troubleshooting/#ver-logs-detallados","title":"Ver logs detallados","text":"<pre><code># Backend con debug\nDEBUG=true python run.py\n\n# Frontend con logs\nREACT_APP_DEBUG=true npm start\n</code></pre>"},{"location":"reference/troubleshooting/#verificar-estado-de-servicios","title":"Verificar estado de servicios","text":"<pre><code># Script de diagn\u00f3stico\necho \"=== Docker ===\"\ndocker-compose ps\n\necho \"=== Backend ===\"\ncurl -s http://localhost:8000/health | jq .\n\necho \"=== Frontend ===\"\ncurl -s -o /dev/null -w \"%{http_code}\" http://localhost:3001\n\necho \"=== Ollama ===\"\ncurl -s http://localhost:11434/api/tags | jq .models[].name\n\necho \"=== Puertos ===\"\nlsof -i :3001,:8000,:5432,:6379,:11434 2&gt;/dev/null | grep LISTEN\n</code></pre>"},{"location":"reference/troubleshooting/#reportar-un-bug","title":"Reportar un Bug","text":"<p>Si el problema persiste, incluye:</p> <ol> <li>Versi\u00f3n de LeirEye</li> <li>Sistema operativo</li> <li>Logs relevantes</li> <li>Pasos para reproducir</li> <li>Comportamiento esperado vs actual</li> </ol>"},{"location":"reference/troubleshooting/#tips-generales","title":"\ud83d\udca1 Tips Generales","text":"<p>Reiniciar es v\u00e1lido</p> <p>Si algo no funciona y no sabes por qu\u00e9: <pre><code>docker-compose down\ndocker-compose up -d\n# Reiniciar backend y frontend\n</code></pre></p> <p>Verificar logs siempre</p> <p>Los logs tienen la respuesta el 90% de las veces: <pre><code>docker-compose logs -f\n# Y la consola del navegador (F12)\n</code></pre></p> <p>Actualizar dependencias</p> <p>Muchos problemas se resuelven actualizando: <pre><code>cd backend &amp;&amp; pip install --upgrade -r requirements.txt\ncd frontend &amp;&amp; npm update\n</code></pre></p>"}]}